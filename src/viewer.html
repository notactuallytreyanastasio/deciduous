<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <meta name="title" content="Deciduous - Live Decision Graph Demo" />
    <meta name="description" content="Explore the live decision graph that documented the creation of Deciduous. Browse 520+ nodes across 6 views: DAG, Chains, Timeline, Graph, Roadmap, and Story." />
    <title>Deciduous - Live Decision Graph Demo</title>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://notactuallytreyanastasio.github.io/deciduous/demo/" />
    <meta property="og:title" content="Deciduous - Live Decision Graph Demo" />
    <meta property="og:description" content="Explore the live decision graph that documented the creation of Deciduous. Browse 520+ nodes across 6 views: DAG, Chains, Timeline, Graph, Roadmap, and Story." />
    <meta property="og:image" content="https://notactuallytreyanastasio.github.io/deciduous/demo/demo-og.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://notactuallytreyanastasio.github.io/deciduous/demo/" />
    <meta property="twitter:title" content="Deciduous - Live Decision Graph Demo" />
    <meta property="twitter:description" content="Browse 520+ decisions that built Deciduous. See goals, decisions, actions, and outcomes connected in an interactive graph." />
    <meta property="twitter:image" content="https://notactuallytreyanastasio.github.io/deciduous/demo/demo-og.png" />
    <script type="module" crossorigin>function bk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nb={exports:{}},Ms={},rb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),Ck=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),jk=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),Rk=Symbol.for("react.forward_ref"),Ik=Symbol.for("react.suspense"),Mk=Symbol.for("react.memo"),Nk=Symbol.for("react.lazy"),Jm=Symbol.iterator;function Pk(e){return e===null||typeof e!="object"?null:(e=Jm&&e[Jm]||e["@@iterator"],typeof e=="function"?e:null)}var ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob=Object.assign,ab={};function vi(e,t,n){this.props=e,this.context=t,this.refs=ab,this.updater=n||ib}vi.prototype.isReactComponent={};vi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sb(){}sb.prototype=vi.prototype;function pg(e,t,n){this.props=e,this.context=t,this.refs=ab,this.updater=n||ib}var gg=pg.prototype=new sb;gg.constructor=pg;ob(gg,vi.prototype);gg.isPureReactComponent=!0;var Zm=Array.isArray,lb=Object.prototype.hasOwnProperty,mg={current:null},ub={key:!0,ref:!0,__self:!0,__source:!0};function cb(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)lb.call(t,r)&&!ub.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:zo,type:e,key:o,ref:a,props:i,_owner:mg.current}}function Ak(e,t){return{$$typeof:zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vg(e){return typeof e=="object"&&e!==null&&e.$$typeof===zo}function Lk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ev=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lk(""+e.key):t.toString(36)}function Ra(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case zo:case Sk:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Cl(a,0):r,Zm(i)?(n="",e!=null&&(n=e.replace(ev,"$&/")+"/"),Ra(i,t,n,"",function(c){return c})):i!=null&&(vg(i)&&(i=Ak(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ev,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Zm(e))for(var s=0;s<e.length;s++){o=e[s];var u=r+Cl(o,s);a+=Ra(o,t,n,u,i)}else if(u=Pk(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=r+Cl(o,s++),a+=Ra(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ea(e,t,n){if(e==null)return e;var r=[],i=0;return Ra(e,r,"","",function(o){return t.call(n,o,i++)}),r}function zk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},Ia={transition:null},Ok={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Ia,ReactCurrentOwner:mg};function db(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ea,forEach:function(e,t,n){ea(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ea(e,function(){t++}),t},toArray:function(e){return ea(e,function(t){return t})||[]},only:function(e){if(!vg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=vi;ne.Fragment=Ck;ne.Profiler=jk;ne.PureComponent=pg;ne.StrictMode=kk;ne.Suspense=Ik;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;ne.act=db;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ob({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=mg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)lb.call(t,u)&&!ub.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:zo,type:e.type,key:i,ref:o,props:r,_owner:a}};ne.createContext=function(e){return e={$$typeof:Tk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ek,_context:e},e.Consumer=e};ne.createElement=cb;ne.createFactory=function(e){var t=cb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Rk,render:e}};ne.isValidElement=vg;ne.lazy=function(e){return{$$typeof:Nk,_payload:{_status:-1,_result:e},_init:zk}};ne.memo=function(e,t){return{$$typeof:Mk,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ia.transition;Ia.transition={};try{e()}finally{Ia.transition=t}};ne.unstable_act=db;ne.useCallback=function(e,t){return Je.current.useCallback(e,t)};ne.useContext=function(e){return Je.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Je.current.useEffect(e,t)};ne.useId=function(){return Je.current.useId()};ne.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Je.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ne.useRef=function(e){return Je.current.useRef(e)};ne.useState=function(e){return Je.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Je.current.useTransition()};ne.version="18.3.1";rb.exports=ne;var C=rb.exports;const yg=tb(C),Dk=bk({__proto__:null,default:yg},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk=C,Bk=Symbol.for("react.element"),Fk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Uk=qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wk={key:!0,ref:!0,__self:!0,__source:!0};function fb(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)$k.call(t,r)&&!Wk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Bk,type:e,key:o,ref:a,props:i,_owner:Uk.current}}Ms.Fragment=Fk;Ms.jsx=fb;Ms.jsxs=fb;nb.exports=Ms;var l=nb.exports,rp={},hb={exports:{}},gt={},pb={exports:{}},gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var z=A.length;A.push(O);e:for(;0<z;){var B=z-1>>>1,W=A[B];if(0<i(W,O))A[B]=O,A[z]=W,z=B;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],z=A.pop();if(z!==O){A[0]=z;e:for(var B=0,W=A.length,ce=W>>>1;B<ce;){var re=2*(B+1)-1,pe=A[re],oe=re+1,K=A[oe];if(0>i(pe,z))oe<W&&0>i(K,pe)?(A[B]=K,A[oe]=z,B=oe):(A[B]=pe,A[re]=z,B=re);else if(oe<W&&0>i(K,z))A[B]=K,A[oe]=z,B=oe;else break e}}return O}function i(A,O){var z=A.sortIndex-O.sortIndex;return z!==0?z:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],c=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=A)r(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function b(A){if(m=!1,w(A),!y)if(n(u)!==null)y=!0,L(S);else{var O=n(c);O!==null&&F(b,O.startTime-A)}}function S(A,O){y=!1,m&&(m=!1,g(k),k=-1),p=!0;var z=h;try{for(w(O),f=n(u);f!==null&&(!(f.expirationTime>O)||A&&!I());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var W=B(f.expirationTime<=O);O=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),w(O)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var re=n(c);re!==null&&F(b,re.startTime-O),ce=!1}return ce}finally{f=null,h=z,p=!1}}var j=!1,x=null,k=-1,T=5,E=-1;function I(){return!(e.unstable_now()-E<T)}function N(){if(x!==null){var A=e.unstable_now();E=A;var O=!0;try{O=x(!0,A)}finally{O?M():(j=!1,x=null)}}else j=!1}var M;if(typeof v=="function")M=function(){v(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,M=function(){D.postMessage(null)}}else M=function(){_(N,0)};function L(A){x=A,j||(j=!0,M())}function F(A,O){k=_(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,L(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var z=h;h=O;try{return A()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=h;h=A;try{return O()}finally{h=z}},e.unstable_scheduleCallback=function(A,O,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,A){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,A={id:d++,callback:O,priorityLevel:A,startTime:z,expirationTime:W,sortIndex:-1},z>B?(A.sortIndex=z,t(c,A),n(u)===null&&A===n(c)&&(m?(g(k),k=-1):m=!0,F(b,z-B))):(A.sortIndex=W,t(u,A),y||p||(y=!0,L(S))),A},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(A){var O=h;return function(){var z=h;h=O;try{return A.apply(this,arguments)}finally{h=z}}}})(gb);pb.exports=gb;var Hk=pb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk=C,ht=Hk;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mb=new Set,fo={};function Cr(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(fo[e]=t,e=0;e<t.length;e++)mb.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,Vk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tv={},nv={};function Yk(e){return ip.call(nv,e)?!0:ip.call(tv,e)?!1:Vk.test(e)?nv[e]=!0:(tv[e]=!0,!1)}function Kk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xk(e,t,n,r){if(t===null||typeof t>"u"||Kk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var xg=/[\-:]([a-z])/g;function _g(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xg,_g);Be[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xg,_g);Be[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xg,_g);Be[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function wg(e,t,n,r){var i=Be.hasOwnProperty(t)?Be[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xk(t,n,i,r)&&(n=null),r||i===null?Yk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=Gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ta=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),yb=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),xb=Symbol.for("react.offscreen"),rv=Symbol.iterator;function Mi(e){return e===null||typeof e!="object"?null:(e=rv&&e[rv]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,kl;function Wi(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var jl=!1;function El(e,t){if(!e||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wi(e):""}function Qk(e){switch(e.tag){case 5:return Wi(e.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function lp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case $r:return"Portal";case op:return"Profiler";case bg:return"StrictMode";case ap:return"Suspense";case sp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yb:return(e.displayName||"Context")+".Consumer";case vb:return(e._context.displayName||"Context")+".Provider";case Sg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cg:return t=e.displayName||null,t!==null?t:lp(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return lp(e(t))}catch{}}return null}function Jk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(t);case 8:return t===bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _b(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zk(e){var t=_b(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function na(e){e._valueTracker||(e._valueTracker=Zk(e))}function wb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_b(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function up(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bb(e,t){t=t.checked,t!=null&&wg(e,"checked",t,!1)}function cp(e,t){bb(e,t);var n=Vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dp(e,t.type,n):t.hasOwnProperty("defaultValue")&&dp(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ov(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dp(e,t,n){(t!=="number"||Va(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hi=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function av(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Hi(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function Sb(e,t){var n=Vn(t.value),r=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ra,kb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ra=ra||document.createElement("div"),ra.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ra.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ej=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(e){ej.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),no[t]=no[e]})});function jb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||no.hasOwnProperty(e)&&no[e]?(""+t).trim():t+"px"}function Eb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tj=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(e,t){if(t){if(tj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function kg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vp=null,ti=null,ni=null;function lv(e){if(e=qo(e)){if(typeof vp!="function")throw Error(q(280));var t=e.stateNode;t&&(t=zs(t),vp(e.stateNode,e.type,t))}}function Tb(e){ti?ni?ni.push(e):ni=[e]:ti=e}function Rb(){if(ti){var e=ti,t=ni;if(ni=ti=null,lv(e),t)for(e=0;e<t.length;e++)lv(t[e])}}function Ib(e,t){return e(t)}function Mb(){}var Tl=!1;function Nb(e,t,n){if(Tl)return e(t,n);Tl=!0;try{return Ib(e,t,n)}finally{Tl=!1,(ti!==null||ni!==null)&&(Mb(),Rb())}}function po(e,t){var n=e.stateNode;if(n===null)return null;var r=zs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var yp=!1;if(pn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){yp=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{yp=!1}function nj(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ro=!1,Ya=null,Ka=!1,xp=null,rj={onError:function(e){ro=!0,Ya=e}};function ij(e,t,n,r,i,o,a,s,u){ro=!1,Ya=null,nj.apply(rj,arguments)}function oj(e,t,n,r,i,o,a,s,u){if(ij.apply(this,arguments),ro){if(ro){var c=Ya;ro=!1,Ya=null}else throw Error(q(198));Ka||(Ka=!0,xp=c)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uv(e){if(kr(e)!==e)throw Error(q(188))}function aj(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uv(i),e;if(o===r)return uv(i),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Ab(e){return e=aj(e),e!==null?Lb(e):null}function Lb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lb(e);if(t!==null)return t;e=e.sibling}return null}var zb=ht.unstable_scheduleCallback,cv=ht.unstable_cancelCallback,sj=ht.unstable_shouldYield,lj=ht.unstable_requestPaint,ke=ht.unstable_now,uj=ht.unstable_getCurrentPriorityLevel,jg=ht.unstable_ImmediatePriority,Ob=ht.unstable_UserBlockingPriority,Xa=ht.unstable_NormalPriority,cj=ht.unstable_LowPriority,Db=ht.unstable_IdlePriority,Ns=null,Vt=null;function dj(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:pj,fj=Math.log,hj=Math.LN2;function pj(e){return e>>>=0,e===0?32:31-(fj(e)/hj|0)|0}var ia=64,oa=4194304;function Gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Gi(s):(o&=a,o!==0&&(r=Gi(o)))}else a=n&~i,a!==0?r=Gi(a):o!==0&&(r=Gi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),i=1<<n,r|=e[n],t&=~i;return r}function gj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Nt(o),s=1<<a,u=i[a];u===-1?(!(s&n)||s&r)&&(i[a]=gj(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}function _p(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qb(){var e=ia;return ia<<=1,!(ia&4194240)&&(ia=64),e}function Rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function vj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Eg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Bb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fb,Tg,$b,Ub,Wb,wp=!1,aa=[],On=null,Dn=null,qn=null,go=new Map,mo=new Map,In=[],yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dv(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function Pi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qo(t),t!==null&&Tg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xj(e,t,n,r,i){switch(t){case"focusin":return On=Pi(On,e,t,n,r,i),!0;case"dragenter":return Dn=Pi(Dn,e,t,n,r,i),!0;case"mouseover":return qn=Pi(qn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return go.set(o,Pi(go.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mo.set(o,Pi(mo.get(o)||null,e,t,n,r,i)),!0}return!1}function Hb(e){var t=sr(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Pb(n),t!==null){e.blockedOn=t,Wb(e.priority,function(){$b(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mp=r,n.target.dispatchEvent(r),mp=null}else return t=qo(n),t!==null&&Tg(t),e.blockedOn=n,!1;t.shift()}return!0}function fv(e,t,n){Ma(e)&&n.delete(t)}function _j(){wp=!1,On!==null&&Ma(On)&&(On=null),Dn!==null&&Ma(Dn)&&(Dn=null),qn!==null&&Ma(qn)&&(qn=null),go.forEach(fv),mo.forEach(fv)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,wp||(wp=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,_j)))}function vo(e){function t(i){return Ai(i,e)}if(0<aa.length){Ai(aa[0],e);for(var n=1;n<aa.length;n++){var r=aa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&Ai(On,e),Dn!==null&&Ai(Dn,e),qn!==null&&Ai(qn,e),go.forEach(t),mo.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)Hb(n),n.blockedOn===null&&In.shift()}var ri=_n.ReactCurrentBatchConfig,Ja=!0;function wj(e,t,n,r){var i=fe,o=ri.transition;ri.transition=null;try{fe=1,Rg(e,t,n,r)}finally{fe=i,ri.transition=o}}function bj(e,t,n,r){var i=fe,o=ri.transition;ri.transition=null;try{fe=4,Rg(e,t,n,r)}finally{fe=i,ri.transition=o}}function Rg(e,t,n,r){if(Ja){var i=bp(e,t,n,r);if(i===null)ql(e,t,r,Za,n),dv(e,r);else if(xj(i,e,t,n,r))r.stopPropagation();else if(dv(e,r),t&4&&-1<yj.indexOf(e)){for(;i!==null;){var o=qo(i);if(o!==null&&Fb(o),o=bp(e,t,n,r),o===null&&ql(e,t,r,Za,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Za=null;function bp(e,t,n,r){if(Za=null,e=kg(r),e=sr(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Za=e,null}function Gb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uj()){case jg:return 1;case Ob:return 4;case Xa:case cj:return 16;case Db:return 536870912;default:return 16}default:return 16}}var Pn=null,Ig=null,Na=null;function Vb(){if(Na)return Na;var e,t=Ig,n=t.length,r,i="value"in Pn?Pn.value:Pn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Na=i.slice(e,1<r?1-r:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function hv(){return!1}function mt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sa:hv,this.isPropagationStopped=hv,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mg=mt(yi),Do=Se({},yi,{view:0,detail:0}),Sj=mt(Do),Il,Ml,Li,Ps=Se({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Il=e.screenX-Li.screenX,Ml=e.screenY-Li.screenY):Ml=Il=0,Li=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),pv=mt(Ps),Cj=Se({},Ps,{dataTransfer:0}),kj=mt(Cj),jj=Se({},Do,{relatedTarget:0}),Nl=mt(jj),Ej=Se({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tj=mt(Ej),Rj=Se({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ij=mt(Rj),Mj=Se({},yi,{data:0}),gv=mt(Mj),Nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Aj[e])?!!t[e]:!1}function Ng(){return Lj}var zj=Se({},Do,{key:function(e){if(e.key){var t=Nj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oj=mt(zj),Dj=Se({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=mt(Dj),qj=Se({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),Bj=mt(qj),Fj=Se({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$j=mt(Fj),Uj=Se({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wj=mt(Uj),Hj=[9,13,27,32],Pg=pn&&"CompositionEvent"in window,io=null;pn&&"documentMode"in document&&(io=document.documentMode);var Gj=pn&&"TextEvent"in window&&!io,Yb=pn&&(!Pg||io&&8<io&&11>=io),vv=" ",yv=!1;function Kb(e,t){switch(e){case"keyup":return Hj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Vj(e,t){switch(e){case"compositionend":return Xb(t);case"keypress":return t.which!==32?null:(yv=!0,vv);case"textInput":return e=t.data,e===vv&&yv?null:e;default:return null}}function Yj(e,t){if(Wr)return e==="compositionend"||!Pg&&Kb(e,t)?(e=Vb(),Na=Ig=Pn=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yb&&t.locale!=="ko"?null:t.data;default:return null}}var Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kj[e.type]:t==="textarea"}function Qb(e,t,n,r){Tb(r),t=es(t,"onChange"),0<t.length&&(n=new Mg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oo=null,yo=null;function Xj(e){lS(e,0)}function As(e){var t=Vr(e);if(wb(t))return e}function Qj(e,t){if(e==="change")return t}var Jb=!1;if(pn){var Pl;if(pn){var Al="oninput"in document;if(!Al){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Al=typeof _v.oninput=="function"}Pl=Al}else Pl=!1;Jb=Pl&&(!document.documentMode||9<document.documentMode)}function wv(){oo&&(oo.detachEvent("onpropertychange",Zb),yo=oo=null)}function Zb(e){if(e.propertyName==="value"&&As(yo)){var t=[];Qb(t,yo,e,kg(e)),Nb(Xj,t)}}function Jj(e,t,n){e==="focusin"?(wv(),oo=t,yo=n,oo.attachEvent("onpropertychange",Zb)):e==="focusout"&&wv()}function Zj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(yo)}function eE(e,t){if(e==="click")return As(t)}function tE(e,t){if(e==="input"||e==="change")return As(t)}function nE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:nE;function xo(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ip.call(t,i)||!At(e[i],t[i]))return!1}return!0}function bv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sv(e,t){var n=bv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bv(n)}}function eS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tS(){for(var e=window,t=Va();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Va(e.document)}return t}function Ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rE(e){var t=tS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eS(n.ownerDocument.documentElement,n)){if(r!==null&&Ag(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Sv(n,o);var a=Sv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iE=pn&&"documentMode"in document&&11>=document.documentMode,Hr=null,Sp=null,ao=null,Cp=!1;function Cv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||Hr==null||Hr!==Va(r)||(r=Hr,"selectionStart"in r&&Ag(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ao&&xo(ao,r)||(ao=r,r=es(Sp,"onSelect"),0<r.length&&(t=new Mg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hr)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gr={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},Ll={},nS={};pn&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Ls(e){if(Ll[e])return Ll[e];if(!Gr[e])return e;var t=Gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nS)return Ll[e]=t[n];return e}var rS=Ls("animationend"),iS=Ls("animationiteration"),oS=Ls("animationstart"),aS=Ls("transitionend"),sS=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){sS.set(e,t),Cr(t,[e])}for(var zl=0;zl<kv.length;zl++){var Ol=kv[zl],oE=Ol.toLowerCase(),aE=Ol[0].toUpperCase()+Ol.slice(1);Qn(oE,"on"+aE)}Qn(rS,"onAnimationEnd");Qn(iS,"onAnimationIteration");Qn(oS,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(aS,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function jv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oj(r,t,void 0,e),e.currentTarget=null}function lS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jv(i,s,c),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jv(i,s,c),o=u}}}if(Ka)throw e=xp,Ka=!1,xp=null,e}function ve(e,t){var n=t[Rp];n===void 0&&(n=t[Rp]=new Set);var r=e+"__bubble";n.has(r)||(uS(t,e,2,!1),n.add(r))}function Dl(e,t,n){var r=0;t&&(r|=4),uS(n,e,r,t)}var ua="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[ua]){e[ua]=!0,mb.forEach(function(n){n!=="selectionchange"&&(sE.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ua]||(t[ua]=!0,Dl("selectionchange",!1,t))}}function uS(e,t,n,r){switch(Gb(t)){case 1:var i=wj;break;case 4:i=bj;break;default:i=Rg}n=i.bind(null,t,n,e),i=void 0,!yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=sr(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Nb(function(){var c=o,d=kg(n),f=[];e:{var h=sS.get(e);if(h!==void 0){var p=Mg,y=e;switch(e){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":p=Oj;break;case"focusin":y="focus",p=Nl;break;case"focusout":y="blur",p=Nl;break;case"beforeblur":case"afterblur":p=Nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bj;break;case rS:case iS:case oS:p=Tj;break;case aS:p=$j;break;case"scroll":p=Sj;break;case"wheel":p=Wj;break;case"copy":case"cut":case"paste":p=Ij;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mv}var m=(t&4)!==0,_=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=po(v,g),b!=null&&m.push(wo(v,b,w)))),_)break;v=v.return}0<m.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==mp&&(y=n.relatedTarget||n.fromElement)&&(sr(y)||y[gn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?sr(y):null,y!==null&&(_=kr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(m=pv,b="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=mv,b="onPointerLeave",g="onPointerEnter",v="pointer"),_=p==null?h:Vr(p),w=y==null?h:Vr(y),h=new m(b,v+"leave",p,n,d),h.target=_,h.relatedTarget=w,b=null,sr(d)===c&&(m=new m(g,v+"enter",y,n,d),m.target=w,m.relatedTarget=_,b=m),_=b,p&&y)t:{for(m=p,g=y,v=0,w=m;w;w=zr(w))v++;for(w=0,b=g;b;b=zr(b))w++;for(;0<v-w;)m=zr(m),v--;for(;0<w-v;)g=zr(g),w--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=zr(m),g=zr(g)}m=null}else m=null;p!==null&&Ev(f,h,p,m,!1),y!==null&&_!==null&&Ev(f,_,y,m,!0)}}e:{if(h=c?Vr(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=Qj;else if(xv(h))if(Jb)S=tE;else{S=Zj;var j=Jj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=eE);if(S&&(S=S(e,c))){Qb(f,S,n,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&dp(h,"number",h.value)}switch(j=c?Vr(c):window,e){case"focusin":(xv(j)||j.contentEditable==="true")&&(Hr=j,Sp=c,ao=null);break;case"focusout":ao=Sp=Hr=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Cv(f,n,d);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":Cv(f,n,d)}var x;if(Pg)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wr?Kb(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Yb&&n.locale!=="ko"&&(Wr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wr&&(x=Vb()):(Pn=d,Ig="value"in Pn?Pn.value:Pn.textContent,Wr=!0)),j=es(c,k),0<j.length&&(k=new gv(k,e,null,n,d),f.push({event:k,listeners:j}),x?k.data=x:(x=Xb(n),x!==null&&(k.data=x)))),(x=Gj?Vj(e,n):Yj(e,n))&&(c=es(c,"onBeforeInput"),0<c.length&&(d=new gv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=x))}lS(f,t)})}function wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function es(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=po(e,n),o!=null&&r.unshift(wo(e,o,i)),o=po(e,t),o!=null&&r.push(wo(e,o,i))),e=e.return}return r}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ev(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&c!==null&&(s=c,i?(u=po(n,o),u!=null&&a.unshift(wo(n,u,s))):i||(u=po(n,o),u!=null&&a.push(wo(n,u,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(lE,`
`).replace(uE,"")}function ca(e,t,n){if(t=Tv(t),Tv(e)!==t&&n)throw Error(q(425))}function ts(){}var kp=null,jp=null;function Ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(e){return Rv.resolve(null).then(e).catch(fE)}:Tp;function fE(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vo(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+xi,bo="__reactProps$"+xi,gn="__reactContainer$"+xi,Rp="__reactEvents$"+xi,hE="__reactListeners$"+xi,pE="__reactHandles$"+xi;function sr(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iv(e);e!==null;){if(n=e[Ht])return n;e=Iv(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[Ht]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function zs(e){return e[bo]||null}var Ip=[],Yr=-1;function Jn(e){return{current:e}}function ye(e){0>Yr||(e.current=Ip[Yr],Ip[Yr]=null,Yr--)}function me(e,t){Yr++,Ip[Yr]=e.current,e.current=t}var Yn={},We=Jn(Yn),it=Jn(!1),mr=Yn;function ui(e,t){var n=e.type.contextTypes;if(!n)return Yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function ns(){ye(it),ye(We)}function Mv(e,t,n){if(We.current!==Yn)throw Error(q(168));me(We,t),me(it,n)}function cS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(q(108,Jk(e)||"Unknown",i));return Se({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,mr=We.current,me(We,e),me(it,it.current),!0}function Nv(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=cS(e,t,mr),r.__reactInternalMemoizedMergedChildContext=e,ye(it),ye(We),me(We,e)):ye(it),me(it,n)}var sn=null,Os=!1,Fl=!1;function dS(e){sn===null?sn=[e]:sn.push(e)}function gE(e){Os=!0,dS(e)}function Zn(){if(!Fl&&sn!==null){Fl=!0;var e=0,t=fe;try{var n=sn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Os=!1}catch(i){throw sn!==null&&(sn=sn.slice(e+1)),zb(jg,Zn),i}finally{fe=t,Fl=!1}}return null}var Kr=[],Xr=0,is=null,os=0,yt=[],xt=0,vr=null,ln=1,un="";function ir(e,t){Kr[Xr++]=os,Kr[Xr++]=is,is=e,os=t}function fS(e,t,n){yt[xt++]=ln,yt[xt++]=un,yt[xt++]=vr,vr=e;var r=ln;e=un;var i=32-Nt(r)-1;r&=~(1<<i),n+=1;var o=32-Nt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ln=1<<32-Nt(t)+i|n<<i|r,un=o+e}else ln=1<<o|n<<i|r,un=e}function Lg(e){e.return!==null&&(ir(e,1),fS(e,1,0))}function zg(e){for(;e===is;)is=Kr[--Xr],Kr[Xr]=null,os=Kr[--Xr],Kr[Xr]=null;for(;e===vr;)vr=yt[--xt],yt[xt]=null,un=yt[--xt],yt[xt]=null,ln=yt[--xt],yt[xt]=null}var ft=null,dt=null,xe=!1,It=null;function hS(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vr!==null?{id:ln,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function Mp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Np(e){if(xe){var t=dt;if(t){var n=t;if(!Pv(e,t)){if(Mp(e))throw Error(q(418));t=Bn(n.nextSibling);var r=ft;t&&Pv(e,t)?hS(r,n):(e.flags=e.flags&-4097|2,xe=!1,ft=e)}}else{if(Mp(e))throw Error(q(418));e.flags=e.flags&-4097|2,xe=!1,ft=e}}}function Av(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function da(e){if(e!==ft)return!1;if(!xe)return Av(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ep(e.type,e.memoizedProps)),t&&(t=dt)){if(Mp(e))throw pS(),Error(q(418));for(;t;)hS(e,t),t=Bn(t.nextSibling)}if(Av(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?Bn(e.stateNode.nextSibling):null;return!0}function pS(){for(var e=dt;e;)e=Bn(e.nextSibling)}function ci(){dt=ft=null,xe=!1}function Og(e){It===null?It=[e]:It.push(e)}var mE=_n.ReactCurrentBatchConfig;function zi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lv(e){var t=e._init;return t(e._payload)}function gS(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Wn(g,v),g.index=0,g.sibling=null,g}function o(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,v,w,b){return v===null||v.tag!==6?(v=Yl(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function u(g,v,w,b){var S=w.type;return S===Ur?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===En&&Lv(S)===v.type)?(b=i(v,w.props),b.ref=zi(g,v,w),b.return=g,b):(b=Ba(w.type,w.key,w.props,null,g.mode,b),b.ref=zi(g,v,w),b.return=g,b)}function c(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Kl(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,S){return v===null||v.tag!==7?(v=hr(w,g.mode,b,S),v.return=g,v):(v=i(v,w),v.return=g,v)}function f(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yl(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ta:return w=Ba(v.type,v.key,v.props,null,g.mode,w),w.ref=zi(g,null,v),w.return=g,w;case $r:return v=Kl(v,g.mode,w),v.return=g,v;case En:var b=v._init;return f(g,b(v._payload),w)}if(Hi(v)||Mi(v))return v=hr(v,g.mode,w,null),v.return=g,v;fa(g,v)}return null}function h(g,v,w,b){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ta:return w.key===S?u(g,v,w,b):null;case $r:return w.key===S?c(g,v,w,b):null;case En:return S=w._init,h(g,v,S(w._payload),b)}if(Hi(w)||Mi(w))return S!==null?null:d(g,v,w,b,null);fa(g,w)}return null}function p(g,v,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,s(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ta:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,S);case $r:return g=g.get(b.key===null?w:b.key)||null,c(v,g,b,S);case En:var j=b._init;return p(g,v,w,j(b._payload),S)}if(Hi(b)||Mi(b))return g=g.get(w)||null,d(v,g,b,S,null);fa(v,b)}return null}function y(g,v,w,b){for(var S=null,j=null,x=v,k=v=0,T=null;x!==null&&k<w.length;k++){x.index>k?(T=x,x=null):T=x.sibling;var E=h(g,x,w[k],b);if(E===null){x===null&&(x=T);break}e&&x&&E.alternate===null&&t(g,x),v=o(E,v,k),j===null?S=E:j.sibling=E,j=E,x=T}if(k===w.length)return n(g,x),xe&&ir(g,k),S;if(x===null){for(;k<w.length;k++)x=f(g,w[k],b),x!==null&&(v=o(x,v,k),j===null?S=x:j.sibling=x,j=x);return xe&&ir(g,k),S}for(x=r(g,x);k<w.length;k++)T=p(x,g,k,w[k],b),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?k:T.key),v=o(T,v,k),j===null?S=T:j.sibling=T,j=T);return e&&x.forEach(function(I){return t(g,I)}),xe&&ir(g,k),S}function m(g,v,w,b){var S=Mi(w);if(typeof S!="function")throw Error(q(150));if(w=S.call(w),w==null)throw Error(q(151));for(var j=S=null,x=v,k=v=0,T=null,E=w.next();x!==null&&!E.done;k++,E=w.next()){x.index>k?(T=x,x=null):T=x.sibling;var I=h(g,x,E.value,b);if(I===null){x===null&&(x=T);break}e&&x&&I.alternate===null&&t(g,x),v=o(I,v,k),j===null?S=I:j.sibling=I,j=I,x=T}if(E.done)return n(g,x),xe&&ir(g,k),S;if(x===null){for(;!E.done;k++,E=w.next())E=f(g,E.value,b),E!==null&&(v=o(E,v,k),j===null?S=E:j.sibling=E,j=E);return xe&&ir(g,k),S}for(x=r(g,x);!E.done;k++,E=w.next())E=p(x,g,k,E.value,b),E!==null&&(e&&E.alternate!==null&&x.delete(E.key===null?k:E.key),v=o(E,v,k),j===null?S=E:j.sibling=E,j=E);return e&&x.forEach(function(N){return t(g,N)}),xe&&ir(g,k),S}function _(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===Ur&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ta:e:{for(var S=w.key,j=v;j!==null;){if(j.key===S){if(S=w.type,S===Ur){if(j.tag===7){n(g,j.sibling),v=i(j,w.props.children),v.return=g,g=v;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===En&&Lv(S)===j.type){n(g,j.sibling),v=i(j,w.props),v.ref=zi(g,j,w),v.return=g,g=v;break e}n(g,j);break}else t(g,j);j=j.sibling}w.type===Ur?(v=hr(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=Ba(w.type,w.key,w.props,null,g.mode,b),b.ref=zi(g,v,w),b.return=g,g=b)}return a(g);case $r:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Kl(w,g.mode,b),v.return=g,g=v}return a(g);case En:return j=w._init,_(g,v,j(w._payload),b)}if(Hi(w))return y(g,v,w,b);if(Mi(w))return m(g,v,w,b);fa(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=Yl(w,g.mode,b),v.return=g,g=v),a(g)):n(g,v)}return _}var di=gS(!0),mS=gS(!1),as=Jn(null),ss=null,Qr=null,Dg=null;function qg(){Dg=Qr=ss=null}function Bg(e){var t=as.current;ye(as),e._currentValue=t}function Pp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ii(e,t){ss=e,Dg=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(Dg!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(ss===null)throw Error(q(308));Qr=e,ss.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var lr=null;function Fg(e){lr===null?lr=[e]:lr.push(e)}function vS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Fg(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function $g(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,Fg(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function Aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eg(e,n)}}function zv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,r){var i=e.updateQueue;Tn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,d=c=u=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,m=s;switch(h=t,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Se({},f,h);break e;case 2:Tn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);xr|=a,e.lanes=a,e.memoizedState=f}}function Ov(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Bo={},Yt=Jn(Bo),So=Jn(Bo),Co=Jn(Bo);function ur(e){if(e===Bo)throw Error(q(174));return e}function Ug(e,t){switch(me(Co,t),me(So,e),me(Yt,Bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hp(t,e)}ye(Yt),me(Yt,t)}function fi(){ye(Yt),ye(So),ye(Co)}function xS(e){ur(Co.current);var t=ur(Yt.current),n=hp(t,e.type);t!==n&&(me(So,e),me(Yt,n))}function Wg(e){So.current===e&&(ye(Yt),ye(So))}var we=Jn(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function Hg(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var La=_n.ReactCurrentDispatcher,Ul=_n.ReactCurrentBatchConfig,yr=0,be=null,Ne=null,Ae=null,cs=!1,so=!1,ko=0,vE=0;function Fe(){throw Error(q(321))}function Gg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Vg(e,t,n,r,i,o){if(yr=o,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=e===null||e.memoizedState===null?wE:bE,e=n(r,i),so){o=0;do{if(so=!1,ko=0,25<=o)throw Error(q(301));o+=1,Ae=Ne=null,t.updateQueue=null,La.current=SE,e=n(r,i)}while(so)}if(La.current=ds,t=Ne!==null&&Ne.next!==null,yr=0,Ae=Ne=be=null,cs=!1,t)throw Error(q(300));return e}function Yg(){var e=ko!==0;return ko=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?be.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function St(){if(Ne===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ae===null?be.memoizedState:Ae.next;if(t!==null)Ae=t,Ne=e;else{if(e===null)throw Error(q(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ae===null?be.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function jo(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=St(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Ne,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,c=o;do{var d=c.lane;if((yr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(s=u=f,a=r):u=u.next=f,be.lanes|=d,xr|=d}c=c.next}while(c!==null&&c!==o);u===null?a=r:u.next=s,At(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,be.lanes|=o,xr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hl(e){var t=St(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);At(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _S(){}function wS(e,t){var n=be,r=St(),i=t(),o=!At(r.memoizedState,i);if(o&&(r.memoizedState=i,nt=!0),r=r.queue,Kg(CS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Eo(9,SS.bind(null,n,r,i,t),void 0,null),Le===null)throw Error(q(349));yr&30||bS(n,t,i)}return i}function bS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function SS(e,t,n,r){t.value=n,t.getSnapshot=r,kS(t)&&jS(e)}function CS(e,t,n){return n(function(){kS(t)&&jS(e)})}function kS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function jS(e){var t=mn(e,1);t!==null&&Pt(t,e,1,-1)}function Dv(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=_E.bind(null,be,e),[t.memoizedState,e]}function Eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ES(){return St().memoizedState}function za(e,t,n,r){var i=Wt();be.flags|=e,i.memoizedState=Eo(1|t,n,void 0,r===void 0?null:r)}function Ds(e,t,n,r){var i=St();r=r===void 0?null:r;var o=void 0;if(Ne!==null){var a=Ne.memoizedState;if(o=a.destroy,r!==null&&Gg(r,a.deps)){i.memoizedState=Eo(t,n,o,r);return}}be.flags|=e,i.memoizedState=Eo(1|t,n,o,r)}function qv(e,t){return za(8390656,8,e,t)}function Kg(e,t){return Ds(2048,8,e,t)}function TS(e,t){return Ds(4,2,e,t)}function RS(e,t){return Ds(4,4,e,t)}function IS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MS(e,t,n){return n=n!=null?n.concat([e]):null,Ds(4,4,IS.bind(null,t,e),n)}function Xg(){}function NS(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PS(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AS(e,t,n){return yr&21?(At(n,t)||(n=qb(),be.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function yE(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Ul.transition;Ul.transition={};try{e(!1),t()}finally{fe=n,Ul.transition=r}}function LS(){return St().memoizedState}function xE(e,t,n){var r=Un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zS(e))OS(t,n);else if(n=vS(e,t,n,r),n!==null){var i=Qe();Pt(n,e,r,i),DS(n,t,r)}}function _E(e,t,n){var r=Un(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zS(e))OS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,At(s,a)){var u=t.interleaved;u===null?(i.next=i,Fg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=vS(e,t,i,r),n!==null&&(i=Qe(),Pt(n,e,r,i),DS(n,t,r))}}function zS(e){var t=e.alternate;return e===be||t!==null&&t===be}function OS(e,t){so=cs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eg(e,n)}}var ds={readContext:bt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},wE={readContext:bt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:qv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,za(4194308,4,IS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xE.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Dv,useDebugValue:Xg,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Dv(!1),t=e[0];return e=yE.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=be,i=Wt();if(xe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Le===null)throw Error(q(349));yr&30||bS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qv(CS.bind(null,r,o,e),[e]),r.flags|=2048,Eo(9,SS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Le.identifierPrefix;if(xe){var n=un,r=ln;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bE={readContext:bt,useCallback:NS,useContext:bt,useEffect:Kg,useImperativeHandle:MS,useInsertionEffect:TS,useLayoutEffect:RS,useMemo:PS,useReducer:Wl,useRef:ES,useState:function(){return Wl(jo)},useDebugValue:Xg,useDeferredValue:function(e){var t=St();return AS(t,Ne.memoizedState,e)},useTransition:function(){var e=Wl(jo)[0],t=St().memoizedState;return[e,t]},useMutableSource:_S,useSyncExternalStore:wS,useId:LS,unstable_isNewReconciler:!1},SE={readContext:bt,useCallback:NS,useContext:bt,useEffect:Kg,useImperativeHandle:MS,useInsertionEffect:TS,useLayoutEffect:RS,useMemo:PS,useReducer:Hl,useRef:ES,useState:function(){return Hl(jo)},useDebugValue:Xg,useDeferredValue:function(e){var t=St();return Ne===null?t.memoizedState=e:AS(t,Ne.memoizedState,e)},useTransition:function(){var e=Hl(jo)[0],t=St().memoizedState;return[e,t]},useMutableSource:_S,useSyncExternalStore:wS,useId:LS,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ap(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),i=Un(e),o=hn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,i),t!==null&&(Pt(t,e,i,r),Aa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),i=Un(e),o=hn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,i),t!==null&&(Pt(t,e,i,r),Aa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=Un(e),i=hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,r),t!==null&&(Pt(t,e,r,n),Aa(t,e,r))}};function Bv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!xo(n,r)||!xo(i,o):!0}function qS(e,t,n){var r=!1,i=Yn,o=t.contextType;return typeof o=="object"&&o!==null?o=bt(o):(i=ot(t)?mr:We.current,r=t.contextTypes,o=(r=r!=null)?ui(e,i):Yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Fv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function Lp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$g(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=bt(o):(o=ot(t)?mr:We.current,i.context=ui(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ap(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qs.enqueueReplaceState(i,i.state,null),ls(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,t){try{var n="",r=t;do n+=Qk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CE=typeof WeakMap=="function"?WeakMap:Map;function BS(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hs||(hs=!0,Gp=r),zp(e,t)},n}function FS(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){zp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zp(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function $v(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new CE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DE.bind(null,e,t,n),t.then(e,e))}function Uv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var kE=_n.ReactCurrentOwner,nt=!1;function Ve(e,t,n,r){t.child=e===null?mS(t,null,n,r):di(t,e.child,n,r)}function Hv(e,t,n,r,i){n=n.render;var o=t.ref;return ii(t,i),r=Vg(e,t,n,r,o,i),n=Yg(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(xe&&n&&Lg(t),t.flags|=1,Ve(e,t,r,i),t.child)}function Gv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!im(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,$S(e,t,o,r,i)):(e=Ba(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(a,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=Wn(o,r),e.ref=t.ref,e.return=t,t.child=e}function $S(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(xo(o,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return Op(e,t,n,r,i)}function US(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Zr,ut),ut|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Zr,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,me(Zr,ut),ut|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,me(Zr,ut),ut|=r;return Ve(e,t,i,n),t.child}function WS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Op(e,t,n,r,i){var o=ot(n)?mr:We.current;return o=ui(t,o),ii(t,i),n=Vg(e,t,n,r,o,i),r=Yg(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(xe&&r&&Lg(t),t.flags|=1,Ve(e,t,n,i),t.child)}function Vv(e,t,n,r,i){if(ot(n)){var o=!0;rs(t)}else o=!1;if(ii(t,i),t.stateNode===null)Oa(e,t),qS(t,n,r),Lp(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=ot(n)?mr:We.current,c=ui(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==c)&&Fv(t,a,r,c),Tn=!1;var h=t.memoizedState;a.state=h,ls(t,r,a,i),u=t.memoizedState,s!==r||h!==u||it.current||Tn?(typeof d=="function"&&(Ap(t,n,d,r),u=t.memoizedState),(s=Tn||Bv(t,n,s,r,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Tt(t.type,s),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=bt(u):(u=ot(n)?mr:We.current,u=ui(t,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==u)&&Fv(t,a,r,u),Tn=!1,h=t.memoizedState,a.state=h,ls(t,r,a,i);var y=t.memoizedState;s!==f||h!==y||it.current||Tn?(typeof p=="function"&&(Ap(t,n,p,r),y=t.memoizedState),(c=Tn||Bv(t,n,c,r,h,y,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Dp(e,t,n,r,o,i)}function Dp(e,t,n,r,i,o){WS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Nv(t,n,!1),vn(e,t,o);r=t.stateNode,kE.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=di(t,e.child,null,o),t.child=di(t,null,s,o)):Ve(e,t,s,o),t.memoizedState=r.state,i&&Nv(t,n,!0),t.child}function HS(e){var t=e.stateNode;t.pendingContext?Mv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mv(e,t.context,!1),Ug(e,t.containerInfo)}function Yv(e,t,n,r,i){return ci(),Og(i),t.flags|=256,Ve(e,t,n,r),t.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Bp(e){return{baseLanes:e,cachePool:null,transitions:null}}function GS(e,t,n){var r=t.pendingProps,i=we.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),me(we,i&1),e===null)return Np(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$s(a,r,0,null),e=hr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bp(n),t.memoizedState=qp,e):Qg(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return jE(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Wn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Wn(s,o):(o=hr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Bp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=qp,r}return o=e.child,e=o.sibling,r=Wn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qg(e,t){return t=$s({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ha(e,t,n,r){return r!==null&&Og(r),di(t,e.child,null,n),e=Qg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jE(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Gl(Error(q(422))),ha(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$s({mode:"visible",children:r.children},i,0,null),o=hr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&di(t,e.child,null,a),t.child.memoizedState=Bp(a),t.memoizedState=qp,o);if(!(t.mode&1))return ha(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(q(419)),r=Gl(o,r,void 0),ha(e,t,a,r)}if(s=(a&e.childLanes)!==0,nt||s){if(r=Le,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mn(e,i),Pt(r,e,i,-1))}return rm(),r=Gl(Error(q(421))),ha(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qE.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,dt=Bn(i.nextSibling),ft=t,xe=!0,It=null,e!==null&&(yt[xt++]=ln,yt[xt++]=un,yt[xt++]=vr,ln=e.id,un=e.overflow,vr=t),t=Qg(t,r.children),t.flags|=4096,t)}function Kv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pp(e.return,t,n)}function Vl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function VS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ve(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kv(e,n,t);else if(e.tag===19)Kv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(we,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&us(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&us(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vl(t,!0,n,null,o);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function EE(e,t,n){switch(t.tag){case 3:HS(t),ci();break;case 5:xS(t);break;case 1:ot(t.type)&&rs(t);break;case 4:Ug(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;me(as,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?GS(e,t,n):(me(we,we.current&1),e=vn(e,t,n),e!==null?e.sibling:null);me(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return VS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,US(e,t,n)}return vn(e,t,n)}var YS,Fp,KS,XS;YS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fp=function(){};KS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ur(Yt.current);var o=null;switch(n){case"input":i=up(e,i),r=up(e,r),o=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),o=[];break;case"textarea":i=fp(e,i),r=fp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ts)}pp(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(u!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",e),o||s===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};XS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oi(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TE(e,t,n){var r=t.pendingProps;switch(zg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return ot(t.type)&&ns(),$e(t),null;case 3:return r=t.stateNode,fi(),ye(it),ye(We),Hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Kp(It),It=null))),Fp(e,t),$e(t),null;case 5:Wg(t);var i=ur(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)KS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return $e(t),null}if(e=ur(Yt.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ht]=t,r[bo]=o,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<Vi.length;i++)ve(Vi[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":iv(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":av(r,o),ve("invalid",r)}pp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ca(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ca(r.textContent,s,e),i=["children",""+s]):fo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ve("scroll",r)}switch(n){case"input":na(r),ov(r,o,!0);break;case"textarea":na(r),sv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ts)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ht]=t,e[bo]=r,YS(e,t,!1,!1),t.stateNode=e;e:{switch(a=gp(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vi.length;i++)ve(Vi[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":iv(e,r),i=up(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),ve("invalid",e);break;case"textarea":av(e,r),i=fp(e,r),ve("invalid",e);break;default:i=r}pp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?Eb(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kb(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ho(e,u):typeof u=="number"&&ho(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ve("scroll",e):u!=null&&wg(e,o,u,a))}switch(n){case"input":na(e),ov(e,r,!1);break;case"textarea":na(e),sv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ei(e,!!r.multiple,o,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)XS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=ur(Co.current),ur(Yt.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(o=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:ca(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ca(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return $e(t),null;case 13:if(ye(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&dt!==null&&t.mode&1&&!(t.flags&128))pS(),ci(),t.flags|=98560,o=!1;else if(o=da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Ht]=t}else ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else It!==null&&(Kp(It),It=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Pe===0&&(Pe=3):rm())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return fi(),Fp(e,t),e===null&&_o(t.stateNode.containerInfo),$e(t),null;case 10:return Bg(t.type._context),$e(t),null;case 17:return ot(t.type)&&ns(),$e(t),null;case 19:if(ye(we),o=t.memoizedState,o===null)return $e(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Oi(o,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=us(e),a!==null){for(t.flags|=128,Oi(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(we,we.current&1|2),t.child}e=e.sibling}o.tail!==null&&ke()>pi&&(t.flags|=128,r=!0,Oi(o,!1),t.lanes=4194304)}else{if(!r)if(e=us(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!xe)return $e(t),null}else 2*ke()-o.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,r=!0,Oi(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ke(),t.sibling=null,n=we.current,me(we,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return nm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function RE(e,t){switch(zg(t),t.tag){case 1:return ot(t.type)&&ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fi(),ye(it),ye(We),Hg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wg(t),null;case 13:if(ye(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(we),null;case 4:return fi(),null;case 10:return Bg(t.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var pa=!1,Ue=!1,IE=typeof WeakSet=="function"?WeakSet:Set,H=null;function Jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function $p(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Xv=!1;function ME(e,t){if(kp=Ja,e=tS(),Ag(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=a),h===o&&++d===r&&(u=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jp={focusedElem:e,selectionRange:n},Ja=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,_=y.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Tt(t.type,m),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(b){Ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return y=Xv,Xv=!1,y}function lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&$p(t,n,o)}i=i.next}while(i!==r)}}function Bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Up(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function QS(e){var t=e.alternate;t!==null&&(e.alternate=null,QS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[bo],delete t[Rp],delete t[hE],delete t[pE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JS(e){return e.tag===5||e.tag===3||e.tag===4}function Qv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ts));else if(r!==4&&(e=e.child,e!==null))for(Wp(e,t,n),e=e.sibling;e!==null;)Wp(e,t,n),e=e.sibling}function Hp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hp(e,t,n),e=e.sibling;e!==null;)Hp(e,t,n),e=e.sibling}var De=null,Rt=!1;function Cn(e,t,n){for(n=n.child;n!==null;)ZS(e,t,n),n=n.sibling}function ZS(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ns,n)}catch{}switch(n.tag){case 5:Ue||Jr(n,t);case 6:var r=De,i=Rt;De=null,Cn(e,t,n),De=r,Rt=i,De!==null&&(Rt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Rt?(e=De,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),vo(e)):Bl(De,n.stateNode));break;case 4:r=De,i=Rt,De=n.stateNode.containerInfo,Rt=!0,Cn(e,t,n),De=r,Rt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&$p(n,t,a),i=i.next}while(i!==r)}Cn(e,t,n);break;case 1:if(!Ue&&(Jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ce(n,t,s)}Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,Cn(e,t,n),Ue=r):Cn(e,t,n);break;default:Cn(e,t,n)}}function Jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IE),t.forEach(function(r){var i=BE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:De=s.stateNode,Rt=!1;break e;case 3:De=s.stateNode.containerInfo,Rt=!0;break e;case 4:De=s.stateNode.containerInfo,Rt=!0;break e}s=s.return}if(De===null)throw Error(q(160));ZS(o,a,i),De=null,Rt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ce(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e2(t,e),t=t.sibling}function e2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Bt(e),r&4){try{lo(3,e,e.return),Bs(3,e)}catch(m){Ce(e,e.return,m)}try{lo(5,e,e.return)}catch(m){Ce(e,e.return,m)}}break;case 1:jt(t,e),Bt(e),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(jt(t,e),Bt(e),r&512&&n!==null&&Jr(n,n.return),e.flags&32){var i=e.stateNode;try{ho(i,"")}catch(m){Ce(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&bb(i,o),gp(s,a);var c=gp(s,o);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?Eb(i,f):d==="dangerouslySetInnerHTML"?kb(i,f):d==="children"?ho(i,f):wg(i,d,f,c)}switch(s){case"input":cp(i,o);break;case"textarea":Sb(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ei(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ei(i,!!o.multiple,o.defaultValue,!0):ei(i,!!o.multiple,o.multiple?[]:"",!1))}i[bo]=o}catch(m){Ce(e,e.return,m)}}break;case 6:if(jt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ce(e,e.return,m)}}break;case 3:if(jt(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(m){Ce(e,e.return,m)}break;case 4:jt(t,e),Bt(e);break;case 13:jt(t,e),Bt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(em=ke())),r&4&&Jv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(c=Ue)||d,jt(t,e),Ue=c):jt(t,e),Bt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,p=h.child,h.tag){case 0:case 11:case 14:case 15:lo(4,h,h.return);break;case 1:Jr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Ce(r,n,m)}}break;case 5:Jr(h,h.return);break;case 22:if(h.memoizedState!==null){ey(f);continue}}p!==null?(p.return=h,H=p):ey(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=jb("display",a))}catch(m){Ce(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Ce(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(t,e),Bt(e),r&4&&Jv(e);break;case 21:break;default:jt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(JS(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ho(i,""),r.flags&=-33);var o=Qv(e);Hp(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Qv(e);Wp(e,s,a);break;default:throw Error(q(161))}}catch(u){Ce(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NE(e,t,n){H=e,t2(e)}function t2(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||pa;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Ue;s=pa;var c=Ue;if(pa=a,(Ue=u)&&!c)for(H=i;H!==null;)a=H,u=a.child,a.tag===22&&a.memoizedState!==null?ty(i):u!==null?(u.return=a,H=u):ty(i);for(;o!==null;)H=o,t2(o),o=o.sibling;H=i,pa=s,Ue=c}Zv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Zv(e)}}function Zv(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||Bs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ov(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ov(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ue||t.flags&512&&Up(t)}catch(h){Ce(t,t.return,h)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function ey(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function ty(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bs(4,t)}catch(u){Ce(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ce(t,i,u)}}var o=t.return;try{Up(t)}catch(u){Ce(t,o,u)}break;case 5:var a=t.return;try{Up(t)}catch(u){Ce(t,a,u)}}}catch(u){Ce(t,t.return,u)}if(t===e){H=null;break}var s=t.sibling;if(s!==null){s.return=t.return,H=s;break}H=t.return}}var PE=Math.ceil,fs=_n.ReactCurrentDispatcher,Jg=_n.ReactCurrentOwner,wt=_n.ReactCurrentBatchConfig,ie=0,Le=null,Te=null,qe=0,ut=0,Zr=Jn(0),Pe=0,To=null,xr=0,Fs=0,Zg=0,uo=null,tt=null,em=0,pi=1/0,on=null,hs=!1,Gp=null,$n=null,ga=!1,An=null,ps=0,co=0,Vp=null,Da=-1,qa=0;function Qe(){return ie&6?ke():Da!==-1?Da:Da=ke()}function Un(e){return e.mode&1?ie&2&&qe!==0?qe&-qe:mE.transition!==null?(qa===0&&(qa=qb()),qa):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Gb(e.type)),e):1}function Pt(e,t,n,r){if(50<co)throw co=0,Vp=null,Error(q(185));Oo(e,n,r),(!(ie&2)||e!==Le)&&(e===Le&&(!(ie&2)&&(Fs|=n),Pe===4&&Mn(e,qe)),at(e,r),n===1&&ie===0&&!(t.mode&1)&&(pi=ke()+500,Os&&Zn()))}function at(e,t){var n=e.callbackNode;mj(e,t);var r=Qa(e,e===Le?qe:0);if(r===0)n!==null&&cv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cv(n),t===1)e.tag===0?gE(ny.bind(null,e)):dS(ny.bind(null,e)),dE(function(){!(ie&6)&&Zn()}),n=null;else{switch(Bb(r)){case 1:n=jg;break;case 4:n=Ob;break;case 16:n=Xa;break;case 536870912:n=Db;break;default:n=Xa}n=u2(n,n2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function n2(e,t){if(Da=-1,qa=0,ie&6)throw Error(q(327));var n=e.callbackNode;if(oi()&&e.callbackNode!==n)return null;var r=Qa(e,e===Le?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gs(e,r);else{t=r;var i=ie;ie|=2;var o=i2();(Le!==e||qe!==t)&&(on=null,pi=ke()+500,fr(e,t));do try{zE();break}catch(s){r2(e,s)}while(!0);qg(),fs.current=o,ie=i,Te!==null?t=0:(Le=null,qe=0,t=Pe)}if(t!==0){if(t===2&&(i=_p(e),i!==0&&(r=i,t=Yp(e,i))),t===1)throw n=To,fr(e,0),Mn(e,r),at(e,ke()),n;if(t===6)Mn(e,r);else{if(i=e.current.alternate,!(r&30)&&!AE(i)&&(t=gs(e,r),t===2&&(o=_p(e),o!==0&&(r=o,t=Yp(e,o))),t===1))throw n=To,fr(e,0),Mn(e,r),at(e,ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:or(e,tt,on);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=em+500-ke(),10<t)){if(Qa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tp(or.bind(null,e,tt,on),t);break}or(e,tt,on);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Nt(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PE(r/1960))-r,10<r){e.timeoutHandle=Tp(or.bind(null,e,tt,on),r);break}or(e,tt,on);break;case 5:or(e,tt,on);break;default:throw Error(q(329))}}}return at(e,ke()),e.callbackNode===n?n2.bind(null,e):null}function Yp(e,t){var n=uo;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=gs(e,t),e!==2&&(t=tt,tt=n,t!==null&&Kp(t)),e}function Kp(e){tt===null?tt=e:tt.push.apply(tt,e)}function AE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!At(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~Zg,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function ny(e){if(ie&6)throw Error(q(327));oi();var t=Qa(e,0);if(!(t&1))return at(e,ke()),null;var n=gs(e,t);if(e.tag!==0&&n===2){var r=_p(e);r!==0&&(t=r,n=Yp(e,r))}if(n===1)throw n=To,fr(e,0),Mn(e,t),at(e,ke()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,tt,on),at(e,ke()),null}function tm(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(pi=ke()+500,Os&&Zn())}}function _r(e){An!==null&&An.tag===0&&!(ie&6)&&oi();var t=ie;ie|=1;var n=wt.transition,r=fe;try{if(wt.transition=null,fe=1,e)return e()}finally{fe=r,wt.transition=n,ie=t,!(ie&6)&&Zn()}}function nm(){ut=Zr.current,ye(Zr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cE(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:fi(),ye(it),ye(We),Hg();break;case 5:Wg(r);break;case 4:fi();break;case 13:ye(we);break;case 19:ye(we);break;case 10:Bg(r.type._context);break;case 22:case 23:nm()}n=n.return}if(Le=e,Te=e=Wn(e.current,null),qe=ut=t,Pe=0,To=null,Zg=Fs=xr=0,tt=uo=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}lr=null}return e}function r2(e,t){do{var n=Te;try{if(qg(),La.current=ds,cs){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cs=!1}if(yr=0,Ae=Ne=be=null,so=!1,ko=0,Jg.current=null,n===null||n.return===null){Pe=1,To=t,Te=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=qe,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Uv(a);if(p!==null){p.flags&=-257,Wv(p,a,s,o,t),p.mode&1&&$v(o,c,t),t=p,u=c;var y=t.updateQueue;if(y===null){var m=new Set;m.add(u),t.updateQueue=m}else y.add(u);break e}else{if(!(t&1)){$v(o,c,t),rm();break e}u=Error(q(426))}}else if(xe&&s.mode&1){var _=Uv(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Wv(_,a,s,o,t),Og(hi(u,s));break e}}o=u=hi(u,s),Pe!==4&&(Pe=2),uo===null?uo=[o]:uo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=BS(o,u,t);zv(o,g);break e;case 1:s=u;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($n===null||!$n.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=FS(o,s,t);zv(o,b);break e}}o=o.return}while(o!==null)}a2(n)}catch(S){t=S,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function i2(){var e=fs.current;return fs.current=ds,e===null?ds:e}function rm(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Le===null||!(xr&268435455)&&!(Fs&268435455)||Mn(Le,qe)}function gs(e,t){var n=ie;ie|=2;var r=i2();(Le!==e||qe!==t)&&(on=null,fr(e,t));do try{LE();break}catch(i){r2(e,i)}while(!0);if(qg(),ie=n,fs.current=r,Te!==null)throw Error(q(261));return Le=null,qe=0,Pe}function LE(){for(;Te!==null;)o2(Te)}function zE(){for(;Te!==null&&!sj();)o2(Te)}function o2(e){var t=l2(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?a2(e):Te=t,Jg.current=null}function a2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=RE(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Te=null;return}}else if(n=TE(n,t,ut),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Pe===0&&(Pe=5)}function or(e,t,n){var r=fe,i=wt.transition;try{wt.transition=null,fe=1,OE(e,t,n,r)}finally{wt.transition=i,fe=r}return null}function OE(e,t,n,r){do oi();while(An!==null);if(ie&6)throw Error(q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(vj(e,o),e===Le&&(Te=Le=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,u2(Xa,function(){return oi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wt.transition,wt.transition=null;var a=fe;fe=1;var s=ie;ie|=4,Jg.current=null,ME(e,n),e2(n,e),rE(jp),Ja=!!kp,jp=kp=null,e.current=n,NE(n),lj(),ie=s,fe=a,wt.transition=o}else e.current=n;if(ga&&(ga=!1,An=e,ps=i),o=e.pendingLanes,o===0&&($n=null),dj(n.stateNode),at(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hs)throw hs=!1,e=Gp,Gp=null,e;return ps&1&&e.tag!==0&&oi(),o=e.pendingLanes,o&1?e===Vp?co++:(co=0,Vp=e):co=0,Zn(),null}function oi(){if(An!==null){var e=Bb(ps),t=wt.transition,n=fe;try{if(wt.transition=null,fe=16>e?16:e,An===null)var r=!1;else{if(e=An,An=null,ps=0,ie&6)throw Error(q(331));var i=ie;for(ie|=4,H=e.current;H!==null;){var o=H,a=o.child;if(H.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var c=s[u];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:lo(8,d,o)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,p=d.return;if(QS(d),d===c){H=null;break}if(h!==null){h.return=p,H=h;break}H=p}}}var y=o.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}H=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,H=a;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lo(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,H=g;break e}H=o.return}}var v=e.current;for(H=v;H!==null;){a=H;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,H=w;else e:for(a=v;H!==null;){if(s=H,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Bs(9,s)}}catch(S){Ce(s,s.return,S)}if(s===a){H=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,H=b;break e}H=s.return}}if(ie=i,Zn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ns,e)}catch{}r=!0}return r}finally{fe=n,wt.transition=t}}return!1}function ry(e,t,n){t=hi(n,t),t=BS(e,t,1),e=Fn(e,t,1),t=Qe(),e!==null&&(Oo(e,1,t),at(e,t))}function Ce(e,t,n){if(e.tag===3)ry(e,e,n);else for(;t!==null;){if(t.tag===3){ry(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=hi(n,e),e=FS(t,e,1),t=Fn(t,e,1),e=Qe(),t!==null&&(Oo(t,1,e),at(t,e));break}}t=t.return}}function DE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(qe&n)===n&&(Pe===4||Pe===3&&(qe&130023424)===qe&&500>ke()-em?fr(e,0):Zg|=n),at(e,t)}function s2(e,t){t===0&&(e.mode&1?(t=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):t=1);var n=Qe();e=mn(e,t),e!==null&&(Oo(e,t,n),at(e,n))}function qE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),s2(e,n)}function BE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),s2(e,n)}var l2;l2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,EE(e,t,n);nt=!!(e.flags&131072)}else nt=!1,xe&&t.flags&1048576&&fS(t,os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oa(e,t),e=t.pendingProps;var i=ui(t,We.current);ii(t,n),i=Vg(null,t,r,e,i,n);var o=Yg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(o=!0,rs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$g(t),i.updater=qs,t.stateNode=i,i._reactInternals=t,Lp(t,r,e,n),t=Dp(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Lg(t),Ve(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$E(r),e=Tt(r,e),i){case 0:t=Op(null,t,r,e,n);break e;case 1:t=Vv(null,t,r,e,n);break e;case 11:t=Hv(null,t,r,e,n);break e;case 14:t=Gv(null,t,r,Tt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Op(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Vv(e,t,r,i,n);case 3:e:{if(HS(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,i=o.element,yS(e,t),ls(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=hi(Error(q(423)),t),t=Yv(e,t,r,n,i);break e}else if(r!==i){i=hi(Error(q(424)),t),t=Yv(e,t,r,n,i);break e}else for(dt=Bn(t.stateNode.containerInfo.firstChild),ft=t,xe=!0,It=null,n=mS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),r===i){t=vn(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return xS(t),e===null&&Np(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Ep(r,i)?a=null:o!==null&&Ep(r,o)&&(t.flags|=32),WS(e,t),Ve(e,t,a,n),t.child;case 6:return e===null&&Np(t),null;case 13:return GS(e,t,n);case 4:return Ug(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=di(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Hv(e,t,r,i,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,me(as,r._currentValue),r._currentValue=a,o!==null)if(At(o.value,a)){if(o.children===i.children&&!it.current){t=vn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=hn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Pp(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Pp(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ve(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ii(t,n),i=bt(i),r=r(i),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,i=Tt(r,t.pendingProps),i=Tt(r.type,i),Gv(e,t,r,i,n);case 15:return $S(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Oa(e,t),t.tag=1,ot(r)?(e=!0,rs(t)):e=!1,ii(t,n),qS(t,r,i),Lp(t,r,i,n),Dp(null,t,r,!0,e,n);case 19:return VS(e,t,n);case 22:return US(e,t,n)}throw Error(q(156,t.tag))};function u2(e,t){return zb(e,t)}function FE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new FE(e,t,n,r)}function im(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $E(e){if(typeof e=="function")return im(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sg)return 11;if(e===Cg)return 14}return 2}function Wn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ba(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")im(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ur:return hr(n.children,i,o,t);case bg:a=8,i|=8;break;case op:return e=_t(12,n,t,i|2),e.elementType=op,e.lanes=o,e;case ap:return e=_t(13,n,t,i),e.elementType=ap,e.lanes=o,e;case sp:return e=_t(19,n,t,i),e.elementType=sp,e.lanes=o,e;case xb:return $s(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vb:a=10;break e;case yb:a=9;break e;case Sg:a=11;break e;case Cg:a=14;break e;case En:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=_t(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function hr(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function $s(e,t,n,r){return e=_t(22,e,r,t),e.elementType=xb,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function om(e,t,n,r,i,o,a,s,u){return e=new UE(e,t,n,s,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(o),e}function WE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function c2(e){if(!e)return Yn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(ot(n))return cS(e,n,t)}return t}function d2(e,t,n,r,i,o,a,s,u){return e=om(n,r,!0,e,i,o,a,s,u),e.context=c2(null),n=e.current,r=Qe(),i=Un(n),o=hn(r,i),o.callback=t??null,Fn(n,o,i),e.current.lanes=i,Oo(e,i,r),at(e,r),e}function Us(e,t,n,r){var i=t.current,o=Qe(),a=Un(i);return n=c2(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(i,t,a),e!==null&&(Pt(e,i,a,o),Aa(e,i,a)),a}function ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function am(e,t){iy(e,t),(e=e.alternate)&&iy(e,t)}function HE(){return null}var f2=typeof reportError=="function"?reportError:function(e){console.error(e)};function sm(e){this._internalRoot=e}Ws.prototype.render=sm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Us(e,t,null,null)};Ws.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){Us(null,e,null,null)}),t[gn]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ub();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&Hb(e)}};function lm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oy(){}function GE(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ms(a);o.call(c)}}var a=d2(t,r,e,0,null,!1,!1,"",oy);return e._reactRootContainer=a,e[gn]=a.current,_o(e.nodeType===8?e.parentNode:e),_r(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=ms(u);s.call(c)}}var u=om(e,0,!1,null,null,!1,!1,"",oy);return e._reactRootContainer=u,e[gn]=u.current,_o(e.nodeType===8?e.parentNode:e),_r(function(){Us(t,u,n,r)}),u}function Gs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=ms(a);s.call(u)}}Us(t,a,e,i)}else a=GE(n,t,e,i,r);return ms(a)}Fb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gi(t.pendingLanes);n!==0&&(Eg(t,n|1),at(t,ke()),!(ie&6)&&(pi=ke()+500,Zn()))}break;case 13:_r(function(){var r=mn(e,1);if(r!==null){var i=Qe();Pt(r,e,1,i)}}),am(e,1)}};Tg=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=Qe();Pt(t,e,134217728,n)}am(e,134217728)}};$b=function(e){if(e.tag===13){var t=Un(e),n=mn(e,t);if(n!==null){var r=Qe();Pt(n,e,t,r)}am(e,t)}};Ub=function(){return fe};Wb=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};vp=function(e,t,n){switch(t){case"input":if(cp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zs(r);if(!i)throw Error(q(90));wb(r),cp(r,i)}}}break;case"textarea":Sb(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};Ib=tm;Mb=_r;var VE={usingClientEntryPoint:!1,Events:[qo,Vr,zs,Tb,Rb,tm]},Di={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ab(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||HE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Ns=ma.inject(YE),Vt=ma}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(t))throw Error(q(200));return WE(e,t,null,n)};gt.createRoot=function(e,t){if(!lm(e))throw Error(q(299));var n=!1,r="",i=f2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=om(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,_o(e.nodeType===8?e.parentNode:e),new sm(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Ab(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return _r(e)};gt.hydrate=function(e,t,n){if(!Hs(t))throw Error(q(200));return Gs(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!lm(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=f2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=d2(t,null,e,1,n??null,i,!1,o,a),e[gn]=t.current,_o(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ws(t)};gt.render=function(e,t,n){if(!Hs(t))throw Error(q(200));return Gs(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!Hs(e))throw Error(q(40));return e._reactRootContainer?(_r(function(){Gs(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};gt.unstable_batchedUpdates=tm;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hs(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Gs(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function h2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h2)}catch(e){console.error(e)}}h2(),hb.exports=gt;var KE=hb.exports,ay=KE;rp.createRoot=ay.createRoot,rp.hydrateRoot=ay.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}var Ln;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ln||(Ln={}));const sy="popstate";function XE(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:s="",hash:u=""}=jr(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Xp("",{pathname:a,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");s=c===-1?u:u.slice(0,c)}return s+"#"+(typeof o=="string"?o:vs(o))}function r(i,o){Vs(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return JE(t,n,r,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QE(){return Math.random().toString(36).substr(2,8)}function ly(e,t){return{usr:e.state,key:e.key,idx:t}}function Xp(e,t,n,r){return n===void 0&&(n=null),Ro({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jr(t):t,{state:n,key:t&&t.key||r||QE()})}function vs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function JE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ln.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(Ro({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=Ln.Pop;let _=d(),g=_==null?null:_-c;c=_,u&&u({action:s,location:m.location,delta:g})}function h(_,g){s=Ln.Push;let v=Xp(m.location,_,g);n&&n(v,_),c=d()+1;let w=ly(v,c),b=m.createHref(v);try{a.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}o&&u&&u({action:s,location:m.location,delta:1})}function p(_,g){s=Ln.Replace;let v=Xp(m.location,_,g);n&&n(v,_),c=d();let w=ly(v,c),b=m.createHref(v);a.replaceState(w,"",b),o&&u&&u({action:s,location:m.location,delta:0})}function y(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof _=="string"?_:vs(_);return v=v.replace(/ $/,"%20"),je(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return s},get location(){return e(i,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(sy,f),u=_,()=>{i.removeEventListener(sy,f),u=null}},createHref(_){return t(i,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(_){return a.go(_)}};return m}var uy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uy||(uy={}));function ZE(e,t,n){return n===void 0&&(n="/"),eT(e,t,n)}function eT(e,t,n,r){let i=typeof t=="string"?jr(t):t,o=um(i.pathname||"/",n);if(o==null)return null;let a=p2(e);tT(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let c=hT(o);s=cT(a[u],c)}return s}function p2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Hn([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),p2(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:lT(c,o.index),routesMeta:d})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let u of g2(o.path))i(o,a,u)}),t}function g2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=g2(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function tT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nT=/^:[\w-]+$/,rT=3,iT=2,oT=1,aT=10,sT=-2,cy=e=>e==="*";function lT(e,t){let n=e.split("/"),r=n.length;return n.some(cy)&&(r+=sT),t&&(r+=iT),n.filter(i=>!cy(i)).reduce((i,o)=>i+(nT.test(o)?rT:o===""?oT:aT),r)}function uT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cT(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],c=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=dT({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Hn([o,f.pathname]),pathnameBase:yT(Hn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Hn([o,f.pathnameBase]))}return a}function dT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=s[f]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const y=s[f];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function fT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function hT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function um(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gT=e=>pT.test(e);function mT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jr(e):e,o;if(n)if(gT(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Vs(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=dy(n.substring(1),"/"):o=dy(n,t)}else o=t;return{pathname:o,search:xT(r),hash:_T(i)}}function dy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cm(e,t){let n=vT(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=jr(e):(i=Ro({},e),je(!i.pathname||!i.pathname.includes("?"),Xl("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Xl("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Xl("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let u=mT(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),yT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_T=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m2=["post","put","patch","delete"];new Set(m2);const bT=["get",...m2];new Set(bT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(this,arguments)}const fm=C.createContext(null),ST=C.createContext(null),er=C.createContext(null),Ys=C.createContext(null),tr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),v2=C.createContext(null);function CT(e,t){let{relative:n}=t===void 0?{}:t;_i()||je(!1);let{basename:r,navigator:i}=C.useContext(er),{hash:o,pathname:a,search:s}=x2(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Hn([r,a])),i.createHref({pathname:u,search:s,hash:o})}function _i(){return C.useContext(Ys)!=null}function Er(){return _i()||je(!1),C.useContext(Ys).location}function y2(e){C.useContext(er).static||C.useLayoutEffect(e)}function Ks(){let{isDataRoute:e}=C.useContext(tr);return e?OT():kT()}function kT(){_i()||je(!1);let e=C.useContext(fm),{basename:t,future:n,navigator:r}=C.useContext(er),{matches:i}=C.useContext(tr),{pathname:o}=Er(),a=JSON.stringify(cm(i,n.v7_relativeSplatPath)),s=C.useRef(!1);return y2(()=>{s.current=!0}),C.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=dm(c,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Hn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}function x2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(er),{matches:i}=C.useContext(tr),{pathname:o}=Er(),a=JSON.stringify(cm(i,r.v7_relativeSplatPath));return C.useMemo(()=>dm(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function jT(e,t){return ET(e,t)}function ET(e,t,n,r){_i()||je(!1);let{navigator:i}=C.useContext(er),{matches:o}=C.useContext(tr),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Er(),d;if(t){var f;let _=typeof t=="string"?jr(t):t;u==="/"||(f=_.pathname)!=null&&f.startsWith(u)||je(!1),d=_}else d=c;let h=d.pathname||"/",p=h;if(u!=="/"){let _=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=ZE(e,{pathname:p}),m=NT(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Hn([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Hn([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&m?C.createElement(Ys.Provider,{value:{location:Io({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ln.Pop}},m):m}function TT(){let e=zT(),t=wT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const RT=C.createElement(TT,null);class IT extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(tr.Provider,{value:this.props.routeContext},C.createElement(v2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MT(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(fm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(tr.Provider,{value:t},r)}function NT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||je(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,y=!1,m=null,_=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||RT,u&&(c<0&&h===0?(DT("route-fallback"),y=!0,_=null):c===h&&(y=!0,_=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),v=()=>{let w;return p?w=m:y?w=_:f.route.Component?w=C.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,C.createElement(MT,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(IT,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var _2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_2||{}),w2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w2||{});function PT(e){let t=C.useContext(fm);return t||je(!1),t}function AT(e){let t=C.useContext(ST);return t||je(!1),t}function LT(e){let t=C.useContext(tr);return t||je(!1),t}function b2(e){let t=LT(),n=t.matches[t.matches.length-1];return n.route.id||je(!1),n.route.id}function zT(){var e;let t=C.useContext(v2),n=AT(),r=b2();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function OT(){let{router:e}=PT(_2.UseNavigateStable),t=b2(w2.UseNavigateStable),n=C.useRef(!1);return y2(()=>{n.current=!0}),C.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Io({fromRouteId:t},o)))},[e,t])}const fy={};function DT(e,t,n){fy[e]||(fy[e]=!0)}function qT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function BT(e){let{to:t,replace:n,state:r,relative:i}=e;_i()||je(!1);let{future:o,static:a}=C.useContext(er),{matches:s}=C.useContext(tr),{pathname:u}=Er(),c=Ks(),d=dm(t,cm(s,o.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function rn(e){je(!1)}function FT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ln.Pop,navigator:o,static:a=!1,future:s}=e;_i()&&je(!1);let u=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:u,navigator:o,static:a,future:Io({v7_relativeSplatPath:!1},s)}),[u,s,o,a]);typeof r=="string"&&(r=jr(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,m=C.useMemo(()=>{let _=um(d,u);return _==null?null:{location:{pathname:_,search:f,hash:h,state:p,key:y},navigationType:i}},[u,d,f,h,p,y,i]);return m==null?null:C.createElement(er.Provider,{value:c},C.createElement(Ys.Provider,{children:n,value:m}))}function $T(e){let{children:t,location:n}=e;return jT(Qp(t),n)}new Promise(()=>{});function Qp(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let o=[...t,i];if(r.type===C.Fragment){n.push.apply(n,Qp(r.props.children,o));return}r.type!==rn&&je(!1),!r.props.index||!r.props.children||je(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Qp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jp.apply(this,arguments)}function UT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HT(e,t){return e.button===0&&(!t||t==="_self")&&!WT(e)}function Zp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function GT(e,t){let n=Zp(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const VT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YT="6";try{window.__reactRouterVersion=YT}catch{}const KT="startTransition",hy=Dk[KT];function XT(e){let{basename:t,children:n,future:r,window:i}=e,o=C.useRef();o.current==null&&(o.current=XE({window:i,v5Compat:!0}));let a=o.current,[s,u]=C.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=C.useCallback(f=>{c&&hy?hy(()=>u(f)):u(f)},[u,c]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.useEffect(()=>qT(r),[r]),C.createElement(FT,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZT=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=UT(t,VT),{basename:p}=C.useContext(er),y,m=!1;if(typeof c=="string"&&JT.test(c)&&(y=c,QT))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=um(b.pathname,p);b.origin===w.origin&&S!=null?c=S+b.search+b.hash:m=!0}catch{}let _=CT(c,{relative:i}),g=eR(c,{replace:a,state:s,target:u,preventScrollReset:d,relative:i,viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||g(w)}return C.createElement("a",Jp({},h,{href:y||_,onClick:m||o?r:v,ref:n,target:u}))});var py;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(py||(py={}));var gy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gy||(gy={}));function eR(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,u=Ks(),c=Er(),d=x2(e,{relative:a});return C.useCallback(f=>{if(HT(f,n)){f.preventDefault();let h=r!==void 0?r:vs(c)===vs(d);u(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,u,d,r,i,n,e,o,a,s])}function tR(e){let t=C.useRef(Zp(e)),n=C.useRef(!1),r=Er(),i=C.useMemo(()=>GT(r.search,n.current?null:t.current),[r.search]),o=Ks(),a=C.useCallback((s,u)=>{const c=Zp(typeof s=="function"?s(i):s);n.current=!0,o("?"+c,u)},[o,i]);return[i,a]}function nR(e={}){const{graphUrl:t=rR(),gitHistoryUrl:n,roadmapUrl:r,enableSSE:i=!1,sseUrl:o="/api/events",pollInterval:a=0}=e,[s,u]=C.useState(null),[c,d]=C.useState([]),[f,h]=C.useState([]),[p,y]=C.useState(!0),[m,_]=C.useState(null),[g,v]=C.useState(null),w=C.useCallback(async()=>{try{const x=await fetch(t);if(!x.ok)throw new Error(`Failed to fetch graph: ${x.status} ${x.statusText}`);const k=await x.json(),T=k.data??k;if(k.ok===!1&&k.error)throw new Error(k.error);u(T),v(new Date),_(null)}catch(x){const k=x instanceof Error?x.message:"Failed to load graph data";_(k),console.error("Graph fetch error:",x)}},[t]),b=C.useCallback(async()=>{if(n)try{const x=await fetch(n);if(x.ok){const k=await x.json();d(k)}}catch(x){console.warn("Could not load git history:",x)}},[n]),S=C.useCallback(async()=>{if(r)try{const x=await fetch(r);if(x.ok){const k=await x.json(),T=k.data??k;h(T)}}catch(x){console.warn("Could not load roadmap items:",x)}},[r]),j=C.useCallback(async()=>{y(!0),await Promise.all([w(),b(),S()]),y(!1)},[w,b,S]);return C.useEffect(()=>{let x=!0;return(async()=>{y(!0),await Promise.all([w(),b(),S()]),x&&y(!1)})(),()=>{x=!1}},[w,b,S]),C.useEffect(()=>{if(!i)return;let x=null,k=null;const T=()=>{try{x=new EventSource(o),x.onmessage=E=>{(E.data==="refresh"||E.data==="update")&&w()},x.onerror=()=>{x==null||x.close(),k=setTimeout(T,5e3)},x.onopen=()=>{console.log("SSE connected for live updates")}}catch(E){console.warn("SSE not available:",E)}};return T(),()=>{x==null||x.close(),k&&clearTimeout(k)}},[i,o,w]),C.useEffect(()=>{if(a<=0)return;const x=setInterval(()=>{w()},a);return()=>clearInterval(x)},[a,w]),{graphData:s,gitHistory:c,roadmapItems:f,loading:p,error:m,lastUpdated:g,refresh:j}}function rR(){return"./graph-data.json"}const my=["goal","decision","option","action","outcome","observation"];function Kn(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Xs(e){const t=Kn(e.metadata_json);return(t==null?void 0:t.confidence)??null}function wr(e){const t=Kn(e.metadata_json);return(t==null?void 0:t.commit)??null}function hm(e){const t=Kn(e.metadata_json);return(t==null?void 0:t.branch)??null}function iR(e){const t=Kn(e.metadata_json);return(t==null?void 0:t.prompt)??null}function oR(e){const t=Kn(e.metadata_json);return(t==null?void 0:t.files)??null}function aR(e){const t=new Set;for(const n of e){const r=hm(n);r&&t.add(r)}return Array.from(t).sort()}function pm(e){return e?e.slice(0,7):null}function sR(e){return e===null?null:e>=70?"high":e>=40?"med":"low"}const gm="notactuallytreyanastasio/deciduous";function S2(e){var t,n;return((n=(t=e==null?void 0:e.config)==null?void 0:t.github)==null?void 0:n.commit_repo)??gm}function C2(e,t=gm){return`https://github.com/${t}/commit/${e}`}function Ye(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}function lR(e,t){const n=new Date(t).getTime()-new Date(e).getTime(),r=Math.floor(n/6e4);if(r<60)return`${r}m`;const i=Math.floor(r/60);return i<24?`${i}h ${r%60}m`:`${Math.floor(i/24)}d ${i%24}h`}const vy=4*60*60*1e3;function uR(e,t){const n=new Map,r=new Map;return e.forEach(i=>{n.set(i.id,[]),r.set(i.id,[])}),t.forEach(i=>{var o,a;(o=n.get(i.from_node_id))==null||o.push({to:i.to_node_id,edge:i}),(a=r.get(i.to_node_id))==null||a.push({from:i.from_node_id,edge:i})}),{outgoing:n,incoming:r}}function cR(e){const{nodes:t,edges:n}=e,{outgoing:r,incoming:i}=uR(t,n),o=new Set,a=[],s=t.filter(c=>{var d;return c.node_type==="goal"||(((d=i.get(c.id))==null?void 0:d.length)??0)===0}).sort((c,d)=>c.node_type==="goal"&&d.node_type!=="goal"?-1:d.node_type==="goal"&&c.node_type!=="goal"?1:new Date(c.created_at).getTime()-new Date(d.created_at).getTime());function u(c){var h,p;if(o.has(c))return null;const d={root:null,nodes:[],edges:[]},f=[c];for(;f.length>0;){const y=f.shift();if(o.has(y))continue;o.add(y);const m=t.find(_=>_.id===y);m&&(d.nodes.push(m),d.root||(d.root=m)),(h=r.get(y))==null||h.forEach(({to:_,edge:g})=>{o.has(_)||(f.push(_),d.edges.push(g))}),(p=i.get(y))==null||p.forEach(({from:_,edge:g})=>{o.has(_)||(f.push(_),d.edges.some(v=>v.id===g.id)||d.edges.push(g))})}return d.nodes.sort((y,m)=>new Date(y.created_at).getTime()-new Date(m.created_at).getTime()),d.nodes.length>0?d:null}return s.forEach(c=>{const d=u(c.id);d&&a.push(d)}),t.forEach(c=>{if(!o.has(c.id)){const d=u(c.id);d&&a.push(d)}}),a.sort((c,d)=>new Date(d.nodes[0].created_at).getTime()-new Date(c.nodes[0].created_at).getTime()),a}function dR(e,t){const n=[...e].sort((o,a)=>new Date(o.created_at).getTime()-new Date(a.created_at).getTime()),r=[];let i=null;return n.forEach(o=>{const a=new Date(o.created_at).getTime();!i||a-i.endTime>vy?(i={startTime:a,endTime:a,nodes:[o],chains:[]},r.push(i)):(i.endTime=a,i.nodes.push(o))}),t.forEach(o=>{const a=new Date(o.nodes[0].created_at).getTime(),s=r.find(u=>a>=u.startTime&&a<=u.endTime+vy);s&&s.chains.push(o)}),r.reverse(),r}function fR(e,t){const n=[],r=new Map(t.map(o=>[o.hash,o])),i=new Map(t.map(o=>[o.short_hash,o]));return e.forEach(o=>{const a=wr(o),s=[];if(a){const u=r.get(a)||i.get(a.slice(0,7));u&&s.push(u)}n.push({type:"node",timestamp:new Date(o.created_at),node:o,linkedCommits:s})}),t.forEach(o=>{const a=e.filter(s=>{const u=wr(s);return u===o.hash||(u==null?void 0:u.slice(0,7))===o.short_hash});n.push({type:"commit",timestamp:new Date(o.date),commit:o,linkedNodes:a})}),n.sort((o,a)=>a.timestamp.getTime()-o.timestamp.getTime()),n}function hR(e,t,n){const r={};let i=0;return e.nodes.forEach(o=>{r[o.node_type]=(r[o.node_type]||0)+1,wr(o)&&i++}),{nodeCount:e.nodes.length,edgeCount:e.edges.length,chainCount:t.length,sessionCount:n.length,linkedCommitCount:i,nodesByType:r}}function pR(e){return C.useMemo(()=>{if(!e)return{chains:[],sessions:[],stats:{nodeCount:0,edgeCount:0,chainCount:0,sessionCount:0,linkedCommitCount:0,nodesByType:{}}};const t=cR(e),n=dR(e.nodes,t),r=hR(e,t,n);return{chains:t,sessions:n,stats:r}},[e])}const gR=[{id:"story",label:"Story",path:"/story"},{id:"dag",label:"DAG",path:"/"},{id:"chains",label:"Chains",path:"/chains"},{id:"timeline",label:"Timeline",path:"/timeline"},{id:"graph",label:"Graph",path:"/graph"},{id:"roadmap",label:"Roadmap",path:"/roadmap"},{id:"traces",label:"Traces",path:"/traces"}],mR=({children:e,stats:t,lastUpdated:n,branches:r,selectedBranch:i,onBranchChange:o})=>{const a=Er(),u=(()=>{const c=a.pathname;return c==="/story"?"story":c==="/chains"?"chains":c==="/timeline"?"timeline":c==="/graph"?"graph":c==="/roadmap"?"roadmap":c==="/traces"?"traces":"dag"})();return l.jsxs("div",{style:le.container,children:[l.jsx("header",{style:le.header,children:l.jsxs("div",{style:le.headerContent,children:[l.jsxs("div",{children:[l.jsx("h1",{style:le.title,children:"Deciduous"}),l.jsx("p",{style:le.subtitle,children:"Decision Graph Viewer"})]}),l.jsx("nav",{style:le.nav,children:gR.map(c=>l.jsx(ZT,{to:c.path,style:{...le.tab,...u===c.id?le.tabActive:{}},children:c.label},c.id))}),l.jsx("div",{style:le.navLinks,children:l.jsx("a",{href:"https://github.com/notactuallytreyanastasio/losselot",target:"_blank",rel:"noopener noreferrer",style:le.link,children:"GitHub"})})]})}),t&&l.jsxs("div",{style:le.statsBar,children:[l.jsxs("div",{style:le.stat,children:[l.jsx("div",{style:le.statNum,children:t.nodeCount}),l.jsx("div",{style:le.statLabel,children:"Nodes"})]}),l.jsxs("div",{style:le.stat,children:[l.jsx("div",{style:le.statNum,children:t.edgeCount}),l.jsx("div",{style:le.statLabel,children:"Edges"})]}),l.jsxs("div",{style:le.stat,children:[l.jsx("div",{style:le.statNum,children:t.chainCount}),l.jsx("div",{style:le.statLabel,children:"Chains"})]}),l.jsxs("div",{style:le.stat,children:[l.jsx("div",{style:le.statNum,children:t.sessionCount}),l.jsx("div",{style:le.statLabel,children:"Sessions"})]}),t.linkedCommitCount>0&&l.jsxs("div",{style:le.stat,children:[l.jsx("div",{style:le.statNum,children:t.linkedCommitCount}),l.jsx("div",{style:le.statLabel,children:"Commits"})]}),r&&r.length>0&&l.jsx("div",{style:{...le.stat,marginLeft:"auto"},children:l.jsxs("select",{value:i||"",onChange:c=>o==null?void 0:o(c.target.value||null),style:le.branchSelect,children:[l.jsx("option",{value:"",children:"All branches"}),r.map(c=>l.jsx("option",{value:c,children:c},c))]})}),n&&l.jsx("div",{style:{...le.stat,marginLeft:r!=null&&r.length?"10px":"auto"},children:l.jsxs("div",{style:{...le.statLabel,fontSize:"10px"},children:["Updated ",n.toLocaleTimeString()]})})]}),l.jsx("main",{style:le.main,children:e})]})},le={container:{minHeight:"100vh",backgroundColor:"#ffffff",color:"#24292f",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},header:{backgroundColor:"#f6f8fa",borderBottom:"1px solid #d0d7de",padding:"0 20px"},headerContent:{display:"flex",alignItems:"center",gap:"30px",maxWidth:"1800px",margin:"0 auto",padding:"15px 0"},title:{fontSize:"20px",margin:0,color:"#24292f",fontWeight:700},subtitle:{fontSize:"12px",color:"#57606a",margin:"4px 0 0 0"},nav:{display:"flex",gap:"4px",flex:1},tab:{padding:"10px 20px",fontSize:"13px",color:"#57606a",textDecoration:"none",borderRadius:"6px 6px 0 0",backgroundColor:"transparent",transition:"all 0.2s"},tabActive:{backgroundColor:"#ffffff",color:"#0969da",fontWeight:600},navLinks:{display:"flex",gap:"15px"},link:{color:"#57606a",textDecoration:"none",fontSize:"13px"},statsBar:{display:"flex",gap:"20px",padding:"12px 20px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",margin:"15px",borderRadius:"8px",maxWidth:"1800px",marginLeft:"auto",marginRight:"auto"},stat:{textAlign:"center",minWidth:"60px"},statNum:{fontSize:"20px",fontWeight:"bold",color:"#0969da"},statLabel:{fontSize:"10px",color:"#57606a",textTransform:"uppercase"},branchSelect:{backgroundColor:"#ffffff",color:"#24292f",border:"1px solid #d0d7de",borderRadius:"4px",padding:"6px 10px",fontSize:"12px",cursor:"pointer",minWidth:"120px"},main:{height:"calc(100vh - 140px)",maxWidth:"1800px",margin:"0 auto",padding:"0 15px"}},mm={goal:"#22c55e",decision:"#eab308",option:"#06b6d4",action:"#ef4444",outcome:"#a855f7",observation:"#6b7280"};function ge(e){return mm[e]||"#6b7280"}const vR={leads_to:"#3b82f6",requires:"#8b5cf6",chosen:"#22c55e",rejected:"#ef4444",blocks:"#f97316",enables:"#06b6d4"};function yR(e){return vR[e]||"#6b7280"}const xR={high:{bg:"#22c55e33",text:"#4ade80"},med:{bg:"#eab30833",text:"#fbbf24"},low:{bg:"#ef444433",text:"#f87171"}};function _R(e){return e?xR[e]:null}const br=({type:e,size:t="md"})=>{const n=ge(e),r=["goal","decision","option"].includes(e),i={fontSize:t==="sm"?"9px":"10px",textTransform:"uppercase",padding:t==="sm"?"2px 5px":"2px 6px",borderRadius:"3px",display:"inline-block",backgroundColor:n,color:r?"#000":"#fff",fontWeight:500};return l.jsx("span",{style:i,children:e})},vm=({confidence:e})=>{if(e==null)return null;const t=sR(e),n=_R(t);if(!n)return null;const r={fontSize:"10px",padding:"2px 6px",borderRadius:"10px",fontWeight:600,backgroundColor:n.bg,color:n.text};return l.jsxs("span",{style:r,children:[e,"%"]})},ys=({commit:e,repo:t=gm})=>{if(!e)return null;const n=pm(e),r=C2(e,t),i={fontSize:"10px",padding:"2px 6px",borderRadius:"4px",fontWeight:500,fontFamily:"monospace",backgroundColor:"#ddf4ff",color:"#0969da",textDecoration:"none",transition:"all 0.2s"};return l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:i,title:`View commit ${n}`,onMouseOver:o=>{o.currentTarget.style.backgroundColor="#b6e3ff",o.currentTarget.style.color="#0550ae"},onMouseOut:o=>{o.currentTarget.style.backgroundColor="#ddf4ff",o.currentTarget.style.color="#0969da"},children:n})},yy=({type:e})=>{const t=e==="chosen",n=e==="rejected",r={fontSize:"10px",padding:"2px 6px",borderRadius:"3px",backgroundColor:t?"#dafbe1":n?"#ffebe9":"#f6f8fa",color:t?"#1a7f37":n?"#cf222e":"#57606a",border:`1px solid ${t?"#1a7f37":n?"#cf222e":"#d0d7de"}`};return l.jsx("span",{style:r,children:e})},wR=({node:e,repo:t})=>{const n=Xs(e),r=wr(e);return l.jsxs("span",{style:{display:"inline-flex",gap:"6px",alignItems:"center"},children:[l.jsx(br,{type:e.node_type}),l.jsx(vm,{confidence:n}),l.jsx(ys,{commit:r,repo:t})]})},bR=({status:e})=>{const t={pending:{bg:"#f6f8fa",text:"#57606a",border:"#d0d7de"},active:{bg:"#ddf4ff",text:"#0969da",border:"#54aeff"},completed:{bg:"#dafbe1",text:"#1a7f37",border:"#4ac26b"},rejected:{bg:"#ffebe9",text:"#cf222e",border:"#ff8182"}},n=t[e]||t.pending,r={fontSize:"10px",padding:"2px 6px",borderRadius:"10px",backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`};return l.jsx("span",{style:r,children:e})};function qi(e){return e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${(e/1e3).toFixed(1)}k`:String(e)}function k2(e){return e===null?"-":e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`}function SR(e){const t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3);return r<60?"now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:`${Math.floor(r/86400)}d ago`}function Fa(e){return e?e.includes("opus")?"opus":e.includes("sonnet")?"sonnet":e.includes("haiku")?"haiku":"model":"-"}function CR(e){if(!e.ended_at)return"...";const t=new Date(e.started_at),n=new Date(e.ended_at),r=Math.floor((n.getTime()-t.getTime())/1e3);return r<60?`${r}s`:r<3600?`${Math.floor(r/60)}m ${r%60}s`:`${Math.floor(r/3600)}h ${Math.floor(r%3600/60)}m`}function kR(e,t){return!e||t.length===0?null:t.find(n=>n.hash===e||n.short_hash===e)??null}const Fo=({node:e,graphData:t,onSelectNode:n,onClose:r,repo:i,gitHistory:o=[]})=>{const a=Ks(),[s,u]=C.useState(null),[c,d]=C.useState(null),f=(S,j)=>{a(`/traces?session=${S.slice(0,8)}&span=${j}`)};C.useEffect(()=>{if(!e){u(null);return}(async()=>{try{const x=await(await fetch(`/api/nodes/${e.id}/traces`)).json();x.ok&&x.data&&u(x.data)}catch(j){console.error("Failed to fetch trace info:",j),u(null)}})()},[e==null?void 0:e.id]);const h=i??S2(t);if(!e)return l.jsx("div",{style:V.panel,children:l.jsxs("div",{style:V.empty,children:[l.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",style:{opacity:.3},children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 6v6l4 2"})]}),l.jsx("p",{style:{marginTop:"20px"},children:"Select a node to see details"})]})});const p=t.edges.filter(S=>S.to_node_id===e.id),y=t.edges.filter(S=>S.from_node_id===e.id),m=iR(e),_=oR(e),g=hm(e),v=wr(e),w=kR(v,o),b=S=>{const j=t.nodes.find(x=>x.id===S);return(j==null?void 0:j.title)||"Unknown"};return l.jsxs("div",{style:V.panel,children:[r&&l.jsx("button",{onClick:r,style:V.closeButton,children:""}),l.jsxs("div",{style:V.header,children:[l.jsx(wR,{node:e,repo:i}),l.jsx("h2",{style:V.title,children:e.title}),l.jsxs("div",{style:V.meta,children:[l.jsxs("span",{children:["ID: ",e.id]}),l.jsx("span",{children:l.jsx(bR,{status:e.status})}),l.jsxs("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),e.description&&l.jsx("div",{style:V.description,children:e.description}),m&&l.jsxs("div",{style:V.section,children:[l.jsx("h3",{style:V.sectionTitle,children:"Prompt"}),l.jsx("div",{style:V.prompt,children:m})]}),_&&_.length>0&&l.jsxs("div",{style:V.section,children:[l.jsx("h3",{style:V.sectionTitle,children:"Associated Files"}),l.jsx("div",{style:V.fileList,children:_.map((S,j)=>l.jsx("span",{style:V.fileTag,children:S},j))})]}),g&&l.jsxs("div",{style:V.section,children:[l.jsx("h3",{style:V.sectionTitle,children:"Branch"}),l.jsx("span",{style:V.branchTag,children:g})]}),v&&l.jsxs("div",{style:V.section,children:[l.jsx("h3",{style:V.sectionTitle,children:"Linked Commit"}),l.jsxs("div",{style:V.commitSection,children:[l.jsx("a",{href:C2(v,h),target:"_blank",rel:"noopener noreferrer",style:V.commitHash,children:pm(v)}),w&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:V.commitMessage,children:w.message}),l.jsxs("div",{style:V.commitMeta,children:["by ",w.author,"  ",new Date(w.date).toLocaleDateString(),w.files_changed&&`  ${w.files_changed} files`]})]})]})]}),s&&s.spans.length>0&&l.jsxs("div",{style:V.section,children:[l.jsx("h3",{style:V.sectionTitle,children:"Created During Trace"}),s.spans.map(S=>{const j=c===S.span_id,x=S.thinking_preview||S.response_preview||S.tool_names;return l.jsxs("div",{style:V.traceInfo,children:[l.jsxs("div",{style:{...V.traceHeader,cursor:"pointer"},onClick:()=>x&&d(j?null:S.span_id),children:[l.jsxs("span",{style:V.traceSpan,children:[x&&l.jsx("span",{style:{marginRight:"4px"},children:j?"":""}),"Span #",S.sequence_num]}),S.model&&l.jsx("span",{style:V.traceModel,children:Fa(S.model)}),S.duration_ms&&l.jsx("span",{style:V.traceDuration,children:k2(S.duration_ms)}),l.jsx("button",{style:V.traceLink,onClick:k=>{k.stopPropagation(),f(S.session_id,S.span_id)},title:"View full span in Traces",children:" View"})]}),l.jsxs("div",{style:V.traceSession,children:["Session: ",l.jsx("span",{style:V.sessionLink,onClick:()=>f(S.session_id,S.span_id),children:S.session_id.slice(0,8)}),S.tool_names&&l.jsxs("span",{style:V.traceTools,children:["  Tools: ",S.tool_names]})]}),j&&l.jsxs("div",{style:V.traceContent,children:[S.user_preview&&l.jsxs("div",{style:V.traceContentBlock,children:[l.jsx("div",{style:V.traceContentLabel,children:"User"}),l.jsx("div",{style:V.traceContentText,children:S.user_preview})]}),S.thinking_preview&&l.jsxs("div",{style:V.traceContentBlock,children:[l.jsx("div",{style:V.traceContentLabel,children:"Thinking"}),l.jsx("div",{style:V.traceContentText,children:S.thinking_preview})]}),S.response_preview&&l.jsxs("div",{style:V.traceContentBlock,children:[l.jsx("div",{style:V.traceContentLabel,children:"Response"}),l.jsx("div",{style:V.traceContentText,children:S.response_preview})]})]})]},S.span_id)})]}),p.length>0&&l.jsxs("div",{style:V.section,children:[l.jsxs("h3",{style:V.sectionTitle,children:["Incoming (",p.length,")"]}),p.map(S=>l.jsxs("div",{style:V.connection,onClick:()=>n(S.from_node_id),children:[l.jsxs("div",{style:V.connectionHeader,children:[l.jsx(yy,{type:S.edge_type}),l.jsx("span",{style:V.arrow,children:""}),l.jsx("span",{style:V.connectionTitle,children:b(S.from_node_id)})]}),S.rationale&&l.jsx("div",{style:V.connectionRationale,children:S.rationale})]},S.id))]}),y.length>0&&l.jsxs("div",{style:V.section,children:[l.jsxs("h3",{style:V.sectionTitle,children:["Outgoing (",y.length,")"]}),y.map(S=>l.jsxs("div",{style:V.connection,onClick:()=>n(S.to_node_id),children:[l.jsxs("div",{style:V.connectionHeader,children:[l.jsx(yy,{type:S.edge_type}),l.jsx("span",{style:V.arrow,children:""}),l.jsx("span",{style:V.connectionTitle,children:b(S.to_node_id)})]}),S.rationale&&l.jsx("div",{style:V.connectionRationale,children:S.rationale})]},S.id))]}),l.jsxs("div",{style:V.navLinks,children:[l.jsx("a",{href:"../decision-graph",style:V.link,children:"Learn about the graph "}),l.jsx("a",{href:"../claude-tooling",style:V.link,children:"See the tooling "})]})]})},V={panel:{padding:"25px",height:"100%",overflowY:"auto",backgroundColor:"#ffffff",position:"relative"},empty:{textAlign:"center",color:"#6e7781",paddingTop:"80px"},closeButton:{position:"absolute",top:"15px",right:"15px",width:"30px",height:"30px",border:"none",background:"#f6f8fa",color:"#57606a",borderRadius:"4px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},header:{marginBottom:"20px"},title:{fontSize:"24px",margin:"12px 0 8px 0",color:"#24292f"},meta:{display:"flex",gap:"20px",fontSize:"14px",color:"#57606a",flexWrap:"wrap"},description:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"20px",borderRadius:"8px",marginBottom:"20px",lineHeight:1.6,color:"#24292f"},section:{marginTop:"20px"},sectionTitle:{fontSize:"16px",marginBottom:"12px",color:"#57606a"},connection:{padding:"12px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",marginBottom:"8px",cursor:"pointer",transition:"background-color 0.2s"},connectionHeader:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},connectionTitle:{color:"#24292f",fontSize:"13px",flex:1,minWidth:0},connectionRationale:{color:"#57606a",fontSize:"12px",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #d0d7de",lineHeight:1.4},arrow:{color:"#6e7781",flexShrink:0},navLinks:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #d0d7de"},link:{color:"#0969da",textDecoration:"none",marginRight:"20px",fontSize:"13px"},prompt:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"6px",fontSize:"14px",color:"#24292f",lineHeight:1.6,whiteSpace:"pre-wrap",fontStyle:"italic",borderLeft:"3px solid #0969da"},fileList:{display:"flex",flexWrap:"wrap",gap:"8px"},fileTag:{backgroundColor:"#ddf4ff",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",color:"#0969da",fontFamily:"monospace"},branchTag:{backgroundColor:"#dafbe1",color:"#1a7f37",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"},commitSection:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"6px",borderLeft:"3px solid #0969da"},commitHash:{fontFamily:"monospace",fontSize:"13px",color:"#0969da",textDecoration:"none",backgroundColor:"#ddf4ff",padding:"3px 8px",borderRadius:"4px"},commitMessage:{fontSize:"14px",color:"#24292f",marginTop:"10px",lineHeight:1.5,whiteSpace:"pre-wrap"},commitMeta:{fontSize:"12px",color:"#57606a",marginTop:"8px"},traceInfo:{backgroundColor:"#fff8e6",border:"1px solid #f0d77a",padding:"12px",borderRadius:"6px",marginBottom:"8px",borderLeft:"3px solid #d4a72c"},traceHeader:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},traceSpan:{fontWeight:500,color:"#24292f",fontSize:"13px"},traceModel:{backgroundColor:"#8b5cf6",color:"#fff",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},traceDuration:{color:"#57606a",fontSize:"12px"},traceSession:{marginTop:"6px",fontSize:"12px",color:"#57606a",fontFamily:"monospace"},sessionLink:{color:"#0969da",cursor:"pointer",textDecoration:"underline"},traceLink:{marginLeft:"auto",padding:"2px 6px",border:"1px solid #d4a72c",borderRadius:"4px",backgroundColor:"transparent",color:"#d4a72c",cursor:"pointer",fontSize:"12px",fontWeight:600},traceTools:{color:"#6e7781"},traceContent:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #f0d77a"},traceContentBlock:{marginBottom:"10px"},traceContentLabel:{fontSize:"11px",fontWeight:600,color:"#57606a",textTransform:"uppercase",marginBottom:"4px"},traceContentText:{fontSize:"12px",color:"#24292f",lineHeight:1.5,whiteSpace:"pre-wrap",backgroundColor:"#fffef5",padding:"8px",borderRadius:"4px",maxHeight:"150px",overflow:"auto"}};function jR(e,t){if(!e||t.length===0)return null;const n=t.find(r=>r.hash===e||r.short_hash===e);return(n==null?void 0:n.message)??null}const ER=({graphData:e,chains:t,sessions:n,gitHistory:r=[]})=>{const[i,o]=C.useState("chains"),[a,s]=C.useState(null),[u,c]=C.useState(null),d=a!==null?t[a]:null,f=C.useMemo(()=>{if(!d)return new Map;const m=new Map;return d.edges.forEach(_=>m.set(_.to_node_id,_)),m},[d]),h=m=>{s(m),c(null)},p=m=>{const _=e.nodes.find(g=>g.id===m);_&&(c(_),s(null))},y=m=>{const _=e.nodes.find(g=>g.id===m);_&&c(_)};return l.jsxs("div",{style:Y.container,children:[l.jsxs("div",{style:Y.sidebar,children:[l.jsx("div",{style:Y.viewToggle,children:["chains","sessions","all"].map(m=>l.jsx("button",{onClick:()=>o(m),style:{...Y.viewBtn,...i===m?Y.viewBtnActive:{}},children:m==="all"?"All Nodes":m.charAt(0).toUpperCase()+m.slice(1)},m))}),l.jsxs("div",{style:Y.sidebarContent,children:[i==="chains"&&l.jsx(TR,{chains:t,selectedIndex:a,onSelect:h}),i==="sessions"&&l.jsx(RR,{sessions:n,chains:t,selectedChainIndex:a,onSelectChain:h}),i==="all"&&l.jsx(IR,{nodes:e.nodes,selectedNode:u,onSelect:p})]})]}),l.jsx("div",{style:Y.detailPanel,children:d&&!u?l.jsx(MR,{chain:d,edgeMap:f,selectedNode:u,onSelectNode:y,gitHistory:r}):l.jsx(Fo,{node:u,graphData:e,onSelectNode:p,gitHistory:r})})]})},TR=({chains:e,selectedIndex:t,onSelect:n})=>l.jsx("div",{style:Y.nodeList,children:e.map((r,i)=>{const o=[...new Set(r.nodes.map(s=>s.node_type))],a=t===i;return l.jsxs("div",{onClick:()=>n(i),style:{...Y.chainItem,...a?Y.chainItemSelected:{}},children:[l.jsxs("div",{style:Y.chainSummary,children:[l.jsx(br,{type:r.root.node_type,size:"sm"}),l.jsx("span",{style:Y.chainTitle,children:Ye(r.root.title,40)})]}),l.jsxs("div",{style:Y.chainStats,children:[r.nodes.length," nodes  ",r.edges.length," edges"]}),l.jsx("div",{style:Y.chainTypes,children:o.map(s=>l.jsx("span",{style:{...Y.chainTypeDot,backgroundColor:ge(s)},title:s},s))})]},i)})}),RR=({sessions:e,chains:t,selectedChainIndex:n,onSelectChain:r})=>{const[i,o]=C.useState(new Set),a=s=>{o(u=>{const c=new Set(u);return c.has(s)?c.delete(s):c.add(s),c})};return l.jsx("div",{children:e.map((s,u)=>{const c=new Date(s.startTime),d=c.toLocaleDateString("en-US",{month:"short",day:"numeric"}),f=c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),h=i.has(u);return l.jsxs("div",{style:Y.sessionGroup,children:[l.jsxs("div",{onClick:()=>a(u),style:{...Y.sessionHeader,...h?Y.sessionHeaderExpanded:{}},children:[l.jsx("span",{style:{...Y.sessionToggle,transform:h?"rotate(90deg)":"none"},children:""}),l.jsxs("span",{style:Y.sessionTitle,children:[d," @ ",f]}),l.jsxs("span",{style:Y.sessionCount,children:[s.nodes.length," nodes"]})]}),h&&l.jsx("div",{style:Y.chainList,children:s.chains.length>0?s.chains.map(p=>{const y=t.indexOf(p),m=[...new Set(p.nodes.map(_=>_.node_type))];return l.jsxs("div",{onClick:()=>r(y),style:{...Y.chainItem,...n===y?Y.chainItemSelected:{}},children:[l.jsxs("div",{style:Y.chainSummary,children:[l.jsx(br,{type:p.root.node_type,size:"sm"}),l.jsx("span",{style:Y.chainTitle,children:Ye(p.root.title,35)})]}),l.jsxs("div",{style:Y.chainStats,children:[p.nodes.length," nodes  ",p.edges.length," edges"]}),l.jsx("div",{style:Y.chainTypes,children:m.map(_=>l.jsx("span",{style:{...Y.chainTypeDot,backgroundColor:ge(_)},title:_},_))})]},y)}):l.jsx("div",{style:{color:"#666",fontSize:"12px",padding:"10px"},children:"No complete chains in this session"})})]},u)})})},IR=({nodes:e,selectedNode:t,onSelect:n})=>l.jsx("div",{style:Y.nodeList,children:e.map(r=>l.jsxs("div",{onClick:()=>n(r.id),style:{...Y.nodeItem,...(t==null?void 0:t.id)===r.id?Y.nodeItemSelected:{}},children:[l.jsx(br,{type:r.node_type}),l.jsx("div",{style:Y.nodeTitle,children:r.title})]},r.id))}),MR=({chain:e,edgeMap:t,selectedNode:n,onSelectNode:r,gitHistory:i})=>{const o=lR(e.nodes[0].created_at,e.nodes[e.nodes.length-1].created_at);return l.jsxs("div",{style:Y.chainFlow,children:[l.jsxs("div",{style:Y.chainFlowHeader,children:[l.jsx(br,{type:e.root.node_type}),l.jsx("h2",{style:Y.chainFlowTitle,children:e.root.title}),l.jsxs("div",{style:Y.chainFlowMeta,children:[e.nodes.length," nodes  ",e.edges.length," connections  ",o]})]}),l.jsx("div",{style:Y.flowTimeline,children:e.nodes.map(a=>{const s=t.get(a.id),u=(n==null?void 0:n.id)===a.id,c=new Date(a.created_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),d=Xs(a),f=wr(a),h=jR(f,i);return l.jsxs(yg.Fragment,{children:[(s==null?void 0:s.rationale)&&l.jsxs("div",{style:Y.flowEdgeLabel,children:[" ",s.rationale]}),l.jsxs("div",{onClick:()=>r(a.id),style:{...Y.flowNode,borderColor:u?"#0969da":"#d0d7de",backgroundColor:u?"#ddf4ff":"#ffffff"},children:[l.jsx("div",{style:{...Y.flowNodeMarker,backgroundColor:ge(a.node_type),borderColor:ge(a.node_type)}}),l.jsxs("div",{style:Y.flowNodeHeader,children:[l.jsx(br,{type:a.node_type,size:"sm"}),l.jsx(vm,{confidence:d}),l.jsx(ys,{commit:f}),l.jsx("span",{style:Y.flowNodeTitle,children:a.title}),l.jsx("span",{style:Y.flowNodeTime,children:c})]}),h&&l.jsxs("div",{style:Y.commitMessage,children:[l.jsx("span",{style:Y.commitIcon,children:""})," ",h]}),a.description&&l.jsx("div",{style:Y.flowNodeDesc,children:a.description})]})]},a.id)})}),l.jsxs("div",{style:Y.navLinks,children:[l.jsx("a",{href:"../decision-graph",style:Y.link,children:"Learn about the graph "}),l.jsx("a",{href:"../claude-tooling",style:Y.link,children:"See the tooling "})]})]})},Y={container:{display:"flex",height:"100%",gap:"0"},sidebar:{width:"380px",backgroundColor:"#f6f8fa",borderRight:"1px solid #d0d7de",display:"flex",flexDirection:"column",flexShrink:0},viewToggle:{display:"flex",padding:"10px",gap:"5px",borderBottom:"1px solid #d0d7de"},viewBtn:{flex:1,padding:"8px",border:"1px solid #d0d7de",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},viewBtnActive:{backgroundColor:"#0969da",color:"#ffffff",borderColor:"#0969da"},sidebarContent:{flex:1,overflowY:"auto"},nodeList:{padding:"10px"},chainItem:{padding:"10px 12px",margin:"4px 0",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"6px",cursor:"pointer",borderLeft:"3px solid transparent"},chainItemSelected:{borderLeftColor:"#0969da",backgroundColor:"#ddf4ff"},chainSummary:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},chainTitle:{fontSize:"13px",flex:1,color:"#24292f"},chainStats:{fontSize:"10px",color:"#6e7781"},chainTypes:{display:"flex",gap:"3px",marginTop:"6px"},chainTypeDot:{width:"8px",height:"8px",borderRadius:"50%"},sessionGroup:{borderBottom:"1px solid #d0d7de"},sessionHeader:{padding:"12px 15px",backgroundColor:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},sessionHeaderExpanded:{},sessionToggle:{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6e7781",transition:"transform 0.2s"},sessionTitle:{flex:1,fontSize:"13px",fontWeight:600,color:"#24292f"},sessionCount:{fontSize:"11px",color:"#57606a",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"2px 8px",borderRadius:"10px"},chainList:{padding:"5px 10px 10px"},nodeItem:{padding:"12px",marginBottom:"8px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"6px",cursor:"pointer",borderLeft:"4px solid transparent"},nodeItemSelected:{borderLeftColor:"#0969da",backgroundColor:"#ddf4ff"},nodeTitle:{fontSize:"14px",lineHeight:1.4,marginTop:"6px",color:"#24292f"},detailPanel:{flex:1,overflowY:"auto",backgroundColor:"#ffffff"},chainFlow:{maxWidth:"700px",padding:"25px"},chainFlowHeader:{marginBottom:"25px"},chainFlowTitle:{fontSize:"20px",marginTop:"8px",marginBottom:"8px",color:"#24292f"},chainFlowMeta:{fontSize:"12px",color:"#6e7781"},flowTimeline:{position:"relative",paddingLeft:"30px"},flowEdgeLabel:{fontSize:"11px",color:"#1a7f37",margin:"-10px 0 10px 0",paddingLeft:"5px",fontWeight:500},flowNode:{position:"relative",marginBottom:"20px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #d0d7de",cursor:"pointer",transition:"all 0.2s"},flowNodeMarker:{position:"absolute",left:"-26px",top:"20px",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid"},flowNodeHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",flexWrap:"wrap"},flowNodeTitle:{fontSize:"14px",fontWeight:500,flex:1,color:"#24292f"},flowNodeTime:{fontSize:"10px",color:"#6e7781"},flowNodeDesc:{fontSize:"12px",color:"#57606a",lineHeight:1.5},commitMessage:{fontSize:"12px",color:"#0969da",backgroundColor:"#ddf4ff",padding:"6px 10px",borderRadius:"4px",marginBottom:"6px",marginTop:"4px",display:"flex",alignItems:"flex-start",gap:"6px",whiteSpace:"pre-wrap"},commitIcon:{fontSize:"11px",flexShrink:0},navLinks:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #d0d7de"},link:{color:"#0969da",textDecoration:"none",marginRight:"20px",fontSize:"13px"}},NR=({graphData:e,gitHistory:t=[]})=>{const[n,r]=C.useState("all"),[i,o]=C.useState(""),[a,s]=C.useState(null),u=C.useMemo(()=>fR(e.nodes,t),[e.nodes,t]),c=C.useMemo(()=>{let f=u;if(n==="nodes"?f=f.filter(h=>h.type==="node"):n==="commits"?f=f.filter(h=>h.type==="commit"):n==="linked"&&(f=f.filter(h=>h.type==="node"&&h.linkedCommits&&h.linkedCommits.length>0||h.type==="commit"&&h.linkedNodes&&h.linkedNodes.length>0)),i){const h=i.toLowerCase();f=f.filter(p=>{var y;return p.type==="node"?p.node.title.toLowerCase().includes(h)||(((y=p.node.description)==null?void 0:y.toLowerCase().includes(h))??!1):p.commit.message.toLowerCase().includes(h)})}return f},[u,n,i]),d=f=>{const h=e.nodes.find(p=>p.id===f);h&&s(h)};return l.jsxs("div",{style:he.container,children:[l.jsxs("div",{style:he.controls,children:[l.jsx("h2",{style:he.title,children:"Timeline"}),l.jsx("div",{style:he.filterButtons,children:["all","nodes","commits","linked"].map(f=>l.jsx("button",{onClick:()=>r(f),style:{...he.filterBtn,...n===f?he.filterBtnActive:{}},children:f==="all"?"All":f.charAt(0).toUpperCase()+f.slice(1)},f))}),l.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:f=>o(f.target.value),style:he.search})]}),l.jsx("div",{style:he.timelineContainer,children:l.jsxs("div",{style:he.timeline,children:[c.map((f,h)=>l.jsx(PR,{item:f,onSelectNode:d},h)),c.length===0&&l.jsx("div",{style:he.empty,children:"No items match your filters"})]})}),l.jsx("div",{style:he.detailPanel,children:l.jsx(Fo,{node:a,graphData:e,onSelectNode:d,onClose:()=>s(null),gitHistory:t})})]})},PR=({item:e,onSelectNode:t})=>{const n=e.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric"}),r=e.timestamp.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});if(e.type==="node"&&e.node){const i=e.node,o=Xs(i),a=wr(i);return l.jsxs("div",{style:he.timelineItem,onClick:()=>t(i.id),children:[l.jsx("div",{style:{...he.marker,backgroundColor:ge(i.node_type)}}),l.jsxs("div",{style:he.itemContent,children:[l.jsxs("div",{style:he.itemHeader,children:[l.jsx(br,{type:i.node_type,size:"sm"}),l.jsx(vm,{confidence:o}),a&&l.jsx(ys,{commit:a}),l.jsxs("span",{style:he.itemTime,children:[n," ",r]})]}),l.jsx("div",{style:he.itemTitle,children:i.title}),i.description&&l.jsx("div",{style:he.itemDesc,children:Ye(i.description,100)}),e.linkedCommits&&e.linkedCommits.length>0&&l.jsxs("div",{style:he.linked,children:["Linked to ",e.linkedCommits.length," commit(s)"]})]})]})}if(e.type==="commit"&&e.commit){const i=e.commit;return l.jsxs("div",{style:he.timelineItem,children:[l.jsx("div",{style:{...he.marker,backgroundColor:"#3b82f6"}}),l.jsxs("div",{style:he.itemContent,children:[l.jsxs("div",{style:he.itemHeader,children:[l.jsx("span",{style:he.commitBadgeSmall,children:"commit"}),l.jsx(ys,{commit:i.hash}),l.jsxs("span",{style:he.itemTime,children:[n," ",r]})]}),l.jsx("div",{style:he.itemTitle,children:i.message}),l.jsxs("div",{style:he.itemMeta,children:["by ",i.author,i.files_changed&&`  ${i.files_changed} files`]}),e.linkedNodes&&e.linkedNodes.length>0&&l.jsxs("div",{style:he.linked,children:["Linked to ",e.linkedNodes.length," decision(s)"]})]})]})}return null},he={container:{height:"100%",display:"flex",gap:"0"},controls:{width:"200px",padding:"20px",backgroundColor:"#f6f8fa",borderRight:"1px solid #d0d7de",flexShrink:0},title:{fontSize:"16px",margin:"0 0 15px 0",color:"#24292f"},filterButtons:{display:"flex",flexDirection:"column",gap:"4px"},filterBtn:{padding:"8px 12px",fontSize:"12px",border:"1px solid #d0d7de",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",textAlign:"left"},filterBtnActive:{backgroundColor:"#0969da",color:"#ffffff",borderColor:"#0969da"},search:{width:"100%",padding:"8px",marginTop:"15px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"12px"},timelineContainer:{flex:2,overflowY:"auto",padding:"20px",backgroundColor:"#ffffff"},timeline:{maxWidth:"700px",position:"relative",paddingLeft:"30px"},timelineItem:{position:"relative",marginBottom:"15px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #d0d7de",cursor:"pointer",transition:"border-color 0.2s"},marker:{position:"absolute",left:"-24px",top:"20px",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid #ffffff"},itemContent:{},itemHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",flexWrap:"wrap"},itemTime:{fontSize:"11px",color:"#6e7781",marginLeft:"auto"},itemTitle:{fontSize:"14px",color:"#24292f",marginBottom:"4px"},itemDesc:{fontSize:"12px",color:"#57606a",lineHeight:1.4},itemMeta:{fontSize:"11px",color:"#6e7781"},linked:{fontSize:"11px",color:"#1a7f37",marginTop:"8px"},commitBadgeSmall:{fontSize:"9px",padding:"2px 6px",backgroundColor:"#ddf4ff",color:"#0969da",borderRadius:"3px",textTransform:"uppercase"},detailPanel:{flex:1,minWidth:"350px",borderLeft:"1px solid #d0d7de"},empty:{textAlign:"center",color:"#6e7781",padding:"40px"}};var AR={value:()=>{}};function $o(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $a(n)}function $a(e){this._=e}function LR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$a.prototype=$o.prototype={constructor:$a,on:function(e,t){var n=this._,r=LR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=zR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=xy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=xy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $a(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function zR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function xy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=AR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var eg="http://www.w3.org/1999/xhtml";const _y={svg:"http://www.w3.org/2000/svg",xhtml:eg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_y.hasOwnProperty(t)?{space:_y[t],local:e}:e}function OR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===eg&&t.documentElement.namespaceURI===eg?t.createElement(e):t.createElementNS(n,e)}}function DR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function j2(e){var t=Qs(e);return(t.local?DR:OR)(t)}function qR(){}function ym(e){return e==null?qR:function(){return this.querySelector(e)}}function BR(e){typeof e!="function"&&(e=ym(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,c,d=0;d<a;++d)(u=o[d])&&(c=e.call(u,u.__data__,d,o))&&("__data__"in u&&(c.__data__=u.__data__),s[d]=c);return new pt(r,this._parents)}function FR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $R(){return[]}function E2(e){return e==null?$R:function(){return this.querySelectorAll(e)}}function UR(e){return function(){return FR(e.apply(this,arguments))}}function WR(e){typeof e=="function"?e=UR(e):e=E2(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),i.push(u));return new pt(r,i)}function T2(e){return function(){return this.matches(e)}}function R2(e){return function(t){return t.matches(e)}}var HR=Array.prototype.find;function GR(e){return function(){return HR.call(this.children,e)}}function VR(){return this.firstElementChild}function YR(e){return this.select(e==null?VR:GR(typeof e=="function"?e:R2(e)))}var KR=Array.prototype.filter;function XR(){return Array.from(this.children)}function QR(e){return function(){return KR.call(this.children,e)}}function JR(e){return this.selectAll(e==null?XR:QR(typeof e=="function"?e:R2(e)))}function ZR(e){typeof e!="function"&&(e=T2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new pt(r,this._parents)}function I2(e){return new Array(e.length)}function e6(){return new pt(this._enter||this._groups.map(I2),this._parents)}function xs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xs.prototype={constructor:xs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function t6(e){return function(){return e}}function n6(e,t,n,r,i,o){for(var a=0,s,u=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new xs(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function r6(e,t,n,r,i,o,a){var s,u,c=new Map,d=t.length,f=o.length,h=new Array(d),p;for(s=0;s<d;++s)(u=t[s])&&(h[s]=p=a.call(u,u.__data__,s,t)+"",c.has(p)?i[s]=u:c.set(p,u));for(s=0;s<f;++s)p=a.call(e,o[s],s,o)+"",(u=c.get(p))?(r[s]=u,u.__data__=o[s],c.delete(p)):n[s]=new xs(e,o[s]);for(s=0;s<d;++s)(u=t[s])&&c.get(h[s])===u&&(i[s]=u)}function i6(e){return e.__data__}function o6(e,t){if(!arguments.length)return Array.from(this,i6);var n=t?r6:n6,r=this._parents,i=this._groups;typeof e!="function"&&(e=t6(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var d=r[c],f=i[c],h=f.length,p=a6(e.call(d,d&&d.__data__,c,r)),y=p.length,m=s[c]=new Array(y),_=a[c]=new Array(y),g=u[c]=new Array(h);n(d,f,m,_,g,p,t);for(var v=0,w=0,b,S;v<y;++v)if(b=m[v]){for(v>=w&&(w=v+1);!(S=_[w])&&++w<y;);b._next=S||null}}return a=new pt(a,r),a._enter=s,a._exit=u,a}function a6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s6(){return new pt(this._exit||this._groups.map(I2),this._parents)}function l6(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function u6(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c=n[u],d=r[u],f=c.length,h=s[u]=new Array(f),p,y=0;y<f;++y)(p=c[y]||d[y])&&(h[y]=p);for(;u<i;++u)s[u]=n[u];return new pt(s,this._parents)}function c6(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function d6(e){e||(e=f6);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),c,d=0;d<s;++d)(c=a[d])&&(u[d]=c);u.sort(t)}return new pt(i,this._parents).order()}function f6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function p6(){return Array.from(this)}function g6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function m6(){let e=0;for(const t of this)++e;return e}function v6(){return!this.node()}function y6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function x6(e){return function(){this.removeAttribute(e)}}function _6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w6(e,t){return function(){this.setAttribute(e,t)}}function b6(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function S6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function C6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function k6(e,t){var n=Qs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_6:x6:typeof t=="function"?n.local?C6:S6:n.local?b6:w6)(n,t))}function M2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j6(e){return function(){this.style.removeProperty(e)}}function E6(e,t,n){return function(){this.style.setProperty(e,t,n)}}function T6(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function R6(e,t,n){return arguments.length>1?this.each((t==null?j6:typeof t=="function"?T6:E6)(e,t,n??"")):gi(this.node(),e)}function gi(e,t){return e.style.getPropertyValue(t)||M2(e).getComputedStyle(e,null).getPropertyValue(t)}function I6(e){return function(){delete this[e]}}function M6(e,t){return function(){this[e]=t}}function N6(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function P6(e,t){return arguments.length>1?this.each((t==null?I6:typeof t=="function"?N6:M6)(e,t)):this.node()[e]}function N2(e){return e.trim().split(/^|\s+/)}function xm(e){return e.classList||new P2(e)}function P2(e){this._node=e,this._names=N2(e.getAttribute("class")||"")}P2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function A2(e,t){for(var n=xm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function L2(e,t){for(var n=xm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function A6(e){return function(){A2(this,e)}}function L6(e){return function(){L2(this,e)}}function z6(e,t){return function(){(t.apply(this,arguments)?A2:L2)(this,e)}}function O6(e,t){var n=N2(e+"");if(arguments.length<2){for(var r=xm(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?z6:t?A6:L6)(n,t))}function D6(){this.textContent=""}function q6(e){return function(){this.textContent=e}}function B6(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function F6(e){return arguments.length?this.each(e==null?D6:(typeof e=="function"?B6:q6)(e)):this.node().textContent}function $6(){this.innerHTML=""}function U6(e){return function(){this.innerHTML=e}}function W6(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function H6(e){return arguments.length?this.each(e==null?$6:(typeof e=="function"?W6:U6)(e)):this.node().innerHTML}function G6(){this.nextSibling&&this.parentNode.appendChild(this)}function V6(){return this.each(G6)}function Y6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K6(){return this.each(Y6)}function X6(e){var t=typeof e=="function"?e:j2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Q6(){return null}function J6(e,t){var n=typeof e=="function"?e:j2(e),r=t==null?Q6:typeof t=="function"?t:ym(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Z6(){var e=this.parentNode;e&&e.removeChild(this)}function eI(){return this.each(Z6)}function tI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rI(e){return this.select(e?nI:tI)}function iI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function oI(e){return function(t){e.call(this,t,this.__data__)}}function aI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function sI(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function lI(e,t,n){return function(){var r=this.__on,i,o=oI(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function uI(e,t,n){var r=aI(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,d;u<c;++u)for(i=0,d=s[u];i<o;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?lI:sI,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function z2(e,t,n){var r=M2(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function cI(e,t){return function(){return z2(this,e,t)}}function dI(e,t){return function(){return z2(this,e,t.apply(this,arguments))}}function fI(e,t){return this.each((typeof t=="function"?dI:cI)(e,t))}function*hI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var O2=[null];function pt(e,t){this._groups=e,this._parents=t}function Uo(){return new pt([[document.documentElement]],O2)}function pI(){return this}pt.prototype=Uo.prototype={constructor:pt,select:BR,selectAll:WR,selectChild:YR,selectChildren:JR,filter:ZR,data:o6,enter:e6,exit:s6,join:l6,merge:u6,selection:pI,order:c6,sort:d6,call:h6,nodes:p6,node:g6,size:m6,empty:v6,each:y6,attr:k6,style:R6,property:P6,classed:O6,text:F6,html:H6,raise:V6,lower:K6,append:X6,insert:J6,remove:eI,clone:rI,datum:iI,on:uI,dispatch:fI,[Symbol.iterator]:hI};function Ke(e){return typeof e=="string"?new pt([[document.querySelector(e)]],[document.documentElement]):new pt([[e]],O2)}function gI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function an(e,t){if(e=gI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const mI={passive:!1},Mo={capture:!0,passive:!1};function Ql(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function D2(e){var t=e.document.documentElement,n=Ke(e).on("dragstart.drag",ai,Mo);"onselectstart"in t?n.on("selectstart.drag",ai,Mo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function q2(e,t){var n=e.document.documentElement,r=Ke(e).on("dragstart.drag",null);t&&(r.on("click.drag",ai,Mo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const va=e=>()=>e;function tg(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}tg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function vI(e){return!e.ctrlKey&&!e.button}function yI(){return this.parentNode}function xI(e,t){return t??{x:e.x,y:e.y}}function _I(){return navigator.maxTouchPoints||"ontouchstart"in this}function wI(){var e=vI,t=yI,n=xI,r=_I,i={},o=$o("start","drag","end"),a=0,s,u,c,d,f=0;function h(b){b.on("mousedown.drag",p).filter(r).on("touchstart.drag",_).on("touchmove.drag",g,mI).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,S){if(!(d||!e.call(this,b,S))){var j=w(this,t.call(this,b,S),b,S,"mouse");j&&(Ke(b.view).on("mousemove.drag",y,Mo).on("mouseup.drag",m,Mo),D2(b.view),Ql(b),c=!1,s=b.clientX,u=b.clientY,j("start",b))}}function y(b){if(ai(b),!c){var S=b.clientX-s,j=b.clientY-u;c=S*S+j*j>f}i.mouse("drag",b)}function m(b){Ke(b.view).on("mousemove.drag mouseup.drag",null),q2(b.view,c),ai(b),i.mouse("end",b)}function _(b,S){if(e.call(this,b,S)){var j=b.changedTouches,x=t.call(this,b,S),k=j.length,T,E;for(T=0;T<k;++T)(E=w(this,x,b,S,j[T].identifier,j[T]))&&(Ql(b),E("start",b,j[T]))}}function g(b){var S=b.changedTouches,j=S.length,x,k;for(x=0;x<j;++x)(k=i[S[x].identifier])&&(ai(b),k("drag",b,S[x]))}function v(b){var S=b.changedTouches,j=S.length,x,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),x=0;x<j;++x)(k=i[S[x].identifier])&&(Ql(b),k("end",b,S[x]))}function w(b,S,j,x,k,T){var E=o.copy(),I=an(T||j,S),N,M,R;if((R=n.call(b,new tg("beforestart",{sourceEvent:j,target:h,identifier:k,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:E}),x))!=null)return N=R.x-I[0]||0,M=R.y-I[1]||0,function D(L,F,A){var O=I,z;switch(L){case"start":i[k]=D,z=a++;break;case"end":delete i[k],--a;case"drag":I=an(A||F,S),z=a;break}E.call(L,b,new tg(L,{sourceEvent:F,subject:R,target:h,identifier:k,active:z,x:I[0]+N,y:I[1]+M,dx:I[0]-O[0],dy:I[1]-O[1],dispatch:E}),x)}}return h.filter=function(b){return arguments.length?(e=typeof b=="function"?b:va(!!b),h):e},h.container=function(b){return arguments.length?(t=typeof b=="function"?b:va(b),h):t},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:va(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:va(!!b),h):r},h.on=function(){var b=o.on.apply(o,arguments);return b===o?h:b},h.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,h):Math.sqrt(f)},h}function _m(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function B2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wo(){}var No=.7,_s=1/No,si="\\s*([+-]?\\d+)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bI=/^#([0-9a-f]{3,8})$/,SI=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),CI=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),kI=new RegExp(`^rgba\\(${si},${si},${si},${Po}\\)$`),jI=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${Po}\\)$`),EI=new RegExp(`^hsl\\(${Po},${Kt},${Kt}\\)$`),TI=new RegExp(`^hsla\\(${Po},${Kt},${Kt},${Po}\\)$`),wy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_m(Wo,Ao,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:by,formatHex:by,formatHex8:RI,formatHsl:II,formatRgb:Sy,toString:Sy});function by(){return this.rgb().formatHex()}function RI(){return this.rgb().formatHex8()}function II(){return F2(this).formatHsl()}function Sy(){return this.rgb().formatRgb()}function Ao(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cy(t):n===3?new rt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ya(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ya(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SI.exec(e))?new rt(t[1],t[2],t[3],1):(t=CI.exec(e))?new rt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kI.exec(e))?ya(t[1],t[2],t[3],t[4]):(t=jI.exec(e))?ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EI.exec(e))?Ey(t[1],t[2]/100,t[3]/100,1):(t=TI.exec(e))?Ey(t[1],t[2]/100,t[3]/100,t[4]):wy.hasOwnProperty(e)?Cy(wy[e]):e==="transparent"?new rt(NaN,NaN,NaN,0):null}function Cy(e){return new rt(e>>16&255,e>>8&255,e&255,1)}function ya(e,t,n,r){return r<=0&&(e=t=n=NaN),new rt(e,t,n,r)}function MI(e){return e instanceof Wo||(e=Ao(e)),e?(e=e.rgb(),new rt(e.r,e.g,e.b,e.opacity)):new rt}function ng(e,t,n,r){return arguments.length===1?MI(e):new rt(e,t,n,r??1)}function rt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_m(rt,ng,B2(Wo,{brighter(e){return e=e==null?_s:Math.pow(_s,e),new rt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?No:Math.pow(No,e),new rt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rt(pr(this.r),pr(this.g),pr(this.b),ws(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ky,formatHex:ky,formatHex8:NI,formatRgb:jy,toString:jy}));function ky(){return`#${cr(this.r)}${cr(this.g)}${cr(this.b)}`}function NI(){return`#${cr(this.r)}${cr(this.g)}${cr(this.b)}${cr((isNaN(this.opacity)?1:this.opacity)*255)}`}function jy(){const e=ws(this.opacity);return`${e===1?"rgb(":"rgba("}${pr(this.r)}, ${pr(this.g)}, ${pr(this.b)}${e===1?")":`, ${e})`}`}function ws(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cr(e){return e=pr(e),(e<16?"0":"")+e.toString(16)}function Ey(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mt(e,t,n,r)}function F2(e){if(e instanceof Mt)return new Mt(e.h,e.s,e.l,e.opacity);if(e instanceof Wo||(e=Ao(e)),!e)return new Mt;if(e instanceof Mt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Mt(a,s,u,e.opacity)}function PI(e,t,n,r){return arguments.length===1?F2(e):new Mt(e,t,n,r??1)}function Mt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_m(Mt,PI,B2(Wo,{brighter(e){return e=e==null?_s:Math.pow(_s,e),new Mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?No:Math.pow(No,e),new Mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new rt(Jl(e>=240?e-240:e+120,i,r),Jl(e,i,r),Jl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Mt(Ty(this.h),xa(this.s),xa(this.l),ws(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ws(this.opacity);return`${e===1?"hsl(":"hsla("}${Ty(this.h)}, ${xa(this.s)*100}%, ${xa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ty(e){return e=(e||0)%360,e<0?e+360:e}function xa(e){return Math.max(0,Math.min(1,e||0))}function Jl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $2=e=>()=>e;function AI(e,t){return function(n){return e+n*t}}function LI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zI(e){return(e=+e)==1?U2:function(t,n){return n-t?LI(t,n,e):$2(isNaN(t)?n:t)}}function U2(e,t){var n=t-e;return n?AI(e,n):$2(isNaN(e)?t:e)}const Ry=function e(t){var n=zI(t);function r(i,o){var a=n((i=ng(i)).r,(o=ng(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),c=U2(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=u(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Rn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(rg.source,"g");function OI(e){return function(){return e}}function DI(e){return function(t){return e(t)+""}}function qI(e,t){var n=rg.lastIndex=Zl.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=rg.exec(e))&&(i=Zl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Rn(r,i)})),n=Zl.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?DI(u[0].x):OI(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)s[(f=u[d]).i]=f.x(c);return s.join("")})}var Iy=180/Math.PI,ig={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W2(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Iy,skewX:Math.atan(u)*Iy,scaleX:a,scaleY:s}}var _a;function BI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ig:W2(t.a,t.b,t.c,t.d,t.e,t.f)}function FI(e){return e==null||(_a||(_a=document.createElementNS("http://www.w3.org/2000/svg","g")),_a.setAttribute("transform",e),!(e=_a.transform.baseVal.consolidate()))?ig:(e=e.matrix,W2(e.a,e.b,e.c,e.d,e.e,e.f))}function H2(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,d,f,h,p,y){if(c!==f||d!==h){var m=p.push("translate(",null,t,null,n);y.push({i:m-4,x:Rn(c,f)},{i:m-2,x:Rn(d,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function a(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Rn(c,d)})):d&&f.push(i(f)+"rotate("+d+r)}function s(c,d,f,h){c!==d?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Rn(c,d)}):d&&f.push(i(f)+"skewX("+d+r)}function u(c,d,f,h,p,y){if(c!==f||d!==h){var m=p.push(i(p)+"scale(",null,",",null,")");y.push({i:m-4,x:Rn(c,f)},{i:m-2,x:Rn(d,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,f,h),a(c.rotate,d.rotate,f,h),s(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(p){for(var y=-1,m=h.length,_;++y<m;)f[(_=h[y]).i]=_.x(p);return f.join("")}}}var $I=H2(BI,"px, ","px)","deg)"),UI=H2(FI,", ",")",")"),WI=1e-12;function My(e){return((e=Math.exp(e))+1/e)/2}function HI(e){return((e=Math.exp(e))-1/e)/2}function GI(e){return((e=Math.exp(2*e))-1)/(e+1)}const VI=function e(t,n,r){function i(o,a){var s=o[0],u=o[1],c=o[2],d=a[0],f=a[1],h=a[2],p=d-s,y=f-u,m=p*p+y*y,_,g;if(m<WI)g=Math.log(h/c)/t,_=function(x){return[s+x*p,u+x*y,c*Math.exp(t*x*g)]};else{var v=Math.sqrt(m),w=(h*h-c*c+r*m)/(2*c*n*v),b=(h*h-c*c-r*m)/(2*h*n*v),S=Math.log(Math.sqrt(w*w+1)-w),j=Math.log(Math.sqrt(b*b+1)-b);g=(j-S)/t,_=function(x){var k=x*g,T=My(S),E=c/(n*v)*(T*GI(t*k+S)-HI(S));return[s+E*p,u+E*y,c*T/My(t*k+S)]}}return _.duration=g*1e3*t/Math.SQRT2,_}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4);var mi=0,Yi=0,Bi=0,G2=1e3,bs,Ki,Ss=0,Sr=0,Js=0,Lo=typeof performance=="object"&&performance.now?performance:Date,V2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wm(){return Sr||(V2(YI),Sr=Lo.now()+Js)}function YI(){Sr=0}function Cs(){this._call=this._time=this._next=null}Cs.prototype=bm.prototype={constructor:Cs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wm():+n)+(t==null?0:+t),!this._next&&Ki!==this&&(Ki?Ki._next=this:bs=this,Ki=this),this._call=e,this._time=n,og()},stop:function(){this._call&&(this._call=null,this._time=1/0,og())}};function bm(e,t,n){var r=new Cs;return r.restart(e,t,n),r}function KI(){wm(),++mi;for(var e=bs,t;e;)(t=Sr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mi}function Ny(){Sr=(Ss=Lo.now())+Js,mi=Yi=0;try{KI()}finally{mi=0,QI(),Sr=0}}function XI(){var e=Lo.now(),t=e-Ss;t>G2&&(Js-=t,Ss=e)}function QI(){for(var e,t=bs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:bs=n);Ki=e,og(r)}function og(e){if(!mi){Yi&&(Yi=clearTimeout(Yi));var t=e-Sr;t>24?(e<1/0&&(Yi=setTimeout(Ny,e-Lo.now()-Js)),Bi&&(Bi=clearInterval(Bi))):(Bi||(Ss=Lo.now(),Bi=setInterval(XI,G2)),mi=1,V2(Ny))}}function Py(e,t,n){var r=new Cs;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var JI=$o("start","end","cancel","interrupt"),ZI=[],Y2=0,Ay=1,ag=2,Ua=3,Ly=4,sg=5,Wa=6;function Zs(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;e4(e,n,{name:t,index:r,group:i,on:JI,tween:ZI,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Y2})}function Sm(e,t){var n=Lt(e,t);if(n.state>Y2)throw new Error("too late; already scheduled");return n}function Xt(e,t){var n=Lt(e,t);if(n.state>Ua)throw new Error("too late; already running");return n}function Lt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function e4(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=bm(o,0,n.time);function o(c){n.state=Ay,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,h,p;if(n.state!==Ay)return u();for(d in r)if(p=r[d],p.name===n.name){if(p.state===Ua)return Py(a);p.state===Ly?(p.state=Wa,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=Wa,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(Py(function(){n.state===Ua&&(n.state=Ly,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ag,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ag){for(n.state=Ua,i=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function s(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=sg,1),f=-1,h=i.length;++f<h;)i[f].call(e,d);n.state===sg&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Wa,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Ha(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>ag&&r.state<sg,r.state=Wa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function t4(e){return this.each(function(){Ha(this,e)})}function n4(e,t){var n,r;return function(){var i=Xt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function r4(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Xt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function i4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Lt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?n4:r4)(n,e,t))}function Cm(e,t,n){var r=e._id;return e.each(function(){var i=Xt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Lt(i,r).value[t]}}function K2(e,t){var n;return(typeof t=="number"?Rn:t instanceof Ao?Ry:(n=Ao(t))?(t=n,Ry):qI)(e,t)}function o4(e){return function(){this.removeAttribute(e)}}function a4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s4(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function l4(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function u4(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function c4(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function d4(e,t){var n=Qs(e),r=n==="transform"?UI:K2;return this.attrTween(e,typeof t=="function"?(n.local?c4:u4)(n,r,Cm(this,"attr."+e,t)):t==null?(n.local?a4:o4)(n):(n.local?l4:s4)(n,r,t))}function f4(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function h4(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function p4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&h4(e,o)),n}return i._value=t,i}function g4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&f4(e,o)),n}return i._value=t,i}function m4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Qs(e);return this.tween(n,(r.local?p4:g4)(r,t))}function v4(e,t){return function(){Sm(this,e).delay=+t.apply(this,arguments)}}function y4(e,t){return t=+t,function(){Sm(this,e).delay=t}}function x4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v4:y4)(t,e)):Lt(this.node(),t).delay}function _4(e,t){return function(){Xt(this,e).duration=+t.apply(this,arguments)}}function w4(e,t){return t=+t,function(){Xt(this,e).duration=t}}function b4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_4:w4)(t,e)):Lt(this.node(),t).duration}function S4(e,t){if(typeof t!="function")throw new Error;return function(){Xt(this,e).ease=t}}function C4(e){var t=this._id;return arguments.length?this.each(S4(t,e)):Lt(this.node(),t).ease}function k4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Xt(this,e).ease=n}}function j4(e){if(typeof e!="function")throw new Error;return this.each(k4(this._id,e))}function E4(e){typeof e!="function"&&(e=T2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new yn(r,this._parents,this._name,this._id)}function T4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],c=n[s],d=u.length,f=a[s]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;s<r;++s)a[s]=t[s];return new yn(a,this._parents,this._name,this._id)}function R4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function I4(e,t,n){var r,i,o=R4(t)?Sm:Xt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function M4(e,t){var n=this._id;return arguments.length<2?Lt(this.node(),n).on.on(e):this.each(I4(n,e,t))}function N4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function P4(){return this.on("end.remove",N4(this._id))}function A4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ym(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,c=o[a]=new Array(u),d,f,h=0;h<u;++h)(d=s[h])&&(f=e.call(d,d.__data__,h,s))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Zs(c[h],t,n,h,c,Lt(d,n)));return new yn(o,this._parents,t,n)}function L4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=E2(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=e.call(d,d.__data__,f,u),p,y=Lt(d,n),m=0,_=h.length;m<_;++m)(p=h[m])&&Zs(p,t,n,m,h,y);o.push(h),a.push(d)}return new yn(o,a,t,n)}var z4=Uo.prototype.constructor;function O4(){return new z4(this._groups,this._parents)}function D4(e,t){var n,r,i;return function(){var o=gi(this,e),a=(this.style.removeProperty(e),gi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function X2(e){return function(){this.style.removeProperty(e)}}function q4(e,t,n){var r,i=n+"",o;return function(){var a=gi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function B4(e,t,n){var r,i,o;return function(){var a=gi(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),gi(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function F4(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=Xt(this,e),c=u.on,d=u.value[o]==null?s||(s=X2(t)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(a,i=d),u.on=r}}function $4(e,t,n){var r=(e+="")=="transform"?$I:K2;return t==null?this.styleTween(e,D4(e,r)).on("end.style."+e,X2(e)):typeof t=="function"?this.styleTween(e,B4(e,r,Cm(this,"style."+e,t))).each(F4(this._id,e)):this.styleTween(e,q4(e,r,t),n).on("end.style."+e,null)}function U4(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function W4(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&U4(e,a,n)),r}return o._value=t,o}function H4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,W4(e,t,n??""))}function G4(e){return function(){this.textContent=e}}function V4(e){return function(){var t=e(this);this.textContent=t??""}}function Y4(e){return this.tween("text",typeof e=="function"?V4(Cm(this,"text",e)):G4(e==null?"":e+""))}function K4(e){return function(t){this.textContent=e.call(this,t)}}function X4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&K4(i)),t}return r._value=e,r}function Q4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,X4(e))}function J4(){for(var e=this._name,t=this._id,n=Q2(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var d=Lt(u,t);Zs(u,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new yn(r,this._parents,e,n)}function Z4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=Xt(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),c.on=t}),i===0&&o()})}var e8=0;function yn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Q2(){return++e8}var en=Uo.prototype;yn.prototype={constructor:yn,select:A4,selectAll:L4,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:E4,merge:T4,selection:O4,transition:J4,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:M4,attr:d4,attrTween:m4,style:$4,styleTween:H4,text:Y4,textTween:Q4,remove:P4,tween:i4,delay:x4,duration:b4,ease:C4,easeVarying:j4,end:Z4,[Symbol.iterator]:en[Symbol.iterator]};function t8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var n8={time:null,delay:0,duration:250,ease:t8};function r8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function i8(e){var t,n;e instanceof yn?(t=e._id,e=e._name):(t=Q2(),(n=n8).time=wm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&Zs(u,e,t,c,a,n||r8(u,t));return new yn(r,this._parents,e,t)}Uo.prototype.interrupt=t4;Uo.prototype.transition=i8;const lg=Math.PI,ug=2*lg,ar=1e-6,o8=ug-ar;function J2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function a8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return J2;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class s8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?J2:a8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-t,c=i-n,d=a-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ar)if(!(Math.abs(f*u-c*d)>ar)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,y=i-s,m=u*u+c*c,_=p*p+y*y,g=Math.sqrt(m),v=Math.sqrt(h),w=o*Math.tan((lg-Math.acos((m+h-_)/(2*g*v)))/2),b=w/v,S=w/g;Math.abs(b-1)>ar&&this._append`L${t+b*d},${n+b*f}`,this._append`A${o},${o},0,0,${+(f*p>d*y)},${this._x1=t+S*u},${this._y1=n+S*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),c=t+s,d=n+u,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ar||Math.abs(this._y1-d)>ar)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%ug+ug),h>o8?this._append`A${r},${r},0,1,${f},${t-s},${n-u}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>ar&&this._append`A${r},${r},0,${+(h>=lg)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function l8(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,a=n.length,s,u=0,c=0;for(o=0;o<a;++o)s=n[o],u+=s.x,c+=s.y;for(u=(u/a-e)*r,c=(c/a-t)*r,o=0;o<a;++o)s=n[o],s.x-=u,s.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function u8(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Z2(this.cover(t,n),t,n,e)}function Z2(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},s=e._x0,u=e._y0,c=e._x1,d=e._y1,f,h,p,y,m,_,g,v;if(!o)return e._root=a,e;for(;o.length;)if((m=t>=(f=(s+c)/2))?s=f:c=f,(_=n>=(h=(u+d)/2))?u=h:d=h,i=o,!(o=o[g=_<<1|m]))return i[g]=a,e;if(p=+e._x.call(null,o.data),y=+e._y.call(null,o.data),t===p&&n===y)return a.next=o,i?i[g]=a:e._root=a,e;do i=i?i[g]=new Array(4):e._root=new Array(4),(m=t>=(f=(s+c)/2))?s=f:c=f,(_=n>=(h=(u+d)/2))?u=h:d=h;while((g=_<<1|m)===(v=(y>=h)<<1|p>=f));return i[v]=o,i[g]=a,e}function c8(e){var t,n,r=e.length,i,o,a=new Array(r),s=new Array(r),u=1/0,c=1/0,d=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,s[n]=o,i<u&&(u=i),i>d&&(d=i),o<c&&(c=o),o>f&&(f=o));if(u>d||c>f)return this;for(this.cover(u,c).cover(d,f),n=0;n<r;++n)Z2(this,a[n],s[n],e[n]);return this}function d8(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,s=this._root,u,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,u=new Array(4),u[c]=s,s=u,a*=2,c){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function f8(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function h8(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xe(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function p8(e,t,n){var r,i=this._x0,o=this._y0,a,s,u,c,d=this._x1,f=this._y1,h=[],p=this._root,y,m;for(p&&h.push(new Xe(p,i,o,d,f)),n==null?n=1/0:(i=e-n,o=t-n,d=e+n,f=t+n,n*=n);y=h.pop();)if(!(!(p=y.node)||(a=y.x0)>d||(s=y.y0)>f||(u=y.x1)<i||(c=y.y1)<o))if(p.length){var _=(a+u)/2,g=(s+c)/2;h.push(new Xe(p[3],_,g,u,c),new Xe(p[2],a,g,_,c),new Xe(p[1],_,s,u,g),new Xe(p[0],a,s,_,g)),(m=(t>=g)<<1|e>=_)&&(y=h[h.length-1],h[h.length-1]=h[h.length-1-m],h[h.length-1-m]=y)}else{var v=e-+this._x.call(null,p.data),w=t-+this._y.call(null,p.data),b=v*v+w*w;if(b<n){var S=Math.sqrt(n=b);i=e-S,o=t-S,d=e+S,f=t+S,r=p.data}}return r}function g8(e){if(isNaN(d=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,s=this._y0,u=this._x1,c=this._y1,d,f,h,p,y,m,_,g;if(!n)return this;if(n.length)for(;;){if((y=d>=(h=(a+u)/2))?a=h:u=h,(m=f>=(p=(s+c)/2))?s=p:c=p,t=n,!(n=n[_=m<<1|y]))return this;if(!n.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(r=t,g=_)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[_]=o:delete t[_],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=o,this)}function m8(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function v8(){return this._root}function y8(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function x8(e){var t=[],n,r=this._root,i,o,a,s,u;for(r&&t.push(new Xe(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,s=n.x1,u=n.y1)&&r.length){var c=(o+s)/2,d=(a+u)/2;(i=r[3])&&t.push(new Xe(i,c,d,s,u)),(i=r[2])&&t.push(new Xe(i,o,d,c,u)),(i=r[1])&&t.push(new Xe(i,c,a,s,d)),(i=r[0])&&t.push(new Xe(i,o,a,c,d))}return this}function _8(e){var t=[],n=[],r;for(this._root&&t.push(new Xe(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,u=r.x1,c=r.y1,d=(a+u)/2,f=(s+c)/2;(o=i[0])&&t.push(new Xe(o,a,s,d,f)),(o=i[1])&&t.push(new Xe(o,d,s,u,f)),(o=i[2])&&t.push(new Xe(o,a,f,d,c)),(o=i[3])&&t.push(new Xe(o,d,f,u,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function w8(e){return e[0]}function b8(e){return arguments.length?(this._x=e,this):this._x}function S8(e){return e[1]}function C8(e){return arguments.length?(this._y=e,this):this._y}function km(e,t,n){var r=new jm(t??w8,n??S8,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function jm(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function zy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var et=km.prototype=jm.prototype;et.copy=function(){var e=new jm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=zy(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=zy(r));return e};et.add=u8;et.addAll=c8;et.cover=d8;et.data=f8;et.extent=h8;et.find=p8;et.remove=g8;et.removeAll=m8;et.root=v8;et.size=y8;et.visit=x8;et.visitAfter=_8;et.x=b8;et.y=C8;function gr(e){return function(){return e}}function zn(e){return(e()-.5)*1e-6}function k8(e){return e.x+e.vx}function j8(e){return e.y+e.vy}function E8(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=gr(e==null?1:+e));function a(){for(var c,d=t.length,f,h,p,y,m,_,g=0;g<o;++g)for(f=km(t,k8,j8).visitAfter(s),c=0;c<d;++c)h=t[c],m=n[h.index],_=m*m,p=h.x+h.vx,y=h.y+h.vy,f.visit(v);function v(w,b,S,j,x){var k=w.data,T=w.r,E=m+T;if(k){if(k.index>h.index){var I=p-k.x-k.vx,N=y-k.y-k.vy,M=I*I+N*N;M<E*E&&(I===0&&(I=zn(r),M+=I*I),N===0&&(N=zn(r),M+=N*N),M=(E-(M=Math.sqrt(M)))/M*i,h.vx+=(I*=M)*(E=(T*=T)/(_+T)),h.vy+=(N*=M)*E,k.vx-=I*(E=1-E),k.vy-=N*E)}return}return b>p+E||j<p-E||S>y+E||x<y-E}}function s(c){if(c.data)return c.r=n[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function u(){if(t){var c,d=t.length,f;for(n=new Array(d),c=0;c<d;++c)f=t[c],n[f.index]=+e(f,c,t)}}return a.initialize=function(c,d){t=c,r=d,u()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:gr(+c),u(),a):e},a}function T8(e){return e.index}function Oy(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function R8(e){var t=T8,n=f,r,i=gr(30),o,a,s,u,c,d=1;e==null&&(e=[]);function f(_){return 1/Math.min(s[_.source.index],s[_.target.index])}function h(_){for(var g=0,v=e.length;g<d;++g)for(var w=0,b,S,j,x,k,T,E;w<v;++w)b=e[w],S=b.source,j=b.target,x=j.x+j.vx-S.x-S.vx||zn(c),k=j.y+j.vy-S.y-S.vy||zn(c),T=Math.sqrt(x*x+k*k),T=(T-o[w])/T*_*r[w],x*=T,k*=T,j.vx-=x*(E=u[w]),j.vy-=k*E,S.vx+=x*(E=1-E),S.vy+=k*E}function p(){if(a){var _,g=a.length,v=e.length,w=new Map(a.map((S,j)=>[t(S,j,a),S])),b;for(_=0,s=new Array(g);_<v;++_)b=e[_],b.index=_,typeof b.source!="object"&&(b.source=Oy(w,b.source)),typeof b.target!="object"&&(b.target=Oy(w,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(_=0,u=new Array(v);_<v;++_)b=e[_],u[_]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(v),y(),o=new Array(v),m()}}function y(){if(a)for(var _=0,g=e.length;_<g;++_)r[_]=+n(e[_],_,e)}function m(){if(a)for(var _=0,g=e.length;_<g;++_)o[_]=+i(e[_],_,e)}return h.initialize=function(_,g){a=_,c=g,p()},h.links=function(_){return arguments.length?(e=_,p(),h):e},h.id=function(_){return arguments.length?(t=_,h):t},h.iterations=function(_){return arguments.length?(d=+_,h):d},h.strength=function(_){return arguments.length?(n=typeof _=="function"?_:gr(+_),y(),h):n},h.distance=function(_){return arguments.length?(i=typeof _=="function"?_:gr(+_),m(),h):i},h}const I8=1664525,M8=1013904223,Dy=4294967296;function N8(){let e=1;return()=>(e=(I8*e+M8)%Dy)/Dy}function P8(e){return e.x}function A8(e){return e.y}var L8=10,z8=Math.PI*(3-Math.sqrt(5));function O8(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=bm(f),c=$o("tick","end"),d=N8();e==null&&(e=[]);function f(){h(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function h(m){var _,g=e.length,v;m===void 0&&(m=1);for(var w=0;w<m;++w)for(n+=(o-n)*i,s.forEach(function(b){b(n)}),_=0;_<g;++_)v=e[_],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return t}function p(){for(var m=0,_=e.length,g;m<_;++m){if(g=e[m],g.index=m,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var v=L8*Math.sqrt(.5+m),w=m*z8;g.x=v*Math.cos(w),g.y=v*Math.sin(w)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function y(m){return m.initialize&&m.initialize(e,d),m}return p(),t={tick:h,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(m){return arguments.length?(e=m,p(),s.forEach(y),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(a=1-m,t):1-a},randomSource:function(m){return arguments.length?(d=m,s.forEach(y),t):d},force:function(m,_){return arguments.length>1?(_==null?s.delete(m):s.set(m,y(_)),t):s.get(m)},find:function(m,_,g){var v=0,w=e.length,b,S,j,x,k;for(g==null?g=1/0:g*=g,v=0;v<w;++v)x=e[v],b=m-x.x,S=_-x.y,j=b*b+S*S,j<g&&(k=x,g=j);return k},on:function(m,_){return arguments.length>1?(c.on(m,_),t):c.on(m)}}}function D8(){var e,t,n,r,i=gr(-30),o,a=1,s=1/0,u=.81;function c(p){var y,m=e.length,_=km(e,P8,A8).visitAfter(f);for(r=p,y=0;y<m;++y)t=e[y],_.visit(h)}function d(){if(e){var p,y=e.length,m;for(o=new Array(y),p=0;p<y;++p)m=e[p],o[m.index]=+i(m,p,e)}}function f(p){var y=0,m,_,g=0,v,w,b;if(p.length){for(v=w=b=0;b<4;++b)(m=p[b])&&(_=Math.abs(m.value))&&(y+=m.value,g+=_,v+=_*m.x,w+=_*m.y);p.x=v/g,p.y=w/g}else{m=p,m.x=m.data.x,m.y=m.data.y;do y+=o[m.data.index];while(m=m.next)}p.value=y}function h(p,y,m,_){if(!p.value)return!0;var g=p.x-t.x,v=p.y-t.y,w=_-y,b=g*g+v*v;if(w*w/u<b)return b<s&&(g===0&&(g=zn(n),b+=g*g),v===0&&(v=zn(n),b+=v*v),b<a&&(b=Math.sqrt(a*b)),t.vx+=g*p.value*r/b,t.vy+=v*p.value*r/b),!0;if(p.length||b>=s)return;(p.data!==t||p.next)&&(g===0&&(g=zn(n),b+=g*g),v===0&&(v=zn(n),b+=v*v),b<a&&(b=Math.sqrt(a*b)));do p.data!==t&&(w=o[p.data.index]*r/b,t.vx+=g*w,t.vy+=v*w);while(p=p.next)}return c.initialize=function(p,y){e=p,n=y,d()},c.strength=function(p){return arguments.length?(i=typeof p=="function"?p:gr(+p),d(),c):i},c.distanceMin=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.distanceMax=function(p){return arguments.length?(s=p*p,c):Math.sqrt(s)},c.theta=function(p){return arguments.length?(u=p*p,c):Math.sqrt(u)},c}function Or(e){return function(){return e}}function q8(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new s8(t)}function B8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eC(e){this._context=e}eC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function F8(e){return new eC(e)}function $8(e){return e[0]}function U8(e){return e[1]}function W8(e,t){var n=Or(!0),r=null,i=F8,o=null,a=q8(s);e=typeof e=="function"?e:e===void 0?$8:Or(e),t=typeof t=="function"?t:t===void 0?U8:Or(t);function s(u){var c,d=(u=B8(u)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),c=0;c<=d;++c)!(c<d&&n(f=u[c],c,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,u),+t(f,c,u));if(p)return o=null,p+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:Or(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:Or(+u),s):t},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Or(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function qy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tC(e){this._context=e}tC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H8(e){return new tC(e)}const wa=e=>()=>e;function G8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cn(e,t,n){this.k=e,this.x=t,this.y=n}cn.prototype={constructor:cn,scale:function(e){return e===1?this:new cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ks=new cn(1,0,0);cn.prototype;function eu(e){e.stopImmediatePropagation()}function Fi(e){e.preventDefault(),e.stopImmediatePropagation()}function V8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Y8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function By(){return this.__zoom||ks}function K8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function X8(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function nC(){var e=V8,t=Y8,n=Q8,r=K8,i=X8,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=VI,c=$o("start","zoom","end"),d,f,h,p=500,y=150,m=0,_=10;function g(R){R.property("__zoom",By).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",E).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(R,D,L,F){var A=R.selection?R.selection():R;A.property("__zoom",By),R!==A?S(R,D,L,F):A.interrupt().each(function(){j(this,arguments).event(F).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(R,D,L,F){g.scaleTo(R,function(){var A=this.__zoom.k,O=typeof D=="function"?D.apply(this,arguments):D;return A*O},L,F)},g.scaleTo=function(R,D,L,F){g.transform(R,function(){var A=t.apply(this,arguments),O=this.__zoom,z=L==null?b(A):typeof L=="function"?L.apply(this,arguments):L,B=O.invert(z),W=typeof D=="function"?D.apply(this,arguments):D;return n(w(v(O,W),z,B),A,a)},L,F)},g.translateBy=function(R,D,L,F){g.transform(R,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),a)},null,F)},g.translateTo=function(R,D,L,F,A){g.transform(R,function(){var O=t.apply(this,arguments),z=this.__zoom,B=F==null?b(O):typeof F=="function"?F.apply(this,arguments):F;return n(ks.translate(B[0],B[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof L=="function"?-L.apply(this,arguments):-L),O,a)},F,A)};function v(R,D){return D=Math.max(o[0],Math.min(o[1],D)),D===R.k?R:new cn(D,R.x,R.y)}function w(R,D,L){var F=D[0]-L[0]*R.k,A=D[1]-L[1]*R.k;return F===R.x&&A===R.y?R:new cn(R.k,F,A)}function b(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function S(R,D,L,F){R.on("start.zoom",function(){j(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(F).end()}).tween("zoom",function(){var A=this,O=arguments,z=j(A,O).event(F),B=t.apply(A,O),W=L==null?b(B):typeof L=="function"?L.apply(A,O):L,ce=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),re=A.__zoom,pe=typeof D=="function"?D.apply(A,O):D,oe=u(re.invert(W).concat(ce/re.k),pe.invert(W).concat(ce/pe.k));return function(K){if(K===1)K=pe;else{var He=oe(K),rr=ce/He[2];K=new cn(rr,W[0]-He[0]*rr,W[1]-He[1]*rr)}z.zoom(null,K)}})}function j(R,D,L){return!L&&R.__zooming||new x(R,D)}function x(R,D){this.that=R,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,D),this.taps=0}x.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,D){return this.mouse&&R!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var D=Ke(this.that).datum();c.call(R,this.that,new G8(R,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),D)}};function k(R,...D){if(!e.apply(this,arguments))return;var L=j(this,D).event(R),F=this.__zoom,A=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),O=an(R);if(L.wheel)(L.mouse[0][0]!==O[0]||L.mouse[0][1]!==O[1])&&(L.mouse[1]=F.invert(L.mouse[0]=O)),clearTimeout(L.wheel);else{if(F.k===A)return;L.mouse=[O,F.invert(O)],Ha(this),L.start()}Fi(R),L.wheel=setTimeout(z,y),L.zoom("mouse",n(w(v(F,A),L.mouse[0],L.mouse[1]),L.extent,a));function z(){L.wheel=null,L.end()}}function T(R,...D){if(h||!e.apply(this,arguments))return;var L=R.currentTarget,F=j(this,D,!0).event(R),A=Ke(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ce,!0),O=an(R,L),z=R.clientX,B=R.clientY;D2(R.view),eu(R),F.mouse=[O,this.__zoom.invert(O)],Ha(this),F.start();function W(re){if(Fi(re),!F.moved){var pe=re.clientX-z,oe=re.clientY-B;F.moved=pe*pe+oe*oe>m}F.event(re).zoom("mouse",n(w(F.that.__zoom,F.mouse[0]=an(re,L),F.mouse[1]),F.extent,a))}function ce(re){A.on("mousemove.zoom mouseup.zoom",null),q2(re.view,F.moved),Fi(re),F.event(re).end()}}function E(R,...D){if(e.apply(this,arguments)){var L=this.__zoom,F=an(R.changedTouches?R.changedTouches[0]:R,this),A=L.invert(F),O=L.k*(R.shiftKey?.5:2),z=n(w(v(L,O),F,A),t.apply(this,D),a);Fi(R),s>0?Ke(this).transition().duration(s).call(S,z,F,R):Ke(this).call(g.transform,z,F,R)}}function I(R,...D){if(e.apply(this,arguments)){var L=R.touches,F=L.length,A=j(this,D,R.changedTouches.length===F).event(R),O,z,B,W;for(eu(R),z=0;z<F;++z)B=L[z],W=an(B,this),W=[W,this.__zoom.invert(W),B.identifier],A.touch0?!A.touch1&&A.touch0[2]!==W[2]&&(A.touch1=W,A.taps=0):(A.touch0=W,O=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),O&&(A.taps<2&&(f=W[0],d=setTimeout(function(){d=null},p)),Ha(this),A.start())}}function N(R,...D){if(this.__zooming){var L=j(this,D).event(R),F=R.changedTouches,A=F.length,O,z,B,W;for(Fi(R),O=0;O<A;++O)z=F[O],B=an(z,this),L.touch0&&L.touch0[2]===z.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===z.identifier&&(L.touch1[0]=B);if(z=L.that.__zoom,L.touch1){var ce=L.touch0[0],re=L.touch0[1],pe=L.touch1[0],oe=L.touch1[1],K=(K=pe[0]-ce[0])*K+(K=pe[1]-ce[1])*K,He=(He=oe[0]-re[0])*He+(He=oe[1]-re[1])*He;z=v(z,Math.sqrt(K/He)),B=[(ce[0]+pe[0])/2,(ce[1]+pe[1])/2],W=[(re[0]+oe[0])/2,(re[1]+oe[1])/2]}else if(L.touch0)B=L.touch0[0],W=L.touch0[1];else return;L.zoom("touch",n(w(z,B,W),L.extent,a))}}function M(R,...D){if(this.__zooming){var L=j(this,D).event(R),F=R.changedTouches,A=F.length,O,z;for(eu(R),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),O=0;O<A;++O)z=F[O],L.touch0&&L.touch0[2]===z.identifier?delete L.touch0:L.touch1&&L.touch1[2]===z.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(z=an(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<_)){var B=Ke(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:wa(+R),g):r},g.filter=function(R){return arguments.length?(e=typeof R=="function"?R:wa(!!R),g):e},g.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:wa(!!R),g):i},g.extent=function(R){return arguments.length?(t=typeof R=="function"?R:wa([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),g):t},g.scaleExtent=function(R){return arguments.length?(o[0]=+R[0],o[1]=+R[1],g):[o[0],o[1]]},g.translateExtent=function(R){return arguments.length?(a[0][0]=+R[0][0],a[1][0]=+R[1][0],a[0][1]=+R[0][1],a[1][1]=+R[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(R){return arguments.length?(n=R,g):n},g.duration=function(R){return arguments.length?(s=+R,g):s},g.interpolate=function(R){return arguments.length?(u=R,g):u},g.on=function(){var R=c.on.apply(c,arguments);return R===c?g:R},g.clickDistance=function(R){return arguments.length?(m=(R=+R)*R,g):Math.sqrt(m)},g.tapDistance=function(R){return arguments.length?(_=+R,g):_},g}const J8=({value:e,onChange:t,showAll:n=!0})=>{const r=n?["all",...my]:[...my];return l.jsx("div",{style:tu.container,children:r.map(i=>l.jsx("button",{onClick:()=>t(i),style:{...tu.button,...e===i?tu.buttonActive:{},...i!=="all"?{borderLeftColor:ge(i)}:{}},children:i==="all"?"All":i.charAt(0).toUpperCase()+i.slice(1)},i))})},tu={container:{display:"flex",gap:"4px",flexWrap:"wrap"},button:{padding:"6px 12px",fontSize:"11px",border:"1px solid #d0d7de",borderLeft:"3px solid transparent",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},buttonActive:{backgroundColor:"#ddf4ff",color:"#0969da",borderColor:"#0969da"}},Z8=({graphData:e})=>{const t=C.useRef(null),n=C.useRef(null),[r,i]=C.useState(null),[o,a]=C.useState("all"),[s,u]=C.useState(""),c=C.useRef(null),d=C.useCallback(p=>{i(p)},[]),f=C.useCallback(p=>{const y=e.nodes.find(m=>m.id===p);y&&i(y)},[e.nodes]),h=C.useCallback(()=>{i(null)},[]);return C.useEffect(()=>{if(!t.current||!n.current)return;const p=Ke(t.current),y=n.current,m=y.clientWidth,_=y.clientHeight;p.selectAll("*").remove();const g=p.append("g"),v=nC().scaleExtent([.1,4]).on("zoom",T=>g.attr("transform",T.transform));p.call(v);const w=e.nodes.map(T=>({...T})),b=new Map(w.map(T=>[T.id,T])),S=e.edges.map(T=>({source:b.get(T.from_node_id),target:b.get(T.to_node_id),type:T.edge_type,rationale:T.rationale})).filter(T=>T.source&&T.target),j=O8(w).force("link",R8(S).id(T=>T.id).distance(80)).force("charge",D8().strength(-200)).force("center",l8(m/2,_/2)).force("collision",E8().radius(30));c.current=j;const x=g.append("g").selectAll("line").data(S).join("line").attr("class","link").attr("stroke",T=>T.type==="chosen"?"#22c55e":T.type==="rejected"?"#ef4444":"#3b82f6").attr("stroke-width",1.5).attr("stroke-opacity",.6).attr("stroke-dasharray",T=>T.type==="rejected"?"5,5":null),k=g.append("g").selectAll(".node").data(w).join("g").attr("class","node").style("cursor","pointer").call(wI().on("start",(T,E)=>{T.active||j.alphaTarget(.3).restart(),E.fx=E.x,E.fy=E.y}).on("drag",(T,E)=>{E.fx=T.x,E.fy=T.y}).on("end",(T,E)=>{T.active||j.alphaTarget(0),E.fx=null,E.fy=null}));return k.append("circle").attr("r",T=>T.node_type==="goal"?18:T.node_type==="decision"?15:12).attr("fill",T=>ge(T.node_type)).attr("stroke","#fff").attr("stroke-width",2),k.filter(T=>T.node_type==="goal"||T.node_type==="decision").append("text").attr("dy",30).attr("text-anchor","middle").attr("fill","#57606a").attr("font-size","10px").text(T=>Ye(T.title,20)),k.on("click",(T,E)=>{d(E)}),k.append("title").text(T=>{const E=Xs(T);return`${T.title}
${T.node_type}${E!==null?`  ${E}%`:""}`}),j.on("tick",()=>{x.attr("x1",T=>T.source.x).attr("y1",T=>T.source.y).attr("x2",T=>T.target.x).attr("y2",T=>T.target.y),k.attr("transform",T=>`translate(${T.x},${T.y})`)}),()=>{j.stop()}},[e,d]),C.useEffect(()=>{if(!t.current)return;const p=Ke(t.current),y=s.toLowerCase();p.selectAll(".node").style("opacity",m=>{var _;return s&&!(m.title.toLowerCase().includes(y)||(((_=m.description)==null?void 0:_.toLowerCase().includes(y))??!1))||o!=="all"&&m.node_type!==o?.15:1})},[o,s]),C.useEffect(()=>{if(!t.current)return;const p=Ke(t.current);p.selectAll(".node").classed("selected",y=>y.id===(r==null?void 0:r.id)),p.selectAll(".link").attr("stroke-width",y=>y.source.id===(r==null?void 0:r.id)||y.target.id===(r==null?void 0:r.id)?3:1.5).attr("stroke-opacity",y=>y.source.id===(r==null?void 0:r.id)||y.target.id===(r==null?void 0:r.id)?1:.6)},[r]),l.jsxs("div",{style:Ft.container,children:[l.jsxs("div",{style:Ft.controls,children:[l.jsx("h2",{style:Ft.title,children:"Graph Explorer"}),l.jsx(J8,{value:o,onChange:a}),l.jsx("input",{type:"text",placeholder:"Search nodes...",value:s,onChange:p=>u(p.target.value),style:Ft.search}),l.jsx("div",{style:Ft.legend,children:Object.entries(mm).map(([p,y])=>l.jsxs("div",{style:Ft.legendItem,children:[l.jsx("div",{style:{...Ft.legendDot,backgroundColor:y}}),l.jsx("span",{children:p.charAt(0).toUpperCase()+p.slice(1)})]},p))})]}),l.jsx("div",{ref:n,style:Ft.svgContainer,children:l.jsx("svg",{ref:t,style:Ft.svg})}),r&&l.jsx("div",{style:Ft.detailPanel,children:l.jsx(Fo,{node:r,graphData:e,onSelectNode:f,onClose:h})})]})},Ft={container:{height:"100%",display:"flex",position:"relative",backgroundColor:"#ffffff"},controls:{position:"absolute",top:"20px",left:"20px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"8px",zIndex:10,maxWidth:"250px"},title:{fontSize:"16px",margin:"0 0 12px 0",color:"#24292f"},search:{width:"100%",padding:"8px 12px",marginTop:"12px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"13px"},legend:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"6px"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#57606a"},legendDot:{width:"10px",height:"10px",borderRadius:"50%"},svgContainer:{flex:1,height:"100%"},svg:{width:"100%",height:"100%"},detailPanel:{position:"absolute",top:"20px",right:"20px",bottom:"20px",width:"350px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",padding:"20px",overflowY:"auto",zIndex:10}};function Em(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nu,Fy;function e5(){if(Fy)return nu;Fy=1;function e(){this.__data__=[],this.size=0}return nu=e,nu}var ru,$y;function wi(){if($y)return ru;$y=1;function e(t,n){return t===n||t!==t&&n!==n}return ru=e,ru}var iu,Uy;function el(){if(Uy)return iu;Uy=1;var e=wi();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return iu=t,iu}var ou,Wy;function t5(){if(Wy)return ou;Wy=1;var e=el(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return ou=r,ou}var au,Hy;function n5(){if(Hy)return au;Hy=1;var e=el();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return au=t,au}var su,Gy;function r5(){if(Gy)return su;Gy=1;var e=el();function t(n){return e(this.__data__,n)>-1}return su=t,su}var lu,Vy;function i5(){if(Vy)return lu;Vy=1;var e=el();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return lu=t,lu}var uu,Yy;function tl(){if(Yy)return uu;Yy=1;var e=e5(),t=t5(),n=n5(),r=r5(),i=i5();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,uu=o,uu}var cu,Ky;function o5(){if(Ky)return cu;Ky=1;var e=tl();function t(){this.__data__=new e,this.size=0}return cu=t,cu}var du,Xy;function a5(){if(Xy)return du;Xy=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return du=e,du}var fu,Qy;function s5(){if(Qy)return fu;Qy=1;function e(t){return this.__data__.get(t)}return fu=e,fu}var hu,Jy;function l5(){if(Jy)return hu;Jy=1;function e(t){return this.__data__.has(t)}return hu=e,hu}var pu,Zy;function rC(){if(Zy)return pu;Zy=1;var e=typeof Zo=="object"&&Zo&&Zo.Object===Object&&Zo;return pu=e,pu}var gu,ex;function zt(){if(ex)return gu;ex=1;var e=rC(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return gu=n,gu}var mu,tx;function bi(){if(tx)return mu;tx=1;var e=zt(),t=e.Symbol;return mu=t,mu}var vu,nx;function u5(){if(nx)return vu;nx=1;var e=bi(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(s?a[i]=u:delete a[i]),d}return vu=o,vu}var yu,rx;function c5(){if(rx)return yu;rx=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return yu=n,yu}var xu,ix;function Tr(){if(ix)return xu;ix=1;var e=bi(),t=u5(),n=c5(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return xu=a,xu}var _u,ox;function Ct(){if(ox)return _u;ox=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return _u=e,_u}var wu,ax;function Ho(){if(ax)return wu;ax=1;var e=Tr(),t=Ct(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==i||u==n||u==o}return wu=a,wu}var bu,sx;function d5(){if(sx)return bu;sx=1;var e=zt(),t=e["__core-js_shared__"];return bu=t,bu}var Su,lx;function f5(){if(lx)return Su;lx=1;var e=d5(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Su=n,Su}var Cu,ux;function iC(){if(ux)return Cu;ux=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Cu=n,Cu}var ku,cx;function h5(){if(cx)return ku;cx=1;var e=Ho(),t=f5(),n=Ct(),r=iC(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,d=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?d:o;return p.test(r(h))}return ku=f,ku}var ju,dx;function p5(){if(dx)return ju;dx=1;function e(t,n){return t==null?void 0:t[n]}return ju=e,ju}var Eu,fx;function Rr(){if(fx)return Eu;fx=1;var e=h5(),t=p5();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Eu=n,Eu}var Tu,hx;function Tm(){if(hx)return Tu;hx=1;var e=Rr(),t=zt(),n=e(t,"Map");return Tu=n,Tu}var Ru,px;function nl(){if(px)return Ru;px=1;var e=Rr(),t=e(Object,"create");return Ru=t,Ru}var Iu,gx;function g5(){if(gx)return Iu;gx=1;var e=nl();function t(){this.__data__=e?e(null):{},this.size=0}return Iu=t,Iu}var Mu,mx;function m5(){if(mx)return Mu;mx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Mu=e,Mu}var Nu,vx;function v5(){if(vx)return Nu;vx=1;var e=nl(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return Nu=i,Nu}var Pu,yx;function y5(){if(yx)return Pu;yx=1;var e=nl(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Pu=r,Pu}var Au,xx;function x5(){if(xx)return Au;xx=1;var e=nl(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Au=n,Au}var Lu,_x;function _5(){if(_x)return Lu;_x=1;var e=g5(),t=m5(),n=v5(),r=y5(),i=x5();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lu=o,Lu}var zu,wx;function w5(){if(wx)return zu;wx=1;var e=_5(),t=tl(),n=Tm();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return zu=r,zu}var Ou,bx;function b5(){if(bx)return Ou;bx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Ou=e,Ou}var Du,Sx;function rl(){if(Sx)return Du;Sx=1;var e=b5();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Du=t,Du}var qu,Cx;function S5(){if(Cx)return qu;Cx=1;var e=rl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return qu=t,qu}var Bu,kx;function C5(){if(kx)return Bu;kx=1;var e=rl();function t(n){return e(this,n).get(n)}return Bu=t,Bu}var Fu,jx;function k5(){if(jx)return Fu;jx=1;var e=rl();function t(n){return e(this,n).has(n)}return Fu=t,Fu}var $u,Ex;function j5(){if(Ex)return $u;Ex=1;var e=rl();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return $u=t,$u}var Uu,Tx;function Rm(){if(Tx)return Uu;Tx=1;var e=w5(),t=S5(),n=C5(),r=k5(),i=j5();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Uu=o,Uu}var Wu,Rx;function E5(){if(Rx)return Wu;Rx=1;var e=tl(),t=Tm(),n=Rm(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(o,a),this.size=s.size,this}return Wu=i,Wu}var Hu,Ix;function il(){if(Ix)return Hu;Ix=1;var e=tl(),t=o5(),n=a5(),r=s5(),i=l5(),o=E5();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Hu=a,Hu}var Gu,Mx;function Im(){if(Mx)return Gu;Mx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Gu=e,Gu}var Vu,Nx;function oC(){if(Nx)return Vu;Nx=1;var e=Rr(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Vu=t,Vu}var Yu,Px;function ol(){if(Px)return Yu;Px=1;var e=oC();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Yu=t,Yu}var Ku,Ax;function al(){if(Ax)return Ku;Ax=1;var e=ol(),t=wi(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&t(u,s))||s===void 0&&!(a in o))&&e(o,a,s)}return Ku=i,Ku}var Xu,Lx;function Go(){if(Lx)return Xu;Lx=1;var e=al(),t=ol();function n(r,i,o,a){var s=!o;o||(o={});for(var u=-1,c=i.length;++u<c;){var d=i[u],f=a?a(o[d],r[d],d,o,r):void 0;f===void 0&&(f=r[d]),s?t(o,d,f):e(o,d,f)}return o}return Xu=n,Xu}var Qu,zx;function T5(){if(zx)return Qu;zx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Qu=e,Qu}var Ju,Ox;function Qt(){if(Ox)return Ju;Ox=1;function e(t){return t!=null&&typeof t=="object"}return Ju=e,Ju}var Zu,Dx;function R5(){if(Dx)return Zu;Dx=1;var e=Tr(),t=Qt(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Zu=r,Zu}var ec,qx;function Vo(){if(qx)return ec;qx=1;var e=R5(),t=Qt(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return ec=o,ec}var tc,Bx;function Re(){if(Bx)return tc;Bx=1;var e=Array.isArray;return tc=e,tc}var Xi={exports:{}},nc,Fx;function I5(){if(Fx)return nc;Fx=1;function e(){return!1}return nc=e,nc}Xi.exports;var $x;function Si(){return $x||($x=1,function(e,t){var n=zt(),r=I5(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||r;e.exports=c}(Xi,Xi.exports)),Xi.exports}var rc,Ux;function sl(){if(Ux)return rc;Ux=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return rc=n,rc}var ic,Wx;function Mm(){if(Wx)return ic;Wx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return ic=t,ic}var oc,Hx;function M5(){if(Hx)return oc;Hx=1;var e=Tr(),t=Mm(),n=Qt(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",b="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]",I={};I[v]=I[w]=I[b]=I[S]=I[j]=I[x]=I[k]=I[T]=I[E]=!0,I[r]=I[i]=I[_]=I[o]=I[g]=I[a]=I[s]=I[u]=I[c]=I[d]=I[f]=I[h]=I[p]=I[y]=I[m]=!1;function N(M){return n(M)&&t(M.length)&&!!I[e(M)]}return oc=N,oc}var ac,Gx;function ll(){if(Gx)return ac;Gx=1;function e(t){return function(n){return t(n)}}return ac=e,ac}var Qi={exports:{}};Qi.exports;var Vx;function Nm(){return Vx||(Vx=1,function(e,t){var n=rC(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Qi,Qi.exports)),Qi.exports}var sc,Yx;function Yo(){if(Yx)return sc;Yx=1;var e=M5(),t=ll(),n=Nm(),r=n&&n.isTypedArray,i=r?t(r):e;return sc=i,sc}var lc,Kx;function aC(){if(Kx)return lc;Kx=1;var e=T5(),t=Vo(),n=Re(),r=Si(),i=sl(),o=Yo(),a=Object.prototype,s=a.hasOwnProperty;function u(c,d){var f=n(c),h=!f&&t(c),p=!f&&!h&&r(c),y=!f&&!h&&!p&&o(c),m=f||h||p||y,_=m?e(c.length,String):[],g=_.length;for(var v in c)(d||s.call(c,v))&&!(m&&(v=="length"||p&&(v=="offset"||v=="parent")||y&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,g)))&&_.push(v);return _}return lc=u,lc}var uc,Xx;function ul(){if(Xx)return uc;Xx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return uc=t,uc}var cc,Qx;function sC(){if(Qx)return cc;Qx=1;function e(t,n){return function(r){return t(n(r))}}return cc=e,cc}var dc,Jx;function N5(){if(Jx)return dc;Jx=1;var e=sC(),t=e(Object.keys,Object);return dc=t,dc}var fc,Zx;function Pm(){if(Zx)return fc;Zx=1;var e=ul(),t=N5(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return fc=i,fc}var hc,e0;function wn(){if(e0)return hc;e0=1;var e=Ho(),t=Mm();function n(r){return r!=null&&t(r.length)&&!e(r)}return hc=n,hc}var pc,t0;function nr(){if(t0)return pc;t0=1;var e=aC(),t=Pm(),n=wn();function r(i){return n(i)?e(i):t(i)}return pc=r,pc}var gc,n0;function P5(){if(n0)return gc;n0=1;var e=Go(),t=nr();function n(r,i){return r&&e(i,t(i),r)}return gc=n,gc}var mc,r0;function A5(){if(r0)return mc;r0=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return mc=e,mc}var vc,i0;function L5(){if(i0)return vc;i0=1;var e=Ct(),t=ul(),n=A5(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),u=[];for(var c in a)c=="constructor"&&(s||!i.call(a,c))||u.push(c);return u}return vc=o,vc}var yc,o0;function Ir(){if(o0)return yc;o0=1;var e=aC(),t=L5(),n=wn();function r(i){return n(i)?e(i,!0):t(i)}return yc=r,yc}var xc,a0;function z5(){if(a0)return xc;a0=1;var e=Go(),t=Ir();function n(r,i){return r&&e(i,t(i),r)}return xc=n,xc}var Ji={exports:{}};Ji.exports;var s0;function lC(){return s0||(s0=1,function(e,t){var n=zt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(c,d){if(d)return c.slice();var f=c.length,h=s?s(f):new c.constructor(f);return c.copy(h),h}e.exports=u}(Ji,Ji.exports)),Ji.exports}var _c,l0;function uC(){if(l0)return _c;l0=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return _c=e,_c}var wc,u0;function cC(){if(u0)return wc;u0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return wc=e,wc}var bc,c0;function dC(){if(c0)return bc;c0=1;function e(){return[]}return bc=e,bc}var Sc,d0;function Am(){if(d0)return Sc;d0=1;var e=cC(),t=dC(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Sc=o,Sc}var Cc,f0;function O5(){if(f0)return Cc;f0=1;var e=Go(),t=Am();function n(r,i){return e(r,t(r),i)}return Cc=n,Cc}var kc,h0;function Lm(){if(h0)return kc;h0=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return kc=e,kc}var jc,p0;function cl(){if(p0)return jc;p0=1;var e=sC(),t=e(Object.getPrototypeOf,Object);return jc=t,jc}var Ec,g0;function fC(){if(g0)return Ec;g0=1;var e=Lm(),t=cl(),n=Am(),r=dC(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Ec=o,Ec}var Tc,m0;function D5(){if(m0)return Tc;m0=1;var e=Go(),t=fC();function n(r,i){return e(r,t(r),i)}return Tc=n,Tc}var Rc,v0;function hC(){if(v0)return Rc;v0=1;var e=Lm(),t=Re();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return Rc=n,Rc}var Ic,y0;function pC(){if(y0)return Ic;y0=1;var e=hC(),t=Am(),n=nr();function r(i){return e(i,n,t)}return Ic=r,Ic}var Mc,x0;function q5(){if(x0)return Mc;x0=1;var e=hC(),t=fC(),n=Ir();function r(i){return e(i,n,t)}return Mc=r,Mc}var Nc,_0;function B5(){if(_0)return Nc;_0=1;var e=Rr(),t=zt(),n=e(t,"DataView");return Nc=n,Nc}var Pc,w0;function F5(){if(w0)return Pc;w0=1;var e=Rr(),t=zt(),n=e(t,"Promise");return Pc=n,Pc}var Ac,b0;function gC(){if(b0)return Ac;b0=1;var e=Rr(),t=zt(),n=e(t,"Set");return Ac=n,Ac}var Lc,S0;function $5(){if(S0)return Lc;S0=1;var e=Rr(),t=zt(),n=e(t,"WeakMap");return Lc=n,Lc}var zc,C0;function Ci(){if(C0)return zc;C0=1;var e=B5(),t=Tm(),n=F5(),r=gC(),i=$5(),o=Tr(),a=iC(),s="[object Map]",u="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(e),y=a(t),m=a(n),_=a(r),g=a(i),v=o;return(e&&v(new e(new ArrayBuffer(1)))!=h||t&&v(new t)!=s||n&&v(n.resolve())!=c||r&&v(new r)!=d||i&&v(new i)!=f)&&(v=function(w){var b=o(w),S=b==u?w.constructor:void 0,j=S?a(S):"";if(j)switch(j){case p:return h;case y:return s;case m:return c;case _:return d;case g:return f}return b}),zc=v,zc}var Oc,k0;function U5(){if(k0)return Oc;k0=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Oc=n,Oc}var Dc,j0;function mC(){if(j0)return Dc;j0=1;var e=zt(),t=e.Uint8Array;return Dc=t,Dc}var qc,E0;function zm(){if(E0)return qc;E0=1;var e=mC();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return qc=t,qc}var Bc,T0;function W5(){if(T0)return Bc;T0=1;var e=zm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Bc=t,Bc}var Fc,R0;function H5(){if(R0)return Fc;R0=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Fc=t,Fc}var $c,I0;function G5(){if(I0)return $c;I0=1;var e=bi(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return $c=r,$c}var Uc,M0;function vC(){if(M0)return Uc;M0=1;var e=zm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Uc=t,Uc}var Wc,N0;function V5(){if(N0)return Wc;N0=1;var e=zm(),t=W5(),n=H5(),r=G5(),i=vC(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",c="[object RegExp]",d="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",_="[object Float64Array]",g="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",j="[object Uint16Array]",x="[object Uint32Array]";function k(T,E,I){var N=T.constructor;switch(E){case p:return e(T);case o:case a:return new N(+T);case y:return t(T,I);case m:case _:case g:case v:case w:case b:case S:case j:case x:return i(T,I);case s:return new N;case u:case f:return new N(T);case c:return n(T);case d:return new N;case h:return r(T)}}return Wc=k,Wc}var Hc,P0;function yC(){if(P0)return Hc;P0=1;var e=Ct(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Hc=n,Hc}var Gc,A0;function xC(){if(A0)return Gc;A0=1;var e=yC(),t=cl(),n=ul();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Gc=r,Gc}var Vc,L0;function Y5(){if(L0)return Vc;L0=1;var e=Ci(),t=Qt(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Vc=r,Vc}var Yc,z0;function K5(){if(z0)return Yc;z0=1;var e=Y5(),t=ll(),n=Nm(),r=n&&n.isMap,i=r?t(r):e;return Yc=i,Yc}var Kc,O0;function X5(){if(O0)return Kc;O0=1;var e=Ci(),t=Qt(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Kc=r,Kc}var Xc,D0;function Q5(){if(D0)return Xc;D0=1;var e=X5(),t=ll(),n=Nm(),r=n&&n.isSet,i=r?t(r):e;return Xc=i,Xc}var Qc,q0;function _C(){if(q0)return Qc;q0=1;var e=il(),t=Im(),n=al(),r=P5(),i=z5(),o=lC(),a=uC(),s=O5(),u=D5(),c=pC(),d=q5(),f=Ci(),h=U5(),p=V5(),y=xC(),m=Re(),_=Si(),g=K5(),v=Ct(),w=Q5(),b=nr(),S=Ir(),j=1,x=2,k=4,T="[object Arguments]",E="[object Array]",I="[object Boolean]",N="[object Date]",M="[object Error]",R="[object Function]",D="[object GeneratorFunction]",L="[object Map]",F="[object Number]",A="[object Object]",O="[object RegExp]",z="[object Set]",B="[object String]",W="[object Symbol]",ce="[object WeakMap]",re="[object ArrayBuffer]",pe="[object DataView]",oe="[object Float32Array]",K="[object Float64Array]",He="[object Int8Array]",rr="[object Int16Array]",Xo="[object Int32Array]",Qo="[object Uint8Array]",ji="[object Uint8ClampedArray]",_l="[object Uint16Array]",wl="[object Uint32Array]",de={};de[T]=de[E]=de[re]=de[pe]=de[I]=de[N]=de[oe]=de[K]=de[He]=de[rr]=de[Xo]=de[L]=de[F]=de[A]=de[O]=de[z]=de[B]=de[W]=de[Qo]=de[ji]=de[_l]=de[wl]=!0,de[M]=de[R]=de[ce]=!1;function U(X,Ie,lt,Ei,ae,Ge){var Me,Dt=Ie&j,Sn=Ie&x,Ti=Ie&k;if(lt&&(Me=ae?lt(X,Ei,ae,Ge):lt(X)),Me!==void 0)return Me;if(!v(X))return X;var Pr=m(X);if(Pr){if(Me=h(X),!Dt)return a(X,Me)}else{var Jt=f(X),Ri=Jt==R||Jt==D;if(_(X))return o(X,Dt);if(Jt==A||Jt==T||Ri&&!ae){if(Me=Sn||Ri?{}:y(X),!Dt)return Sn?u(X,i(Me,X)):s(X,r(Me,X))}else{if(!de[Jt])return ae?X:{};Me=p(X,Jt,Dt)}}Ge||(Ge=new e);var Ar=Ge.get(X);if(Ar)return Ar;Ge.set(X,Me),w(X)?X.forEach(function(qt){Me.add(U(qt,Ie,lt,qt,X,Ge))}):g(X)&&X.forEach(function(qt,Zt){Me.set(Zt,U(qt,Ie,lt,Zt,X,Ge))});var Ii=Ti?Sn?d:c:Sn?S:b,Lr=Pr?void 0:Ii(X);return t(Lr||X,function(qt,Zt){Lr&&(Zt=qt,qt=X[Zt]),n(Me,Zt,U(qt,Ie,lt,Zt,X,Ge))}),Me}return Qc=U,Qc}var Jc,B0;function J5(){if(B0)return Jc;B0=1;var e=_C(),t=4;function n(r){return e(r,t)}return Jc=n,Jc}var Zc,F0;function Om(){if(F0)return Zc;F0=1;function e(t){return function(){return t}}return Zc=e,Zc}var ed,$0;function Z5(){if($0)return ed;$0=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),u=s.length;u--;){var c=s[t?u:++o];if(r(a[c],c,a)===!1)break}return n}}return ed=e,ed}var td,U0;function Dm(){if(U0)return td;U0=1;var e=Z5(),t=e();return td=t,td}var nd,W0;function qm(){if(W0)return nd;W0=1;var e=Dm(),t=nr();function n(r,i){return r&&e(r,i,t)}return nd=n,nd}var rd,H0;function e3(){if(H0)return rd;H0=1;var e=wn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return rd=t,rd}var id,G0;function dl(){if(G0)return id;G0=1;var e=qm(),t=e3(),n=t(e);return id=n,id}var od,V0;function Mr(){if(V0)return od;V0=1;function e(t){return t}return od=e,od}var ad,Y0;function wC(){if(Y0)return ad;Y0=1;var e=Mr();function t(n){return typeof n=="function"?n:e}return ad=t,ad}var sd,K0;function bC(){if(K0)return sd;K0=1;var e=Im(),t=dl(),n=wC(),r=Re();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return sd=i,sd}var ld,X0;function SC(){return X0||(X0=1,ld=bC()),ld}var ud,Q0;function t3(){if(Q0)return ud;Q0=1;var e=dl();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return ud=t,ud}var cd,J0;function n3(){if(J0)return cd;J0=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return cd=t,cd}var dd,Z0;function r3(){if(Z0)return dd;Z0=1;function e(t){return this.__data__.has(t)}return dd=e,dd}var fd,e1;function CC(){if(e1)return fd;e1=1;var e=Rm(),t=n3(),n=r3();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,fd=r,fd}var hd,t1;function i3(){if(t1)return hd;t1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return hd=e,hd}var pd,n1;function kC(){if(n1)return pd;n1=1;function e(t,n){return t.has(n)}return pd=e,pd}var gd,r1;function jC(){if(r1)return gd;r1=1;var e=CC(),t=i3(),n=kC(),r=1,i=2;function o(a,s,u,c,d,f){var h=u&r,p=a.length,y=s.length;if(p!=y&&!(h&&y>p))return!1;var m=f.get(a),_=f.get(s);if(m&&_)return m==s&&_==a;var g=-1,v=!0,w=u&i?new e:void 0;for(f.set(a,s),f.set(s,a);++g<p;){var b=a[g],S=s[g];if(c)var j=h?c(S,b,g,s,a,f):c(b,S,g,a,s,f);if(j!==void 0){if(j)continue;v=!1;break}if(w){if(!t(s,function(x,k){if(!n(w,k)&&(b===x||d(b,x,u,c,f)))return w.push(k)})){v=!1;break}}else if(!(b===S||d(b,S,u,c,f))){v=!1;break}}return f.delete(a),f.delete(s),v}return gd=o,gd}var md,i1;function o3(){if(i1)return md;i1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return md=e,md}var vd,o1;function Bm(){if(o1)return vd;o1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return vd=e,vd}var yd,a1;function a3(){if(a1)return yd;a1=1;var e=bi(),t=mC(),n=wi(),r=jC(),i=o3(),o=Bm(),a=1,s=2,u="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",m="[object String]",_="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",w=e?e.prototype:void 0,b=w?w.valueOf:void 0;function S(j,x,k,T,E,I,N){switch(k){case v:if(j.byteLength!=x.byteLength||j.byteOffset!=x.byteOffset)return!1;j=j.buffer,x=x.buffer;case g:return!(j.byteLength!=x.byteLength||!I(new t(j),new t(x)));case u:case c:case h:return n(+j,+x);case d:return j.name==x.name&&j.message==x.message;case p:case m:return j==x+"";case f:var M=i;case y:var R=T&a;if(M||(M=o),j.size!=x.size&&!R)return!1;var D=N.get(j);if(D)return D==x;T|=s,N.set(j,x);var L=r(M(j),M(x),T,E,I,N);return N.delete(j),L;case _:if(b)return b.call(j)==b.call(x)}return!1}return yd=S,yd}var xd,s1;function s3(){if(s1)return xd;s1=1;var e=pC(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,u,c,d){var f=s&t,h=e(o),p=h.length,y=e(a),m=y.length;if(p!=m&&!f)return!1;for(var _=p;_--;){var g=h[_];if(!(f?g in a:r.call(a,g)))return!1}var v=d.get(o),w=d.get(a);if(v&&w)return v==a&&w==o;var b=!0;d.set(o,a),d.set(a,o);for(var S=f;++_<p;){g=h[_];var j=o[g],x=a[g];if(u)var k=f?u(x,j,g,a,o,d):u(j,x,g,o,a,d);if(!(k===void 0?j===x||c(j,x,s,u,d):k)){b=!1;break}S||(S=g=="constructor")}if(b&&!S){var T=o.constructor,E=a.constructor;T!=E&&"constructor"in o&&"constructor"in a&&!(typeof T=="function"&&T instanceof T&&typeof E=="function"&&E instanceof E)&&(b=!1)}return d.delete(o),d.delete(a),b}return xd=i,xd}var _d,l1;function l3(){if(l1)return _d;l1=1;var e=il(),t=jC(),n=a3(),r=s3(),i=Ci(),o=Re(),a=Si(),s=Yo(),u=1,c="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(m,_,g,v,w,b){var S=o(m),j=o(_),x=S?d:i(m),k=j?d:i(_);x=x==c?f:x,k=k==c?f:k;var T=x==f,E=k==f,I=x==k;if(I&&a(m)){if(!a(_))return!1;S=!0,T=!1}if(I&&!T)return b||(b=new e),S||s(m)?t(m,_,g,v,w,b):n(m,_,x,g,v,w,b);if(!(g&u)){var N=T&&p.call(m,"__wrapped__"),M=E&&p.call(_,"__wrapped__");if(N||M){var R=N?m.value():m,D=M?_.value():_;return b||(b=new e),w(R,D,g,v,b)}}return I?(b||(b=new e),r(m,_,g,v,w,b)):!1}return _d=y,_d}var wd,u1;function EC(){if(u1)return wd;u1=1;var e=l3(),t=Qt();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return wd=n,wd}var bd,c1;function u3(){if(c1)return bd;c1=1;var e=il(),t=EC(),n=1,r=2;function i(o,a,s,u){var c=s.length,d=c,f=!u;if(o==null)return!d;for(o=Object(o);c--;){var h=s[c];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++c<d;){h=s[c];var p=h[0],y=o[p],m=h[1];if(f&&h[2]){if(y===void 0&&!(p in o))return!1}else{var _=new e;if(u)var g=u(y,m,p,o,a,_);if(!(g===void 0?t(m,y,n|r,u,_):g))return!1}}return!0}return bd=i,bd}var Sd,d1;function TC(){if(d1)return Sd;d1=1;var e=Ct();function t(n){return n===n&&!e(n)}return Sd=t,Sd}var Cd,f1;function c3(){if(f1)return Cd;f1=1;var e=TC(),t=nr();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Cd=n,Cd}var kd,h1;function RC(){if(h1)return kd;h1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return kd=e,kd}var jd,p1;function d3(){if(p1)return jd;p1=1;var e=u3(),t=c3(),n=RC();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return jd=r,jd}var Ed,g1;function ki(){if(g1)return Ed;g1=1;var e=Tr(),t=Qt(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ed=r,Ed}var Td,m1;function Fm(){if(m1)return Td;m1=1;var e=Re(),t=ki(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Td=i,Td}var Rd,v1;function f3(){if(v1)return Rd;v1=1;var e=Rm(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var c=r.apply(this,a);return o.cache=u.set(s,c)||u,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,Rd=n,Rd}var Id,y1;function h3(){if(y1)return Id;y1=1;var e=f3(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Id=n,Id}var Md,x1;function p3(){if(x1)return Md;x1=1;var e=h3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,u,c){o.push(u?c.replace(n,"$1"):s||a)}),o});return Md=r,Md}var Nd,_1;function fl(){if(_1)return Nd;_1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Nd=e,Nd}var Pd,w1;function g3(){if(w1)return Pd;w1=1;var e=bi(),t=fl(),n=Re(),r=ki(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return Pd=a,Pd}var Ad,b1;function IC(){if(b1)return Ad;b1=1;var e=g3();function t(n){return n==null?"":e(n)}return Ad=t,Ad}var Ld,S1;function hl(){if(S1)return Ld;S1=1;var e=Re(),t=Fm(),n=p3(),r=IC();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return Ld=i,Ld}var zd,C1;function Ko(){if(C1)return zd;C1=1;var e=ki();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return zd=t,zd}var Od,k1;function pl(){if(k1)return Od;k1=1;var e=hl(),t=Ko();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return Od=n,Od}var Dd,j1;function m3(){if(j1)return Dd;j1=1;var e=pl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Dd=t,Dd}var qd,E1;function v3(){if(E1)return qd;E1=1;function e(t,n){return t!=null&&n in Object(t)}return qd=e,qd}var Bd,T1;function MC(){if(T1)return Bd;T1=1;var e=hl(),t=Vo(),n=Re(),r=sl(),i=Mm(),o=Ko();function a(s,u,c){u=e(u,s);for(var d=-1,f=u.length,h=!1;++d<f;){var p=o(u[d]);if(!(h=s!=null&&c(s,p)))break;s=s[p]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&r(p,f)&&(n(s)||t(s)))}return Bd=a,Bd}var Fd,R1;function NC(){if(R1)return Fd;R1=1;var e=v3(),t=MC();function n(r,i){return r!=null&&t(r,i,e)}return Fd=n,Fd}var $d,I1;function y3(){if(I1)return $d;I1=1;var e=EC(),t=m3(),n=NC(),r=Fm(),i=TC(),o=RC(),a=Ko(),s=1,u=2;function c(d,f){return r(d)&&i(f)?o(a(d),f):function(h){var p=t(h,d);return p===void 0&&p===f?n(h,d):e(f,p,s|u)}}return $d=c,$d}var Ud,M1;function PC(){if(M1)return Ud;M1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Ud=e,Ud}var Wd,N1;function x3(){if(N1)return Wd;N1=1;var e=pl();function t(n){return function(r){return e(r,n)}}return Wd=t,Wd}var Hd,P1;function _3(){if(P1)return Hd;P1=1;var e=PC(),t=x3(),n=Fm(),r=Ko();function i(o){return n(o)?e(r(o)):t(o)}return Hd=i,Hd}var Gd,A1;function bn(){if(A1)return Gd;A1=1;var e=d3(),t=y3(),n=Mr(),r=Re(),i=_3();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Gd=o,Gd}var Vd,L1;function AC(){if(L1)return Vd;L1=1;var e=cC(),t=t3(),n=bn(),r=Re();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return Vd=i,Vd}var Yd,z1;function w3(){if(z1)return Yd;z1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Yd=n,Yd}var Kd,O1;function LC(){if(O1)return Kd;O1=1;var e=w3(),t=MC();function n(r,i){return r!=null&&t(r,i,e)}return Kd=n,Kd}var Xd,D1;function b3(){if(D1)return Xd;D1=1;var e=Pm(),t=Ci(),n=Vo(),r=Re(),i=wn(),o=Si(),a=ul(),s=Yo(),u="[object Map]",c="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||s(p)||n(p)))return!p.length;var y=t(p);if(y==u||y==c)return!p.size;if(a(p))return!e(p).length;for(var m in p)if(f.call(p,m))return!1;return!0}return Xd=h,Xd}var Qd,q1;function zC(){if(q1)return Qd;q1=1;function e(t){return t===void 0}return Qd=e,Qd}var Jd,B1;function OC(){if(B1)return Jd;B1=1;var e=dl(),t=wn();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,c){a[++o]=i(s,u,c)}),a}return Jd=n,Jd}var Zd,F1;function DC(){if(F1)return Zd;F1=1;var e=fl(),t=bn(),n=OC(),r=Re();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Zd=i,Zd}var ef,$1;function S3(){if($1)return ef;$1=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return ef=e,ef}var tf,U1;function C3(){if(U1)return tf;U1=1;function e(t,n,r,i,o){return o(t,function(a,s,u){r=i?(i=!1,a):n(r,a,s,u)}),r}return tf=e,tf}var nf,W1;function qC(){if(W1)return nf;W1=1;var e=S3(),t=dl(),n=bn(),r=C3(),i=Re();function o(a,s,u){var c=i(a)?e:r,d=arguments.length<3;return c(a,n(s,4),u,d,t)}return nf=o,nf}var rf,H1;function k3(){if(H1)return rf;H1=1;var e=Tr(),t=Re(),n=Qt(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return rf=i,rf}var of,G1;function j3(){if(G1)return of;G1=1;var e=PC(),t=e("length");return of=t,of}var af,V1;function E3(){if(V1)return af;V1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function u(c){return s.test(c)}return af=u,af}var sf,Y1;function T3(){if(Y1)return sf;Y1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+u+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=c+"?",m="["+o+"]?",_="(?:"+p+"(?:"+[d,f,h].join("|")+")"+m+y+")*",g=m+y+_,v="(?:"+[d+s+"?",s,f,h,a].join("|")+")",w=RegExp(u+"(?="+u+")|"+v+g,"g");function b(S){for(var j=w.lastIndex=0;w.test(S);)++j;return j}return sf=b,sf}var lf,K1;function R3(){if(K1)return lf;K1=1;var e=j3(),t=E3(),n=T3();function r(i){return t(i)?n(i):e(i)}return lf=r,lf}var uf,X1;function I3(){if(X1)return uf;X1=1;var e=Pm(),t=Ci(),n=wn(),r=k3(),i=R3(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var c=t(u);return c==o||c==a?u.size:e(u).length}return uf=s,uf}var cf,Q1;function M3(){if(Q1)return cf;Q1=1;var e=Im(),t=yC(),n=qm(),r=bn(),i=cl(),o=Re(),a=Si(),s=Ho(),u=Ct(),c=Yo();function d(f,h,p){var y=o(f),m=y||a(f)||c(f);if(h=r(h,4),p==null){var _=f&&f.constructor;m?p=y?new _:[]:u(f)?p=s(_)?t(i(f)):{}:p={}}return(m?e:n)(f,function(g,v,w){return h(p,g,v,w)}),p}return cf=d,cf}var df,J1;function N3(){if(J1)return df;J1=1;var e=bi(),t=Vo(),n=Re(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return df=i,df}var ff,Z1;function $m(){if(Z1)return ff;Z1=1;var e=Lm(),t=N3();function n(r,i,o,a,s){var u=-1,c=r.length;for(o||(o=t),s||(s=[]);++u<c;){var d=r[u];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return ff=n,ff}var hf,e_;function P3(){if(e_)return hf;e_=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return hf=e,hf}var pf,t_;function BC(){if(t_)return pf;t_=1;var e=P3(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,u=t(a.length-i,0),c=Array(u);++s<u;)c[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(c),e(r,this,d)}}return pf=n,pf}var gf,n_;function A3(){if(n_)return gf;n_=1;var e=Om(),t=oC(),n=Mr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return gf=r,gf}var mf,r_;function L3(){if(r_)return mf;r_=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return mf=r,mf}var vf,i_;function FC(){if(i_)return vf;i_=1;var e=A3(),t=L3(),n=t(e);return vf=n,vf}var yf,o_;function gl(){if(o_)return yf;o_=1;var e=Mr(),t=BC(),n=FC();function r(i,o){return n(t(i,o,e),i+"")}return yf=r,yf}var xf,a_;function $C(){if(a_)return xf;a_=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return xf=e,xf}var _f,s_;function z3(){if(s_)return _f;s_=1;function e(t){return t!==t}return _f=e,_f}var wf,l_;function O3(){if(l_)return wf;l_=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return wf=e,wf}var bf,u_;function D3(){if(u_)return bf;u_=1;var e=$C(),t=z3(),n=O3();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return bf=r,bf}var Sf,c_;function q3(){if(c_)return Sf;c_=1;var e=D3();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Sf=t,Sf}var Cf,d_;function B3(){if(d_)return Cf;d_=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Cf=e,Cf}var kf,f_;function F3(){if(f_)return kf;f_=1;function e(){}return kf=e,kf}var jf,h_;function $3(){if(h_)return jf;h_=1;var e=gC(),t=F3(),n=Bm(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return jf=i,jf}var Ef,p_;function U3(){if(p_)return Ef;p_=1;var e=CC(),t=q3(),n=B3(),r=kC(),i=$3(),o=Bm(),a=200;function s(u,c,d){var f=-1,h=t,p=u.length,y=!0,m=[],_=m;if(d)y=!1,h=n;else if(p>=a){var g=c?null:i(u);if(g)return o(g);y=!1,h=r,_=new e}else _=c?[]:m;e:for(;++f<p;){var v=u[f],w=c?c(v):v;if(v=d||v!==0?v:0,y&&w===w){for(var b=_.length;b--;)if(_[b]===w)continue e;c&&_.push(w),m.push(v)}else h(_,w,d)||(_!==m&&_.push(w),m.push(v))}return m}return Ef=s,Ef}var Tf,g_;function UC(){if(g_)return Tf;g_=1;var e=wn(),t=Qt();function n(r){return t(r)&&e(r)}return Tf=n,Tf}var Rf,m_;function W3(){if(m_)return Rf;m_=1;var e=$m(),t=gl(),n=U3(),r=UC(),i=t(function(o){return n(e(o,1,r,!0))});return Rf=i,Rf}var If,v_;function H3(){if(v_)return If;v_=1;var e=fl();function t(n,r){return e(r,function(i){return n[i]})}return If=t,If}var Mf,y_;function WC(){if(y_)return Mf;y_=1;var e=H3(),t=nr();function n(r){return r==null?[]:e(r,t(r))}return Mf=n,Mf}var Nf,x_;function kt(){if(x_)return Nf;x_=1;var e;if(typeof Em=="function")try{e={clone:J5(),constant:Om(),each:SC(),filter:AC(),has:LC(),isArray:Re(),isEmpty:b3(),isFunction:Ho(),isUndefined:zC(),keys:nr(),map:DC(),reduce:qC(),size:I3(),transform:M3(),union:W3(),values:WC()}}catch{}return e||(e=window._),Nf=e,Nf}var Pf,__;function Um(){if(__)return Pf;__=1;var e=kt();Pf=i;var t="\0",n="\0",r="";function i(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._in[f])})},i.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._out[f])})},i.prototype.setNodes=function(d,f){var h=arguments,p=this;return e.each(d,function(y){h.length>1?p.setNode(y,f):p.setNode(y)}),this},i.prototype.setNode=function(d,f){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return e.has(this._nodes,d)},i.prototype.removeNode=function(d){var f=this;if(e.has(this._nodes,d)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(p){f.setParent(p)}),delete this._children[d]),e.each(e.keys(this._in[d]),h),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var f=this._parent[d];if(f!==n)return f}},i.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var f=this._children[d];if(f)return e.keys(f)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var f=this._preds[d];if(f)return e.keys(f)},i.prototype.successors=function(d){var f=this._sucs[d];if(f)return e.keys(f)},i.prototype.neighbors=function(d){var f=this.predecessors(d);if(f)return e.union(f,this.successors(d))},i.prototype.isLeaf=function(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0},i.prototype.filterNodes=function(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(m,_){d(_)&&f.setNode(_,m)}),e.each(this._edgeObjs,function(m){f.hasNode(m.v)&&f.hasNode(m.w)&&f.setEdge(m,h.edge(m))});var p={};function y(m){var _=h.parent(m);return _===void 0||f.hasNode(_)?(p[m]=_,_):_ in p?p[_]:y(_)}return this._isCompound&&e.each(f.nodes(),function(m){f.setParent(m,y(m))}),f},i.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(d,f){var h=this,p=arguments;return e.reduce(d,function(y,m){return p.length>1?h.setEdge(y,m,f):h.setEdge(y,m),m}),this},i.prototype.setEdge=function(){var d,f,h,p,y=!1,m=arguments[0];typeof m=="object"&&m!==null&&"v"in m?(d=m.v,f=m.w,h=m.name,arguments.length===2&&(p=arguments[1],y=!0)):(d=m,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),d=""+d,f=""+f,e.isUndefined(h)||(h=""+h);var _=s(this._isDirected,d,f,h);if(e.has(this._edgeLabels,_))return y&&(this._edgeLabels[_]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[_]=y?p:this._defaultEdgeLabelFn(d,f,h);var g=u(this._isDirected,d,f,h);return d=g.v,f=g.w,Object.freeze(g),this._edgeObjs[_]=g,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][_]=g,this._out[d][_]=g,this._edgeCount++,this},i.prototype.edge=function(d,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(d,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(d,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h),y=this._edgeObjs[p];return y&&(d=y.v,f=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],a(this._preds[f],d),a(this._sucs[d],f),delete this._in[f][p],delete this._out[d][p],this._edgeCount--),this},i.prototype.inEdges=function(d,f){var h=this._in[d];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.v===f}):p}},i.prototype.outEdges=function(d,f){var h=this._out[d];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.w===f}):p}},i.prototype.nodeEdges=function(d,f){var h=this.inEdges(d,f);if(h)return h.concat(this.outEdges(d,f))};function o(d,f){d[f]?d[f]++:d[f]=1}function a(d,f){--d[f]||delete d[f]}function s(d,f,h,p){var y=""+f,m=""+h;if(!d&&y>m){var _=y;y=m,m=_}return y+r+m+r+(e.isUndefined(p)?t:p)}function u(d,f,h,p){var y=""+f,m=""+h;if(!d&&y>m){var _=y;y=m,m=_}var g={v:y,w:m};return p&&(g.name=p),g}function c(d,f){return s(d,f.v,f.w,f.name)}return Pf}var Af,w_;function G3(){return w_||(w_=1,Af="2.1.8"),Af}var Lf,b_;function V3(){return b_||(b_=1,Lf={Graph:Um(),version:G3()}),Lf}var zf,S_;function Y3(){if(S_)return zf;S_=1;var e=kt(),t=Um();zf={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),c=a.parent(s),d={v:s};return e.isUndefined(u)||(d.value=u),e.isUndefined(c)||(d.parent=c),d})}function i(a){return e.map(a.edges(),function(s){var u=a.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(u)||(c.value=u),c})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return zf}var Of,C_;function K3(){if(C_)return Of;C_=1;var e=kt();Of=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return Of}var Df,k_;function HC(){if(k_)return Df;k_=1;var e=kt();Df=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},Df}var qf,j_;function GC(){if(j_)return qf;j_=1;var e=kt(),t=HC();qf=r;var n=e.constant(1);function r(o,a,s,u){return i(o,String(a),s||n,u||function(c){return o.outEdges(c)})}function i(o,a,s,u){var c={},d=new t,f,h,p=function(y){var m=y.v!==f?y.v:y.w,_=c[m],g=s(y),v=h.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+g);v<_.distance&&(_.distance=v,_.predecessor=f,d.decrease(m,v))};for(o.nodes().forEach(function(y){var m=y===a?0:Number.POSITIVE_INFINITY;c[y]={distance:m},d.add(y,m)});d.size()>0&&(f=d.removeMin(),h=c[f],h.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(p);return c}return qf}var Bf,E_;function X3(){if(E_)return Bf;E_=1;var e=GC(),t=kt();Bf=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return Bf}var Ff,T_;function VC(){if(T_)return Ff;T_=1;var e=kt();Ff=t;function t(n){var r=0,i=[],o={},a=[];function s(u){var c=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(h){e.has(o,h)?o[h].onStack&&(c.lowlink=Math.min(c.lowlink,o[h].index)):(s(h),c.lowlink=Math.min(c.lowlink,o[h].lowlink))}),c.lowlink===c.index){var d=[],f;do f=i.pop(),o[f].onStack=!1,d.push(f);while(u!==f);a.push(d)}}return n.nodes().forEach(function(u){e.has(o,u)||s(u)}),a}return Ff}var $f,R_;function Q3(){if(R_)return $f;R_=1;var e=kt(),t=VC();$f=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return $f}var Uf,I_;function J3(){if(I_)return Uf;I_=1;var e=kt();Uf=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},u=i.nodes();return u.forEach(function(c){s[c]={},s[c][c]={distance:0},u.forEach(function(d){c!==d&&(s[c][d]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(d){var f=d.v===c?d.w:d.v,h=o(d);s[c][f]={distance:h,predecessor:c}})}),u.forEach(function(c){var d=s[c];u.forEach(function(f){var h=s[f];u.forEach(function(p){var y=h[c],m=d[p],_=h[p],g=y.distance+m.distance;g<_.distance&&(_.distance=g,_.predecessor=m.predecessor)})})}),s}return Uf}var Wf,M_;function YC(){if(M_)return Wf;M_=1;var e=kt();Wf=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),s),delete o[u],a.push(u))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Wf}var Hf,N_;function Z3(){if(N_)return Hf;N_=1;var e=YC();Hf=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Hf}var Gf,P_;function KC(){if(P_)return Gf;P_=1;var e=kt();Gf=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,o==="post",u,a,s)}),s}function n(r,i,o,a,s,u){e.has(a,i)||(a[i]=!0,o||u.push(i),e.each(s(i),function(c){n(r,c,o,a,s,u)}),o&&u.push(i))}return Gf}var Vf,A_;function eM(){if(A_)return Vf;A_=1;var e=KC();Vf=t;function t(n,r){return e(n,r,"post")}return Vf}var Yf,L_;function tM(){if(L_)return Yf;L_=1;var e=KC();Yf=t;function t(n,r){return e(n,r,"pre")}return Yf}var Kf,z_;function nM(){if(z_)return Kf;z_=1;var e=kt(),t=Um(),n=HC();Kf=r;function r(i,o){var a=new t,s={},u=new n,c;function d(h){var p=h.v===c?h.w:h.v,y=u.priority(p);if(y!==void 0){var m=o(h);m<y&&(s[p]=c,u.decrease(p,m))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(h){u.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(c=u.removeMin(),e.has(s,c))a.setEdge(c,s[c]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(c).forEach(d)}return a}return Kf}var Xf,O_;function rM(){return O_||(O_=1,Xf={components:K3(),dijkstra:GC(),dijkstraAll:X3(),findCycles:Q3(),floydWarshall:J3(),isAcyclic:Z3(),postorder:eM(),preorder:tM(),prim:nM(),tarjan:VC(),topsort:YC()}),Xf}var Qf,D_;function iM(){if(D_)return Qf;D_=1;var e=V3();return Qf={Graph:e.Graph,json:Y3(),alg:rM(),version:e.version},Qf}var js;if(typeof Em=="function")try{js=iM()}catch{}js||(js=window.graphlib);var Ot=js,Jf,q_;function oM(){if(q_)return Jf;q_=1;var e=_C(),t=1,n=4;function r(i){return e(i,t|n)}return Jf=r,Jf}var Zf,B_;function ml(){if(B_)return Zf;B_=1;var e=wi(),t=wn(),n=sl(),r=Ct();function i(o,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],o):!1}return Zf=i,Zf}var eh,F_;function aM(){if(F_)return eh;F_=1;var e=gl(),t=wi(),n=ml(),r=Ir(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,u){s=Object(s);var c=-1,d=u.length,f=d>2?u[2]:void 0;for(f&&n(u[0],u[1],f)&&(d=1);++c<d;)for(var h=u[c],p=r(h),y=-1,m=p.length;++y<m;){var _=p[y],g=s[_];(g===void 0||t(g,i[_])&&!o.call(s,_))&&(s[_]=h[_])}return s});return eh=a,eh}var th,$_;function sM(){if($_)return th;$_=1;var e=bn(),t=wn(),n=nr();function r(i){return function(o,a,s){var u=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(f){return c(u[f],f,u)}}var d=i(o,a,s);return d>-1?u[c?o[d]:d]:void 0}}return th=r,th}var nh,U_;function lM(){if(U_)return nh;U_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return nh=t,nh}var rh,W_;function uM(){if(W_)return rh;W_=1;var e=lM(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return rh=n,rh}var ih,H_;function cM(){if(H_)return ih;H_=1;var e=uM(),t=Ct(),n=ki(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?r:+c}return ih=u,ih}var oh,G_;function XC(){if(G_)return oh;G_=1;var e=cM(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return oh=r,oh}var ah,V_;function dM(){if(V_)return ah;V_=1;var e=XC();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ah=t,ah}var sh,Y_;function fM(){if(Y_)return sh;Y_=1;var e=$C(),t=bn(),n=dM(),r=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var c=s==null?0:n(s);return c<0&&(c=r(u+c,0)),e(o,t(a,3),c)}return sh=i,sh}var lh,K_;function hM(){if(K_)return lh;K_=1;var e=sM(),t=fM(),n=e(t);return lh=n,lh}var uh,X_;function QC(){if(X_)return uh;X_=1;var e=$m();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return uh=t,uh}var ch,Q_;function pM(){if(Q_)return ch;Q_=1;var e=Dm(),t=wC(),n=Ir();function r(i,o){return i==null?i:e(i,t(o),n)}return ch=r,ch}var dh,J_;function gM(){if(J_)return dh;J_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return dh=e,dh}var fh,Z_;function mM(){if(Z_)return fh;Z_=1;var e=ol(),t=qm(),n=bn();function r(i,o){var a={};return o=n(o,3),t(i,function(s,u,c){e(a,u,o(s,u,c))}),a}return fh=r,fh}var hh,ew;function Wm(){if(ew)return hh;ew=1;var e=ki();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],u=r(s);if(u!=null&&(c===void 0?u===u&&!e(u):i(u,c)))var c=u,d=s}return d}return hh=t,hh}var ph,tw;function vM(){if(tw)return ph;tw=1;function e(t,n){return t>n}return ph=e,ph}var gh,nw;function yM(){if(nw)return gh;nw=1;var e=Wm(),t=vM(),n=Mr();function r(i){return i&&i.length?e(i,n,t):void 0}return gh=r,gh}var mh,rw;function JC(){if(rw)return mh;rw=1;var e=ol(),t=wi();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return mh=n,mh}var vh,iw;function xM(){if(iw)return vh;iw=1;var e=Tr(),t=cl(),n=Qt(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==u}return vh=c,vh}var yh,ow;function ZC(){if(ow)return yh;ow=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return yh=e,yh}var xh,aw;function _M(){if(aw)return xh;aw=1;var e=Go(),t=Ir();function n(r){return e(r,t(r))}return xh=n,xh}var _h,sw;function wM(){if(sw)return _h;sw=1;var e=JC(),t=lC(),n=vC(),r=uC(),i=xC(),o=Vo(),a=Re(),s=UC(),u=Si(),c=Ho(),d=Ct(),f=xM(),h=Yo(),p=ZC(),y=_M();function m(_,g,v,w,b,S,j){var x=p(_,v),k=p(g,v),T=j.get(k);if(T){e(_,v,T);return}var E=S?S(x,k,v+"",_,g,j):void 0,I=E===void 0;if(I){var N=a(k),M=!N&&u(k),R=!N&&!M&&h(k);E=k,N||M||R?a(x)?E=x:s(x)?E=r(x):M?(I=!1,E=t(k,!0)):R?(I=!1,E=n(k,!0)):E=[]:f(k)||o(k)?(E=x,o(x)?E=y(x):(!d(x)||c(x))&&(E=i(k))):I=!1}I&&(j.set(k,E),b(E,k,w,S,j),j.delete(k)),e(_,v,E)}return _h=m,_h}var wh,lw;function bM(){if(lw)return wh;lw=1;var e=il(),t=JC(),n=Dm(),r=wM(),i=Ct(),o=Ir(),a=ZC();function s(u,c,d,f,h){u!==c&&n(c,function(p,y){if(h||(h=new e),i(p))r(u,c,y,d,s,f,h);else{var m=f?f(a(u,y),p,y+"",u,c,h):void 0;m===void 0&&(m=p),t(u,y,m)}},o)}return wh=s,wh}var bh,uw;function SM(){if(uw)return bh;uw=1;var e=gl(),t=ml();function n(r){return e(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,c=s>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,c&&t(o[0],o[1],c)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var d=o[a];d&&r(i,d,a,u)}return i})}return bh=n,bh}var Sh,cw;function CM(){if(cw)return Sh;cw=1;var e=bM(),t=SM(),n=t(function(r,i,o){e(r,i,o)});return Sh=n,Sh}var Ch,dw;function ek(){if(dw)return Ch;dw=1;function e(t,n){return t<n}return Ch=e,Ch}var kh,fw;function kM(){if(fw)return kh;fw=1;var e=Wm(),t=ek(),n=Mr();function r(i){return i&&i.length?e(i,n,t):void 0}return kh=r,kh}var jh,hw;function jM(){if(hw)return jh;hw=1;var e=Wm(),t=bn(),n=ek();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return jh=r,jh}var Eh,pw;function EM(){if(pw)return Eh;pw=1;var e=zt(),t=function(){return e.Date.now()};return Eh=t,Eh}var Th,gw;function TM(){if(gw)return Th;gw=1;var e=al(),t=hl(),n=sl(),r=Ct(),i=Ko();function o(a,s,u,c){if(!r(a))return a;s=t(s,a);for(var d=-1,f=s.length,h=f-1,p=a;p!=null&&++d<f;){var y=i(s[d]),m=u;if(y==="__proto__"||y==="constructor"||y==="prototype")return a;if(d!=h){var _=p[y];m=c?c(_,y,p):void 0,m===void 0&&(m=r(_)?_:n(s[d+1])?[]:{})}e(p,y,m),p=p[y]}return a}return Th=o,Th}var Rh,mw;function RM(){if(mw)return Rh;mw=1;var e=pl(),t=TM(),n=hl();function r(i,o,a){for(var s=-1,u=o.length,c={};++s<u;){var d=o[s],f=e(i,d);a(f,d)&&t(c,n(d,i),f)}return c}return Rh=r,Rh}var Ih,vw;function IM(){if(vw)return Ih;vw=1;var e=RM(),t=NC();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return Ih=n,Ih}var Mh,yw;function MM(){if(yw)return Mh;yw=1;var e=QC(),t=BC(),n=FC();function r(i){return n(t(i,void 0,e),i+"")}return Mh=r,Mh}var Nh,xw;function NM(){if(xw)return Nh;xw=1;var e=IM(),t=MM(),n=t(function(r,i){return r==null?{}:e(r,i)});return Nh=n,Nh}var Ph,_w;function PM(){if(_w)return Ph;_w=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,u=t(e((i-r)/(o||1)),0),c=Array(u);u--;)c[a?u:++s]=r,r+=o;return c}return Ph=n,Ph}var Ah,ww;function AM(){if(ww)return Ah;ww=1;var e=PM(),t=ml(),n=XC();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Ah=r,Ah}var Lh,bw;function LM(){if(bw)return Lh;bw=1;var e=AM(),t=e();return Lh=t,Lh}var zh,Sw;function zM(){if(Sw)return zh;Sw=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return zh=e,zh}var Oh,Cw;function OM(){if(Cw)return Oh;Cw=1;var e=ki();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),u=r!==void 0,c=r===null,d=r===r,f=e(r);if(!c&&!f&&!s&&n>r||s&&u&&d&&!c&&!f||o&&u&&d||!i&&d||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||c&&i&&a||!u&&a||!d)return-1}return 0}return Oh=t,Oh}var Dh,kw;function DM(){if(kw)return Dh;kw=1;var e=OM();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,u=a.length,c=i.length;++o<u;){var d=e(a[o],s[o]);if(d){if(o>=c)return d;var f=i[o];return d*(f=="desc"?-1:1)}}return n.index-r.index}return Dh=t,Dh}var qh,jw;function qM(){if(jw)return qh;jw=1;var e=fl(),t=pl(),n=bn(),r=OC(),i=zM(),o=ll(),a=DM(),s=Mr(),u=Re();function c(d,f,h){f.length?f=e(f,function(m){return u(m)?function(_){return t(_,m.length===1?m[0]:m)}:m}):f=[s];var p=-1;f=e(f,o(n));var y=r(d,function(m,_,g){var v=e(f,function(w){return w(m)});return{criteria:v,index:++p,value:m}});return i(y,function(m,_){return a(m,_,h)})}return qh=c,qh}var Bh,Ew;function BM(){if(Ew)return Bh;Ew=1;var e=$m(),t=qM(),n=gl(),r=ml(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return Bh=i,Bh}var Fh,Tw;function FM(){if(Tw)return Fh;Tw=1;var e=IC(),t=0;function n(r){var i=++t;return e(r)+i}return Fh=n,Fh}var $h,Rw;function $M(){if(Rw)return $h;Rw=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var u=i<a?n[i]:void 0;r(s,t[i],u)}return s}return $h=e,$h}var Uh,Iw;function UM(){if(Iw)return Uh;Iw=1;var e=al(),t=$M();function n(r,i){return t(r||[],i||[],e)}return Uh=n,Uh}var Es;if(typeof Em=="function")try{Es={cloneDeep:oM(),constant:Om(),defaults:aM(),each:SC(),filter:AC(),find:hM(),flatten:QC(),forEach:bC(),forIn:pM(),has:LC(),isUndefined:zC(),last:gM(),map:DC(),mapValues:mM(),max:yM(),merge:CM(),min:kM(),minBy:jM(),now:EM(),pick:NM(),range:LM(),reduce:qC(),sortBy:BM(),uniqueId:FM(),values:WC(),zipObject:UM()}}catch{}Es||(Es=window._);var _e=Es,WM=vl;function vl(){var e={};e._next=e._prev=e,this._sentinel=e}vl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return tk(t),t};vl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&tk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};vl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,HM)),n=n._prev;return"["+e.join(", ")+"]"};function tk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function HM(e,t){if(e!=="_next"&&e!=="_prev")return t}var dn=_e,GM=Ot.Graph,VM=WM,YM=XM,KM=dn.constant(1);function XM(e,t){if(e.nodeCount()<=1)return[];var n=JM(e,t||KM),r=QM(n.graph,n.buckets,n.zeroIdx);return dn.flatten(dn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function QM(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)Wh(e,t,n,a);for(;a=i.dequeue();)Wh(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(Wh(e,t,n,a,!0));break}}}return r}function Wh(e,t,n,r,i){var o=i?[]:void 0;return dn.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),u=e.node(a.v);i&&o.push({v:a.v,w:a.w}),u.out-=s,cg(t,n,u)}),dn.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),u=a.w,c=e.node(u);c.in-=s,cg(t,n,c)}),e.removeNode(r.v),o}function JM(e,t){var n=new GM,r=0,i=0;dn.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),dn.forEach(e.edges(),function(s){var u=n.edge(s.v,s.w)||0,c=t(s),d=u+c;n.setEdge(s.v,s.w,d),i=Math.max(i,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var o=dn.range(i+r+3).map(function(){return new VM}),a=r+1;return dn.forEach(n.nodes(),function(s){cg(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function cg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var dr=_e,ZM=YM,eN={run:tN,undo:rN};function tN(e){var t=e.graph().acyclicer==="greedy"?ZM(e,n(e)):nN(e);dr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,dr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function nN(e){var t=[],n={},r={};function i(o){dr.has(r,o)||(r[o]=!0,n[o]=!0,dr.forEach(e.outEdges(o),function(a){dr.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return dr.forEach(e.nodes(),i),t}function rN(e){dr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ue=_e,nk=Ot.Graph,st={addDummyNode:rk,simplify:iN,asNonCompoundGraph:oN,successorWeights:aN,predecessorWeights:sN,intersectRect:lN,buildLayerMatrix:uN,normalizeRanks:cN,removeEmptyRanks:dN,addBorderNode:fN,maxRank:ik,partition:hN,time:pN,notime:gN};function rk(e,t,n,r){var i;do i=ue.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function iN(e){var t=new nk().setGraph(e.graph());return ue.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ue.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function oN(e){var t=new nk({multigraph:e.isMultigraph()}).setGraph(e.graph());return ue.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ue.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function aN(e){var t=ue.map(e.nodes(),function(n){var r={};return ue.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ue.zipObject(e.nodes(),t)}function sN(e){var t=ue.map(e.nodes(),function(n){var r={};return ue.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ue.zipObject(e.nodes(),t)}function lN(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),u=s*i/o,c=s):(i<0&&(a=-a),u=a,c=a*o/i),{x:n+u,y:r+c}}function uN(e){var t=ue.map(ue.range(ik(e)+1),function(){return[]});return ue.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ue.isUndefined(i)||(t[i][r.order]=n)}),t}function cN(e){var t=ue.min(ue.map(e.nodes(),function(n){return e.node(n).rank}));ue.forEach(e.nodes(),function(n){var r=e.node(n);ue.has(r,"rank")&&(r.rank-=t)})}function dN(e){var t=ue.min(ue.map(e.nodes(),function(o){return e.node(o).rank})),n=[];ue.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;ue.forEach(n,function(o,a){ue.isUndefined(o)&&a%i!==0?--r:r&&ue.forEach(o,function(s){e.node(s).rank+=r})})}function fN(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),rk(e,"border",i,t)}function ik(e){return ue.max(ue.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ue.isUndefined(n))return n}))}function hN(e,t){var n={lhs:[],rhs:[]};return ue.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function pN(e,t){var n=ue.now();try{return t()}finally{console.log(e+" time: "+(ue.now()-n)+"ms")}}function gN(e,t){return t()}var ok=_e,mN=st,vN={run:yN,undo:_N};function yN(e){e.graph().dummyChains=[],ok.forEach(e.edges(),function(t){xN(e,t)})}function xN(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),u=s.labelRank;if(o!==r+1){e.removeEdge(t);var c,d,f;for(f=0,++r;r<o;++f,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},c=mN.addDummyNode(e,"edge",d,"_d"),r===u&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:s.weight},a)}}function _N(e){ok.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var ba=_e,yl={longestPath:wN,slack:bN};function wN(e){var t={};function n(r){var i=e.node(r);if(ba.has(t,r))return i.rank;t[r]=!0;var o=ba.min(ba.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}ba.forEach(e.sources(),n)}function bN(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Ts=_e,SN=Ot.Graph,Rs=yl.slack,ak=CN;function CN(e){var t=new SN({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;kN(t,e)<r;)i=jN(t,e),o=t.hasNode(i.v)?Rs(e,i):-Rs(e,i),EN(t,e,o);return t}function kN(e,t){function n(r){Ts.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!Rs(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Ts.forEach(e.nodes(),n),e.nodeCount()}function jN(e,t){return Ts.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Rs(t,n)})}function EN(e,t,n){Ts.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var xn=_e,TN=ak,RN=yl.slack,IN=yl.longestPath,MN=Ot.alg.preorder,NN=Ot.alg.postorder,PN=st.simplify,AN=Nr;Nr.initLowLimValues=Gm;Nr.initCutValues=Hm;Nr.calcCutValue=sk;Nr.leaveEdge=uk;Nr.enterEdge=ck;Nr.exchangeEdges=dk;function Nr(e){e=PN(e),IN(e);var t=TN(e);Gm(t),Hm(t,e);for(var n,r;n=uk(t);)r=ck(t,e,n),dk(t,e,n,r)}function Hm(e,t){var n=NN(e,e.nodes());n=n.slice(0,n.length-1),xn.forEach(n,function(r){LN(e,t,r)})}function LN(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=sk(e,t,n)}function sk(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,xn.forEach(t.nodeEdges(n),function(u){var c=u.v===n,d=c?u.w:u.v;if(d!==i){var f=c===o,h=t.edge(u).weight;if(s+=f?h:-h,ON(e,n,d)){var p=e.edge(n,d).cutvalue;s+=f?-p:p}}}),s}function Gm(e,t){arguments.length<2&&(t=e.nodes()[0]),lk(e,{},1,t)}function lk(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,xn.forEach(e.neighbors(r),function(s){xn.has(t,s)||(n=lk(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function uk(e){return xn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function ck(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=xn.filter(t.edges(),function(d){return u===Mw(e,e.node(d.v),s)&&u!==Mw(e,e.node(d.w),s)});return xn.minBy(c,function(d){return RN(t,d)})}function dk(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Gm(e),Hm(e,t),zN(e,t)}function zN(e,t){var n=xn.find(e.nodes(),function(i){return!t.node(i).parent}),r=MN(e,n);r=r.slice(1),xn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function ON(e,t,n){return e.hasEdge(t,n)}function Mw(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var DN=yl,fk=DN.longestPath,qN=ak,BN=AN,FN=$N;function $N(e){switch(e.graph().ranker){case"network-simplex":Nw(e);break;case"tight-tree":WN(e);break;case"longest-path":UN(e);break;default:Nw(e)}}var UN=fk;function WN(e){fk(e),qN(e)}function Nw(e){BN(e)}var dg=_e,HN=GN;function GN(e){var t=YN(e);dg.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=VN(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],d=!0;n!==i.w;){if(r=e.node(n),d){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(d=!1)}if(!d){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}})}function VN(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),u,c;u=n;do u=e.parent(u),i.push(u);while(u&&(t[u].low>a||s>t[u].lim));for(c=u,u=r;(u=e.parent(u))!==c;)o.push(u);return{path:i.concat(o.reverse()),lca:c}}function YN(e){var t={},n=0;function r(i){var o=n;dg.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return dg.forEach(e.children(),r),t}var fn=_e,fg=st,KN={run:XN,cleanup:ZN};function XN(e){var t=fg.addDummyNode(e,"root",{},"_root"),n=QN(e),r=fn.max(fn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,fn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=JN(e)+1;fn.forEach(e.children(),function(a){hk(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function hk(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var u=fg.addBorderNode(e,"_bt"),c=fg.addBorderNode(e,"_bb"),d=e.node(a);e.setParent(u,a),d.borderTop=u,e.setParent(c,a),d.borderBottom=c,fn.forEach(s,function(f){hk(e,t,n,r,i,o,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,y=h.borderBottom?h.borderBottom:f,m=h.borderTop?r:2*r,_=p!==y?1:i-o[a]+1;e.setEdge(u,p,{weight:m,minlen:_,nestingEdge:!0}),e.setEdge(y,c,{weight:m,minlen:_,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}function QN(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&fn.forEach(o,function(a){n(a,i+1)}),t[r]=i}return fn.forEach(e.children(),function(r){n(r,1)}),t}function JN(e){return fn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function ZN(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,fn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Hh=_e,eP=st,tP=nP;function nP(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Hh.forEach(r,t),Hh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Pw(e,"borderLeft","_bl",n,i,o),Pw(e,"borderRight","_br",n,i,o)}}Hh.forEach(e.children(),t)}function Pw(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=eP.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var Gt=_e,rP={adjust:iP,undo:oP};function iP(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&pk(e)}function oP(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&aP(e),(t==="lr"||t==="rl")&&(sP(e),pk(e))}function pk(e){Gt.forEach(e.nodes(),function(t){Aw(e.node(t))}),Gt.forEach(e.edges(),function(t){Aw(e.edge(t))})}function Aw(e){var t=e.width;e.width=e.height,e.height=t}function aP(e){Gt.forEach(e.nodes(),function(t){Gh(e.node(t))}),Gt.forEach(e.edges(),function(t){var n=e.edge(t);Gt.forEach(n.points,Gh),Gt.has(n,"y")&&Gh(n)})}function Gh(e){e.y=-e.y}function sP(e){Gt.forEach(e.nodes(),function(t){Vh(e.node(t))}),Gt.forEach(e.edges(),function(t){var n=e.edge(t);Gt.forEach(n.points,Vh),Gt.has(n,"x")&&Vh(n)})}function Vh(e){var t=e.x;e.x=e.y,e.y=t}var tn=_e,lP=uP;function uP(e){var t={},n=tn.filter(e.nodes(),function(s){return!e.children(s).length}),r=tn.max(tn.map(n,function(s){return e.node(s).rank})),i=tn.map(tn.range(r+1),function(){return[]});function o(s){if(!tn.has(t,s)){t[s]=!0;var u=e.node(s);i[u.rank].push(s),tn.forEach(e.successors(s),o)}}var a=tn.sortBy(n,function(s){return e.node(s).rank});return tn.forEach(a,o),i}var kn=_e,cP=dP;function dP(e,t){for(var n=0,r=1;r<t.length;++r)n+=fP(e,t[r-1],t[r]);return n}function fP(e,t,n){for(var r=kn.zipObject(n,kn.map(n,function(c,d){return d})),i=kn.flatten(kn.map(t,function(c){return kn.sortBy(kn.map(e.outEdges(c),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=kn.map(new Array(a),function(){return 0}),u=0;return kn.forEach(i.forEach(function(c){var d=c.pos+o;s[d]+=c.weight;for(var f=0;d>0;)d%2&&(f+=s[d+1]),d=d-1>>1,s[d]+=c.weight;u+=c.weight*f})),u}var Lw=_e,hP=pP;function pP(e,t){return Lw.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Lw.reduce(r,function(o,a){var s=e.edge(a),u=e.node(a.v);return{sum:o.sum+s.weight*u.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ct=_e,gP=mP;function mP(e,t){var n={};ct.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};ct.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),ct.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!ct.isUndefined(o)&&!ct.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=ct.filter(n,function(i){return!i.indegree});return vP(r)}function vP(e){var t=[];function n(o){return function(a){a.merged||(ct.isUndefined(a.barycenter)||ct.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&yP(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),ct.forEach(i.in.reverse(),n(i)),ct.forEach(i.out,r(i))}return ct.map(ct.filter(t,function(o){return!o.merged}),function(o){return ct.pick(o,["vs","i","barycenter","weight"])})}function yP(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Zi=_e,xP=st,_P=wP;function wP(e,t){var n=xP.partition(e,function(d){return Zi.has(d,"barycenter")}),r=n.lhs,i=Zi.sortBy(n.rhs,function(d){return-d.i}),o=[],a=0,s=0,u=0;r.sort(bP(!!t)),u=zw(o,i,u),Zi.forEach(r,function(d){u+=d.vs.length,o.push(d.vs),a+=d.barycenter*d.weight,s+=d.weight,u=zw(o,i,u)});var c={vs:Zi.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function zw(e,t,n){for(var r;t.length&&(r=Zi.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function bP(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Nn=_e,SP=hP,CP=gP,kP=_P,jP=gk;function gk(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,u={};a&&(i=Nn.filter(i,function(y){return y!==a&&y!==s}));var c=SP(e,i);Nn.forEach(c,function(y){if(e.children(y.v).length){var m=gk(e,y.v,n,r);u[y.v]=m,Nn.has(m,"barycenter")&&TP(y,m)}});var d=CP(c,n);EP(d,u);var f=kP(d,r);if(a&&(f.vs=Nn.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(s)[0]);Nn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function EP(e,t){Nn.forEach(e,function(n){n.vs=Nn.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function TP(e,t){Nn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var eo=_e,RP=Ot.Graph,IP=MP;function MP(e,t,n){var r=NP(e),i=new RP({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return eo.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),eo.forEach(e[n](o),function(u){var c=u.v===o?u.w:u.v,d=i.edge(c,o),f=eo.isUndefined(d)?0:d.weight;i.setEdge(c,o,{weight:e.edge(u).weight+f})}),eo.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function NP(e){for(var t;e.hasNode(t=eo.uniqueId("_root")););return t}var PP=_e,AP=LP;function LP(e,t,n){var r={},i;PP.forEach(n,function(o){for(var a=e.parent(o),s,u;a;){if(s=e.parent(a),s?(u=r[s],r[s]=a):(u=i,i=a),u&&u!==a){t.setEdge(u,a);return}a=s}})}var Gn=_e,zP=lP,OP=cP,DP=jP,qP=IP,BP=AP,FP=Ot.Graph,Ow=st,$P=UP;function UP(e){var t=Ow.maxRank(e),n=Dw(e,Gn.range(1,t+1),"inEdges"),r=Dw(e,Gn.range(t-1,-1,-1),"outEdges"),i=zP(e);qw(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,u=0;u<4;++s,++u){WP(s%2?n:r,s%4>=2),i=Ow.buildLayerMatrix(e);var c=OP(e,i);c<o&&(u=0,a=Gn.cloneDeep(i),o=c)}qw(e,a)}function Dw(e,t,n){return Gn.map(t,function(r){return qP(e,r,n)})}function WP(e,t){var n=new FP;Gn.forEach(e,function(r){var i=r.graph().root,o=DP(r,i,n,t);Gn.forEach(o.vs,function(a,s){r.node(a).order=s}),BP(r,n,o.vs)})}function qw(e,t){Gn.forEach(t,function(n){Gn.forEach(n,function(r,i){e.node(r).order=i})})}var J=_e,HP=Ot.Graph,GP=st,VP={positionX:iA};function YP(e,t){var n={};function r(i,o){var a=0,s=0,u=i.length,c=J.last(o);return J.forEach(o,function(d,f){var h=XP(e,d),p=h?e.node(h).order:u;(h||d===c)&&(J.forEach(o.slice(s,f+1),function(y){J.forEach(e.predecessors(y),function(m){var _=e.node(m),g=_.order;(g<a||p<g)&&!(_.dummy&&e.node(y).dummy)&&mk(n,m,y)})}),s=f+1,a=p)}),o}return J.reduce(t,r),n}function KP(e,t){var n={};function r(o,a,s,u,c){var d;J.forEach(J.range(a,s),function(f){d=o[f],e.node(d).dummy&&J.forEach(e.predecessors(d),function(h){var p=e.node(h);p.dummy&&(p.order<u||p.order>c)&&mk(n,h,d)})})}function i(o,a){var s=-1,u,c=0;return J.forEach(a,function(d,f){if(e.node(d).dummy==="border"){var h=e.predecessors(d);h.length&&(u=e.node(h[0]).order,r(a,c,f,s,u),c=f,s=u)}r(a,c,a.length,u,o.length)}),a}return J.reduce(t,i),n}function XP(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function mk(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function QP(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function JP(e,t,n,r){var i={},o={},a={};return J.forEach(t,function(s){J.forEach(s,function(u,c){i[u]=u,o[u]=u,a[u]=c})}),J.forEach(t,function(s){var u=-1;J.forEach(s,function(c){var d=r(c);if(d.length){d=J.sortBy(d,function(m){return a[m]});for(var f=(d.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var y=d[h];o[c]===c&&u<a[y]&&!QP(n,c,y)&&(o[y]=c,o[c]=i[c]=i[y],u=a[y])}}})}),{root:i,align:o}}function ZP(e,t,n,r,i){var o={},a=eA(e,t,n,i),s=i?"borderLeft":"borderRight";function u(f,h){for(var p=a.nodes(),y=p.pop(),m={};y;)m[y]?f(y):(m[y]=!0,p.push(y),p=p.concat(h(y))),y=p.pop()}function c(f){o[f]=a.inEdges(f).reduce(function(h,p){return Math.max(h,o[p.v]+a.edge(p))},0)}function d(f){var h=a.outEdges(f).reduce(function(y,m){return Math.min(y,o[m.w]-a.edge(m))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==s&&(o[f]=Math.max(o[f],h))}return u(c,a.predecessors.bind(a)),u(d,a.successors.bind(a)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function eA(e,t,n,r){var i=new HP,o=e.graph(),a=oA(o.nodesep,o.edgesep,r);return J.forEach(t,function(s){var u;J.forEach(s,function(c){var d=n[c];if(i.setNode(d),u){var f=n[u],h=i.edge(f,d);i.setEdge(f,d,Math.max(a(e,c,u),h||0))}u=c})}),i}function tA(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,a){var s=aA(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function nA(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(a){var s=o+a,u=e[s],c;if(u!==t){var d=J.values(u);c=a==="l"?r-J.min(d):i-J.max(d),c&&(e[s]=J.mapValues(u,function(f){return f+c}))}})})}function rA(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function iA(e){var t=GP.buildLayerMatrix(e),n=J.merge(YP(e,t),KP(e,t)),r={},i;J.forEach(["u","d"],function(a){i=a==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(s){s==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var u=(a==="u"?e.predecessors:e.successors).bind(e),c=JP(e,i,n,u),d=ZP(e,i,c.root,c.align,s==="r");s==="r"&&(d=J.mapValues(d,function(f){return-f})),r[a+s]=d})});var o=tA(e,r);return nA(r,o),rA(r,e.graph().align)}function oA(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),u=0,c;if(u+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(u+=n?c:-c),c=0,u+=(a.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(u+=n?c:-c),c=0,u}}function aA(e,t){return e.node(t).width}var to=_e,vk=st,sA=VP.positionX,lA=uA;function uA(e){e=vk.asNonCompoundGraph(e),cA(e),to.forEach(sA(e),function(t,n){e.node(n).x=t})}function cA(e){var t=vk.buildLayerMatrix(e),n=e.graph().ranksep,r=0;to.forEach(t,function(i){var o=to.max(to.map(i,function(a){return e.node(a).height}));to.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var te=_e,Bw=eN,Fw=vN,dA=FN,fA=st.normalizeRanks,hA=HN,pA=st.removeEmptyRanks,$w=KN,gA=tP,Uw=rP,mA=$P,vA=lA,Xn=st,yA=Ot.Graph,xA=_A;function _A(e,t){var n=t&&t.debugTiming?Xn.time:Xn.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return MA(e)});n("  runLayout",function(){wA(r,n)}),n("  updateInputGraph",function(){bA(e,r)})})}function wA(e,t){t("    makeSpaceForEdgeLabels",function(){NA(e)}),t("    removeSelfEdges",function(){FA(e)}),t("    acyclic",function(){Bw.run(e)}),t("    nestingGraph.run",function(){$w.run(e)}),t("    rank",function(){dA(Xn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){PA(e)}),t("    removeEmptyRanks",function(){pA(e)}),t("    nestingGraph.cleanup",function(){$w.cleanup(e)}),t("    normalizeRanks",function(){fA(e)}),t("    assignRankMinMax",function(){AA(e)}),t("    removeEdgeLabelProxies",function(){LA(e)}),t("    normalize.run",function(){Fw.run(e)}),t("    parentDummyChains",function(){hA(e)}),t("    addBorderSegments",function(){gA(e)}),t("    order",function(){mA(e)}),t("    insertSelfEdges",function(){$A(e)}),t("    adjustCoordinateSystem",function(){Uw.adjust(e)}),t("    position",function(){vA(e)}),t("    positionSelfEdges",function(){UA(e)}),t("    removeBorderNodes",function(){BA(e)}),t("    normalize.undo",function(){Fw.undo(e)}),t("    fixupEdgeLabelCoords",function(){DA(e)}),t("    undoCoordinateSystem",function(){Uw.undo(e)}),t("    translateGraph",function(){zA(e)}),t("    assignNodeIntersects",function(){OA(e)}),t("    reversePoints",function(){qA(e)}),t("    acyclic.undo",function(){Bw.undo(e)})}function bA(e,t){te.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),te.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,te.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var SA=["nodesep","edgesep","ranksep","marginx","marginy"],CA={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},kA=["acyclicer","ranker","rankdir","align"],jA=["width","height"],EA={width:0,height:0},TA=["minlen","weight","width","height","labeloffset"],RA={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},IA=["labelpos"];function MA(e){var t=new yA({multigraph:!0,compound:!0}),n=Kh(e.graph());return t.setGraph(te.merge({},CA,Yh(n,SA),te.pick(n,kA))),te.forEach(e.nodes(),function(r){var i=Kh(e.node(r));t.setNode(r,te.defaults(Yh(i,jA),EA)),t.setParent(r,e.parent(r))}),te.forEach(e.edges(),function(r){var i=Kh(e.edge(r));t.setEdge(r,te.merge({},RA,Yh(i,TA),te.pick(i,IA)))}),t}function NA(e){var t=e.graph();t.ranksep/=2,te.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function PA(e){te.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Xn.addDummyNode(e,"edge-proxy",o,"_ep")}})}function AA(e){var t=0;te.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=te.max(t,r.maxRank))}),e.graph().maxRank=t}function LA(e){te.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function zA(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(c){var d=c.x,f=c.y,h=c.width,p=c.height;t=Math.min(t,d-h/2),n=Math.max(n,d+h/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}te.forEach(e.nodes(),function(c){u(e.node(c))}),te.forEach(e.edges(),function(c){var d=e.edge(c);te.has(d,"x")&&u(d)}),t-=a,r-=s,te.forEach(e.nodes(),function(c){var d=e.node(c);d.x-=t,d.y-=r}),te.forEach(e.edges(),function(c){var d=e.edge(c);te.forEach(d.points,function(f){f.x-=t,f.y-=r}),te.has(d,"x")&&(d.x-=t),te.has(d,"y")&&(d.y-=r)}),o.width=n-t+a,o.height=i-r+s}function OA(e){te.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Xn.intersectRect(r,o)),n.points.push(Xn.intersectRect(i,a))})}function DA(e){te.forEach(e.edges(),function(t){var n=e.edge(t);if(te.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function qA(e){te.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function BA(e){te.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(te.last(n.borderLeft)),a=e.node(te.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),te.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function FA(e){te.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function $A(e){var t=Xn.buildLayerMatrix(e);te.forEach(t,function(n){var r=0;te.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,te.forEach(a.selfEdges,function(s){Xn.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function UA(e){te.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function Yh(e,t){return te.mapValues(te.pick(e,t),Number)}function Kh(e){var t={};return te.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Sa=_e,WA=st,HA=Ot.Graph,GA={debugOrdering:VA};function VA(e){var t=WA.buildLayerMatrix(e),n=new HA({compound:!0,multigraph:!0}).setGraph({});return Sa.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Sa.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Sa.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Sa.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var YA="0.8.5",KA={graphlib:Ot,layout:xA,debug:GA,util:{time:st.time,notime:st.notime},version:YA};const Ww=tb(KA);function XA(e,t){const[n,r]=C.useState(e);return C.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function QA(e){const t=new Map;for(const n of e)t.set(n.hash,n),t.set(n.short_hash,n),n.hash.length>=7&&t.set(n.hash.slice(0,7),n);return t}const JA=({nodes:e,gitHistory:t=[],onSelectNode:n,onHighlightNodes:r,placeholder:i="Search nodes, commits, prompts...",query:o,onQueryChange:a,sortOrder:s="newest",onSortOrderChange:u})=>{const[c,d]=C.useState(""),f=o!==void 0,h=f?o:c,p=f?a||(()=>{}):d,[y,m]=C.useState(!1),[_,g]=C.useState(0),v=C.useRef(null),w=C.useRef(null),b=XA(h,150),S=C.useMemo(()=>QA(t),[t]),j=C.useMemo(()=>{var L,F,A,O;if(!b||b.length<2)return[];const N=b.toLowerCase(),M=[],R=new Set;for(const z of e){const B=Kn(z.metadata_json);if(z.title.toLowerCase().includes(N)&&(R.has(z.id)||(M.push({node:z,matchType:"title",matchText:z.title}),R.add(z.id))),(L=z.description)!=null&&L.toLowerCase().includes(N)&&(R.has(z.id)||(M.push({node:z,matchType:"description",matchText:z.description}),R.add(z.id))),B!=null&&B.commit){const W=S.get(B.commit)||S.get(B.commit.slice(0,7)),ce=((F=W==null?void 0:W.message)==null?void 0:F.toLowerCase())||"";(B.commit.toLowerCase().includes(N)||ce.includes(N))&&(R.has(z.id)||(M.push({node:z,matchType:"commit",matchText:(W==null?void 0:W.message)||B.commit,commitInfo:W}),R.add(z.id)))}if((A=B==null?void 0:B.prompt)!=null&&A.toLowerCase().includes(N)&&(R.has(z.id)||(M.push({node:z,matchType:"prompt",matchText:B.prompt}),R.add(z.id))),(O=B==null?void 0:B.files)!=null&&O.some(W=>W.toLowerCase().includes(N))&&!R.has(z.id)){const W=B.files.find(ce=>ce.toLowerCase().includes(N))||"";M.push({node:z,matchType:"files",matchText:W}),R.add(z.id)}}const D={outcome:0,goal:1,action:2,option:3,decision:4,observation:5};return M.sort((z,B)=>{if(z.matchType==="title"&&B.matchType!=="title")return-1;if(B.matchType==="title"&&z.matchType!=="title")return 1;const W=D[z.node.node_type]??99,ce=D[B.node.node_type]??99;if(W!==ce)return W-ce;const re=new Date(z.node.updated_at).getTime(),pe=new Date(B.node.updated_at).getTime();return s==="oldest"?re-pe:pe-re})},[b,e,S,s]),x=C.useMemo(()=>j.slice(0,15),[j]);C.useEffect(()=>{const N=new Set(j.map(M=>M.node.id));r(N)},[j,r]),C.useEffect(()=>{g(0)},[x]);const k=C.useCallback(N=>{var M,R;if(x.length)switch(N.key){case"ArrowDown":N.preventDefault(),g(D=>Math.min(D+1,x.length-1));break;case"ArrowUp":N.preventDefault(),g(D=>Math.max(D-1,0));break;case"Enter":N.preventDefault(),x[_]&&(n(x[_].node),p(""),(M=v.current)==null||M.blur());break;case"Escape":N.preventDefault(),p(""),(R=v.current)==null||R.blur();break}},[x,_,n]);C.useEffect(()=>{if(w.current&&x.length>0){const N=w.current.children[_];N==null||N.scrollIntoView({block:"nearest"})}},[_,x.length]);const T=C.useCallback(N=>{var M;n(N.node),p(""),(M=v.current)==null||M.blur()},[n]),E=y&&x.length>0,I=N=>{switch(N){case"title":return"Title";case"description":return"Desc";case"commit":return"Commit";case"prompt":return"Prompt";case"files":return"File"}};return l.jsxs("div",{style:Ee.container,children:[l.jsxs("div",{style:Ee.inputWrapper,children:[l.jsx("svg",{style:Ee.searchIcon,viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"})}),l.jsx("input",{ref:v,type:"text",value:h,onChange:N=>p(N.target.value),onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),200),onKeyDown:k,placeholder:i,style:Ee.input,"aria-label":"Search nodes","aria-expanded":E,"aria-controls":"search-results",role:"combobox"}),h&&l.jsx("button",{onClick:()=>p(""),style:Ee.clearBtn,"aria-label":"Clear search",children:""})]}),E&&l.jsxs("div",{ref:w,id:"search-results",style:Ee.dropdown,role:"listbox",children:[x.map((N,M)=>l.jsxs("div",{onClick:()=>T(N),style:{...Ee.resultItem,...M===_?Ee.resultItemSelected:{}},role:"option","aria-selected":M===_,children:[l.jsxs("div",{style:Ee.resultLeft,children:[l.jsx("div",{style:{...Ee.nodeTypeDot,backgroundColor:ge(N.node.node_type)}}),l.jsxs("span",{style:Ee.nodeId,children:["#",N.node.id]}),l.jsx("span",{style:Ee.resultTitle,children:Ye(N.node.title,35)})]}),l.jsxs("div",{style:Ee.resultRight,children:[l.jsx("span",{style:Ee.matchLabel,children:I(N.matchType)}),N.matchType==="commit"&&N.commitInfo&&l.jsx("span",{style:Ee.commitHash,children:pm(N.commitInfo.hash)})]})]},`${N.node.id}-${N.matchType}`)),l.jsxs("div",{style:Ee.dropdownFooter,children:[l.jsx("span",{style:Ee.footerHint,children:j.length>15?`Showing 15 of ${j.length}  All ${j.length} highlighted`:" navigate  Enter select  Esc close"}),u&&l.jsx("button",{onClick:N=>{N.preventDefault(),N.stopPropagation(),u(s==="newest"?"oldest":"newest")},style:Ee.sortToggle,title:`Sort by ${s==="newest"?"oldest":"newest"} first`,children:s==="newest"?" Newest":" Oldest"})]})]}),y&&h.length>=2&&j.length===0&&l.jsx("div",{style:Ee.dropdown,children:l.jsx("div",{style:Ee.noResults,children:"No matching nodes found"})})]})},Ee={container:{position:"relative",flex:1,maxWidth:"400px",minWidth:"200px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},searchIcon:{position:"absolute",left:"10px",width:"16px",height:"16px",color:"#57606a",pointerEvents:"none"},input:{width:"100%",padding:"8px 32px 8px 34px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",fontSize:"13px",color:"#24292f",outline:"none",transition:"border-color 0.15s, background-color 0.15s"},clearBtn:{position:"absolute",right:"8px",width:"20px",height:"20px",padding:0,backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#57606a",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},dropdown:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",maxHeight:"400px",overflowY:"auto",zIndex:1e3},resultItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",transition:"background-color 0.1s"},resultItemSelected:{backgroundColor:"#f6f8fa"},resultLeft:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},nodeTypeDot:{width:"8px",height:"8px",borderRadius:"50%",flexShrink:0},nodeId:{fontSize:"11px",color:"#6e7781",fontFamily:"monospace",flexShrink:0},resultTitle:{fontSize:"13px",color:"#24292f",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},resultRight:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0,marginLeft:"8px"},matchLabel:{fontSize:"10px",color:"#57606a",backgroundColor:"#f6f8fa",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},commitHash:{fontSize:"11px",color:"#0969da",fontFamily:"monospace",backgroundColor:"#ddf4ff",padding:"2px 6px",borderRadius:"4px"},dropdownFooter:{padding:"8px 12px",backgroundColor:"#f6f8fa",borderTop:"1px solid #d0d7de",display:"flex",justifyContent:"space-between",alignItems:"center"},footerHint:{fontSize:"11px",color:"#6e7781"},sortToggle:{fontSize:"11px",color:"#0969da",backgroundColor:"#ddf4ff",border:"1px solid #0969da33",borderRadius:"4px",padding:"2px 8px",cursor:"pointer",fontWeight:500,transition:"background-color 0.15s"},noResults:{padding:"16px",textAlign:"center",color:"#57606a",fontSize:"13px"}},Et=420,Ga=180,ZA=12,Is=20,jn=10,hg=70,Xh=Et+Is*2,eL=768;function tL(e){if(!e.metadata_json)return null;try{const t=JSON.parse(e.metadata_json);return typeof t.confidence=="number"?t.confidence:null}catch{return null}}function nL(e,t,n){const r=[...e].sort((a,s)=>a.nodeY-s.nodeY),i=t-Et-Is;let o=hg;return r.map((a,s)=>{const u=o;return o+=Ga+ZA,o>n-Is&&s<r.length-1&&(o=hg),{...a,cardX:i,cardY:u}})}const rL=({nodes:e,selectedNode:t,onSelectNode:n,onClose:r})=>{if(!t)return null;const i=e.find(o=>o.node.id===t.id);return i?l.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"#fff",borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 -4px 20px rgba(0,0,0,0.15)",zIndex:100,padding:"16px 20px 24px",maxHeight:"50vh",overflowY:"auto"},children:[l.jsx("div",{style:{width:40,height:4,backgroundColor:"#d0d7de",borderRadius:2,margin:"0 auto 16px"}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[l.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:i.color}}),l.jsx("span",{style:{backgroundColor:i.color+"20",color:i.color,padding:"4px 10px",borderRadius:4,fontSize:11,fontWeight:600},children:t.node_type.toUpperCase()}),l.jsxs("span",{style:{color:"#6e7781",fontFamily:"monospace",fontSize:13},children:["#",t.id]}),l.jsx("button",{onClick:r,style:{marginLeft:"auto",background:"none",border:"none",fontSize:24,color:"#6e7781",cursor:"pointer",padding:4},children:""})]}),l.jsx("h3",{style:{margin:"0 0 8px",fontSize:16,color:"#24292f"},children:t.title}),t.description&&l.jsx("p",{style:{margin:"0 0 16px",fontSize:14,color:"#57606a",lineHeight:1.5},children:t.description}),l.jsx("button",{onClick:()=>n(t),style:{width:"100%",padding:"12px 16px",backgroundColor:"#0969da",color:"#fff",border:"none",borderRadius:8,fontSize:14,fontWeight:500,cursor:"pointer"},children:"View Full Details"}),e.length>1&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid #d0d7de"},children:[l.jsxs("div",{style:{fontSize:12,color:"#6e7781",marginBottom:8},children:["Other matches (",e.length-1,")"]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:e.filter(o=>o.node.id!==t.id).slice(0,6).map(o=>l.jsxs("button",{onClick:()=>n(o.node),style:{padding:"6px 10px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:6,fontSize:12,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:o.color}}),"#",o.node.id]},o.node.id))})]})]}):null};function iL(e,t,n){const r=[],i=[],o=new Map(t.map(d=>[d.id,d])),a=[e],s=new Set([e]);for(;a.length>0;){const d=a.shift(),f=n.filter(h=>h.to_node_id===d);for(const h of f)if(!s.has(h.from_node_id)){s.add(h.from_node_id);const p=o.get(h.from_node_id);p&&(r.push(p),a.push(h.from_node_id))}}const u=[e],c=new Set([e]);for(;u.length>0;){const d=u.shift(),f=n.filter(h=>h.from_node_id===d);for(const h of f)if(!c.has(h.to_node_id)){c.add(h.to_node_id);const p=o.get(h.to_node_id);p&&(i.push(p),u.push(h.to_node_id))}}return{ancestors:r,descendants:i}}const Hw={goal:0,outcome:1,decision:2,option:3,action:4,observation:5},oL=({nodes:e,edges:t,highlightedNodeIds:n,visibilityMap:r,containerWidth:i,containerHeight:o,onSelectNode:a,onNavigateToNode:s})=>{const[u,c]=C.useState(null),[d,f]=C.useState(null),[h,p]=C.useState(!1),[y,m]=C.useState(null),[_,g]=C.useState("");C.useEffect(()=>{g("")},[y]);const v=x=>e.find(k=>k.id===x),w=x=>{s?s(x):a(x)};C.useEffect(()=>{const x=()=>p(window.innerWidth<eL);return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const b=C.useMemo(()=>{const x=[];return e.forEach(k=>{if(!n.has(k.id))return;const T=r.get(k.id);if(!T||T.visibility!=="too-small")return;const E=t.filter(M=>M.to_node_id===k.id),I=t.filter(M=>M.from_node_id===k.id),N={incoming:E.map(M=>({node:v(M.from_node_id),edgeType:M.edge_type,rationale:M.rationale})).filter(M=>M.node),outgoing:I.map(M=>({node:v(M.to_node_id),edgeType:M.edge_type,rationale:M.rationale})).filter(M=>M.node)};x.push({node:k,nodeX:T.screenX+T.screenWidth/2,nodeY:T.screenY+T.screenHeight/2,cardX:0,cardY:0,color:ge(k.node_type),connections:N})}),nL(x,i,o)},[e,t,n,r,i,o]),S=y!==null?v(y):null;if(b.length===0&&!S)return null;if(h)return l.jsxs(l.Fragment,{children:[l.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:40},children:b.map(x=>l.jsxs("g",{children:[l.jsxs("circle",{cx:x.nodeX,cy:x.nodeY,r:jn+6,fill:x.color,fillOpacity:.3,children:[l.jsx("animate",{attributeName:"r",values:`${jn+4};${jn+10};${jn+4}`,dur:"2s",repeatCount:"indefinite"}),l.jsx("animate",{attributeName:"fill-opacity",values:"0.3;0.1;0.3",dur:"2s",repeatCount:"indefinite"})]}),l.jsx("circle",{cx:x.nodeX,cy:x.nodeY,r:jn+4,fill:x.color,stroke:"#fff",strokeWidth:2,style:{pointerEvents:"auto",cursor:"pointer"},onClick:()=>f(x.node)}),l.jsxs("text",{x:x.nodeX,y:x.nodeY+jn+16,fill:x.color,fontSize:"11",fontWeight:"600",textAnchor:"middle",style:{pointerEvents:"none"},children:["#",x.node.id]})]},x.node.id))}),l.jsx(rL,{nodes:b,selectedNode:d,onSelectNode:a,onClose:()=>f(null)})]});const j=S?(()=>{const x=iL(y,e,t),k=(I,N)=>{const M=Hw[I.node_type]??99,R=Hw[N.node_type]??99;return M-R},T=_.toLowerCase().trim(),E=I=>{var N;return T?I.title.toLowerCase().includes(T)||I.node_type.toLowerCase().includes(T)||((N=I.description)==null?void 0:N.toLowerCase().includes(T))||String(I.id).includes(T):!0};return{ancestors:[...x.ancestors].filter(E).sort(k),descendants:[...x.descendants].filter(E).sort(k),totalAncestors:x.ancestors.length,totalDescendants:x.descendants.length}})():null;return l.jsxs(l.Fragment,{children:[l.jsxs("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:40},children:[b.length>0&&l.jsx("rect",{x:i-Xh,y:0,width:Xh,height:o,fill:"#f6f8fa",fillOpacity:.85}),b.map(x=>{const k=u===x.node.id,T=x.cardX,E=x.cardY+Ga/2;return l.jsxs("g",{children:[l.jsx("path",{d:`M ${x.nodeX} ${x.nodeY}
                  Q ${x.nodeX+(T-x.nodeX)*.5} ${x.nodeY}
                    ${T} ${E}`,stroke:x.color,strokeWidth:k?3:2,strokeOpacity:k?.9:.5,fill:"none",strokeDasharray:k?"none":"8,4"}),l.jsx("circle",{cx:x.nodeX,cy:x.nodeY,r:k?jn+3:jn,fill:x.color,stroke:"#fff",strokeWidth:2,style:{pointerEvents:"auto",cursor:"pointer",transition:"r 0.15s"},onMouseEnter:()=>c(x.node.id),onMouseLeave:()=>c(null),onClick:()=>w(x.node)}),l.jsxs("g",{style:{pointerEvents:"auto",cursor:"pointer"},onClick:()=>m(x.node.id),onMouseEnter:()=>c(x.node.id),onMouseLeave:()=>c(null),children:[l.jsx("rect",{x:x.cardX,y:x.cardY,width:Et,height:Ga,rx:10,fill:"#ffffff",stroke:k?x.color:"#d0d7de",strokeWidth:k?2:1,filter:k?"drop-shadow(0 6px 16px rgba(0,0,0,0.18))":"drop-shadow(0 2px 6px rgba(0,0,0,0.1))"}),l.jsx("rect",{x:x.cardX,y:x.cardY,width:4,height:Ga,rx:2,fill:x.color}),l.jsx("rect",{x:x.cardX+14,y:x.cardY+10,width:72,height:20,rx:4,fill:x.color,fillOpacity:.15}),l.jsx("text",{x:x.cardX+50,y:x.cardY+20,fill:x.color,fontSize:"10",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:x.node.node_type.toUpperCase()}),(()=>{const I=tL(x.node);return I===null?null:l.jsxs(l.Fragment,{children:[l.jsx("rect",{x:x.cardX+92,y:x.cardY+10,width:42,height:20,rx:4,fill:I>=80?"#22c55e":I>=50?"#f59e0b":"#ef4444",fillOpacity:.15}),l.jsxs("text",{x:x.cardX+113,y:x.cardY+20,fill:I>=80?"#16a34a":I>=50?"#d97706":"#dc2626",fontSize:"10",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:[I,"%"]})]})})(),l.jsxs("text",{x:x.cardX+145,y:x.cardY+20,fill:"#6e7781",fontSize:"11",fontFamily:"monospace",fontWeight:"500",dominantBaseline:"middle",children:["Node #",x.node.id]}),l.jsx("text",{x:x.cardX+Et-14,y:x.cardY+20,fill:"#8b949e",fontSize:"10",textAnchor:"end",dominantBaseline:"middle",children:new Date(x.node.created_at).toLocaleDateString()}),l.jsx("text",{x:x.cardX+14,y:x.cardY+44,fill:"#24292f",fontSize:"14",fontWeight:"600",dominantBaseline:"middle",children:Ye(x.node.title,48)}),x.node.description&&l.jsx("text",{x:x.cardX+14,y:x.cardY+64,fill:"#57606a",fontSize:"12",dominantBaseline:"middle",children:Ye(x.node.description,55)}),l.jsx("line",{x1:x.cardX+14,y1:x.cardY+82,x2:x.cardX+Et-14,y2:x.cardY+82,stroke:"#e5e7eb",strokeWidth:1}),l.jsxs("text",{x:x.cardX+14,y:x.cardY+98,fill:"#6e7781",fontSize:"9",fontWeight:"600",dominantBaseline:"middle",letterSpacing:"0.5",children:["INCOMING (",x.connections.incoming.length,")"]}),x.connections.incoming.length>0?l.jsxs("g",{children:[x.connections.incoming.slice(0,1).map((I,N)=>l.jsxs("g",{children:[l.jsx("rect",{x:x.cardX+14,y:x.cardY+106,width:Et-28,height:24,rx:4,fill:"#f6f8fa"}),l.jsx("rect",{x:x.cardX+18,y:x.cardY+110,width:50,height:16,rx:3,fill:ge(I.node.node_type),fillOpacity:.15}),l.jsx("text",{x:x.cardX+43,y:x.cardY+118,fill:ge(I.node.node_type),fontSize:"8",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:I.node.node_type.toUpperCase()}),l.jsx("text",{x:x.cardX+74,y:x.cardY+118,fill:"#24292f",fontSize:"11",dominantBaseline:"middle",children:Ye(I.node.title,38)})]},`in-${N}`)),x.connections.incoming.length>1&&l.jsxs("text",{x:x.cardX+Et-14,y:x.cardY+118,fill:"#6e7781",fontSize:"9",textAnchor:"end",dominantBaseline:"middle",children:["+",x.connections.incoming.length-1," more"]})]}):l.jsx("text",{x:x.cardX+14,y:x.cardY+118,fill:"#9ca3af",fontSize:"10",fontStyle:"italic",dominantBaseline:"middle",children:"No incoming connections"}),l.jsxs("text",{x:x.cardX+14,y:x.cardY+140,fill:"#6e7781",fontSize:"9",fontWeight:"600",dominantBaseline:"middle",letterSpacing:"0.5",children:["OUTGOING (",x.connections.outgoing.length,")"]}),x.connections.outgoing.length>0?l.jsxs("g",{children:[x.connections.outgoing.slice(0,1).map((I,N)=>l.jsxs("g",{children:[l.jsx("rect",{x:x.cardX+14,y:x.cardY+148,width:Et-28,height:24,rx:4,fill:"#f6f8fa"}),l.jsx("rect",{x:x.cardX+18,y:x.cardY+152,width:50,height:16,rx:3,fill:ge(I.node.node_type),fillOpacity:.15}),l.jsx("text",{x:x.cardX+43,y:x.cardY+160,fill:ge(I.node.node_type),fontSize:"8",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:I.node.node_type.toUpperCase()}),l.jsx("text",{x:x.cardX+74,y:x.cardY+160,fill:"#24292f",fontSize:"11",dominantBaseline:"middle",children:Ye(I.node.title,38)})]},`out-${N}`)),x.connections.outgoing.length>1&&l.jsxs("text",{x:x.cardX+Et-14,y:x.cardY+160,fill:"#6e7781",fontSize:"9",textAnchor:"end",dominantBaseline:"middle",children:["+",x.connections.outgoing.length-1," more"]})]}):l.jsx("text",{x:x.cardX+14,y:x.cardY+160,fill:"#9ca3af",fontSize:"10",fontStyle:"italic",dominantBaseline:"middle",children:"No outgoing connections"}),l.jsxs("g",{style:{pointerEvents:"auto",cursor:"pointer"},onClick:I=>{I.stopPropagation(),m(x.node.id),s&&s(x.node)},children:[l.jsx("title",{children:"View node chain (ancestors/descendants)"}),l.jsx("rect",{x:x.cardX+Et-54,y:x.cardY+8,width:40,height:26,rx:6,fill:k?"#0969da":"#f6f8fa",stroke:k?"#0969da":"#d0d7de",strokeWidth:1}),l.jsx("text",{x:x.cardX+Et-34,y:x.cardY+21,fill:k?"#fff":"#57606a",fontSize:"11",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:"Chain"})]})]})]},x.node.id)}),l.jsxs("text",{x:i-Xh+Is,y:hg-16,fill:"#57606a",fontSize:"12",fontWeight:"500",children:[b.length," match",b.length!==1?"es":""," found"]})]}),S&&j&&l.jsxs("div",{style:{position:"absolute",bottom:16,left:16,width:400,maxHeight:"calc(100vh - 160px)",backgroundColor:"#fff",borderRadius:10,padding:16,overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"1px solid #d0d7de",zIndex:50,pointerEvents:"auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{backgroundColor:ge(S.node_type)+"20",color:ge(S.node_type),padding:"3px 8px",borderRadius:4,fontSize:10,fontWeight:600},children:S.node_type.toUpperCase()}),l.jsxs("span",{style:{fontWeight:600,fontSize:14},children:["#",S.id]})]}),l.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",fontSize:20,cursor:"pointer",color:"#6e7781",padding:0,lineHeight:1},children:""})]}),l.jsx("h3",{style:{margin:"0 0 12px",fontSize:14,fontWeight:600,lineHeight:1.3},children:Ye(S.title,50)}),l.jsx("button",{onClick:()=>{s&&s(S)},style:{width:"100%",padding:"8px 12px",backgroundColor:"#0969da",color:"#fff",border:"none",borderRadius:6,fontSize:13,fontWeight:500,cursor:"pointer",marginBottom:12},children:"Go to Node"}),l.jsx("div",{style:{marginBottom:12},children:l.jsx("input",{type:"text",value:_,onChange:x=>g(x.target.value),placeholder:"Filter chain...",style:{width:"100%",padding:"6px 10px",fontSize:12,border:"1px solid #d0d7de",borderRadius:6,backgroundColor:"#f6f8fa",outline:"none"}})}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsxs("div",{style:{fontSize:11,color:"#6e7781",fontWeight:600,marginBottom:6},children:["UPSTREAM ",_?`(${j.ancestors.length}/${j.totalAncestors})`:`(${j.ancestors.length})`]}),j.ancestors.length===0?l.jsx("div",{style:{color:"#9ca3af",fontSize:12,fontStyle:"italic"},children:_&&j.totalAncestors>0?"No matches":"Root node"}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[j.ancestors.slice(0,_?15:5).map(x=>l.jsxs("div",{onClick:()=>{s&&s(x),m(x.id)},style:{display:"flex",alignItems:"center",gap:6,padding:"6px 8px",backgroundColor:"#f6f8fa",borderRadius:4,cursor:"pointer",fontSize:12},children:[l.jsx("span",{style:{backgroundColor:ge(x.node_type)+"20",color:ge(x.node_type),padding:"1px 5px",borderRadius:3,fontSize:9,fontWeight:600},children:x.node_type.slice(0,3).toUpperCase()}),l.jsx("span",{style:{color:"#24292f",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ye(x.title,30)})]},x.id)),j.ancestors.length>(_?15:5)&&l.jsxs("div",{style:{fontSize:11,color:"#6e7781"},children:["+",j.ancestors.length-(_?15:5)," more"]})]})]}),l.jsxs("div",{style:{padding:"8px 10px",backgroundColor:ge(S.node_type)+"15",borderLeft:`3px solid ${ge(S.node_type)}`,borderRadius:4,marginBottom:16,fontSize:12},children:[l.jsx("div",{style:{fontSize:10,color:"#6e7781",marginBottom:2},children:"CURRENT"}),l.jsx("div",{style:{fontWeight:600},children:Ye(S.title,35)})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:11,color:"#6e7781",fontWeight:600,marginBottom:6},children:["DOWNSTREAM ",_?`(${j.descendants.length}/${j.totalDescendants})`:`(${j.descendants.length})`]}),j.descendants.length===0?l.jsx("div",{style:{color:"#9ca3af",fontSize:12,fontStyle:"italic"},children:_&&j.totalDescendants>0?"No matches":"Leaf node"}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[j.descendants.slice(0,_?15:5).map(x=>l.jsxs("div",{onClick:()=>{s&&s(x),m(x.id)},style:{display:"flex",alignItems:"center",gap:6,padding:"6px 8px",backgroundColor:"#f6f8fa",borderRadius:4,cursor:"pointer",fontSize:12},children:[l.jsx("span",{style:{backgroundColor:ge(x.node_type)+"20",color:ge(x.node_type),padding:"1px 5px",borderRadius:3,fontSize:9,fontWeight:600},children:x.node_type.slice(0,3).toUpperCase()}),l.jsx("span",{style:{color:"#24292f",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ye(x.title,30)})]},x.id)),j.descendants.length>(_?15:5)&&l.jsxs("div",{style:{fontSize:11,color:"#6e7781"},children:["+",j.descendants.length-(_?15:5)," more"]})]})]})]})]})},Ca=150,ka=100,ja=10,aL=({nodes:e,highlightedNodeIds:t,visibilityMap:n,nodePositions:r,graphBounds:i,viewportBounds:o,zoom:a,onNavigateToNode:s})=>{const u=C.useMemo(()=>{const h=i.maxX-i.minX,p=i.maxY-i.minY;if(h===0||p===0)return 1;const y=(Ca-ja*2)/h,m=(ka-ja*2)/p;return Math.min(y,m)},[i]),c=C.useMemo(()=>e.filter(h=>{if(!t.has(h.id))return!1;const p=n.get(h.id);return(p==null?void 0:p.visibility)==="off-screen"}),[e,t,n]),d=(h,p)=>({x:ja+(h-i.minX)*u,y:ja+(p-i.minY)*u}),f=C.useMemo(()=>{const h=d(-o.x/a,-o.y/a);return{x:h.x,y:h.y,width:o.width/a*u,height:o.height/a*u}},[o,a,u,i]);return c.length===0?null:l.jsxs("div",{style:$t.container,children:[l.jsxs("div",{style:$t.header,children:[l.jsx("span",{style:$t.title,children:"Off-screen matches"}),l.jsx("span",{style:$t.count,children:c.length})]}),l.jsxs("svg",{width:Ca,height:ka,style:$t.svg,children:[l.jsx("rect",{x:0,y:0,width:Ca,height:ka,fill:"#f6f8fa",rx:4}),e.map(h=>{const p=r.get(h.id);if(!p)return null;const{x:y,y:m}=d(p.x,p.y),_=t.has(h.id);return l.jsx("circle",{cx:y,cy:m,r:_?4:1.5,fill:_?ge(h.node_type):"#d0d7de",opacity:_?1:.5},h.id)}),l.jsx("rect",{x:Math.max(0,f.x),y:Math.max(0,f.y),width:Math.min(f.width,Ca-f.x),height:Math.min(f.height,ka-f.y),fill:"none",stroke:"#0969da",strokeWidth:1.5,rx:2})]}),l.jsxs("div",{style:$t.list,children:[c.slice(0,5).map(h=>l.jsxs("div",{style:$t.listItem,onClick:()=>s(h),children:[l.jsx("div",{style:{...$t.dot,backgroundColor:ge(h.node_type)}}),l.jsxs("span",{style:$t.nodeId,children:["#",h.id]})]},h.id)),c.length>5&&l.jsxs("div",{style:$t.moreText,children:["+",c.length-5," more"]})]})]})},$t={container:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",zIndex:50,overflow:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid #d0d7de",backgroundColor:"#f6f8fa"},title:{fontSize:"11px",fontWeight:600,color:"#57606a",textTransform:"uppercase"},count:{fontSize:"11px",fontWeight:600,color:"#cf222e",backgroundColor:"#ffebe9",padding:"2px 6px",borderRadius:"10px"},svg:{display:"block"},list:{padding:"8px",borderTop:"1px solid #d0d7de",maxHeight:"100px",overflowY:"auto"},listItem:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 6px",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.1s"},dot:{width:"8px",height:"8px",borderRadius:"50%",flexShrink:0},nodeId:{fontSize:"11px",color:"#24292f",fontFamily:"monospace"},moreText:{fontSize:"10px",color:"#57606a",padding:"4px 6px",fontStyle:"italic"}},Gw=45;function sL(e,t,n,r){const[i,o]=C.useState(new Map),a=C.useRef(!1),s=C.useCallback(()=>{if(!e.current)return;const p=e.current.getBoundingClientRect(),y=p.width,m=p.height,_=new Map;t.forEach((g,v)=>{const w=g.x*n+r.x,b=g.y*n+r.y,S=g.width*n,j=g.height*n,x=w-S/2,k=b-j/2,T=50,E=x+S>=-T&&x<=y+T&&k+j>=-T&&k<=m+T,I=S>=Gw&&j>=Gw;let N;E?I?N="visible":N="too-small":N="off-screen",_.set(v,{visibility:N,screenX:x,screenY:k,screenWidth:S,screenHeight:j})}),o(_)},[e,t,n,r]);C.useEffect(()=>{if(a.current)return;a.current=!0;const h=setTimeout(()=>{s(),a.current=!1},50);return()=>{clearTimeout(h),a.current=!1}},[s]);const u=C.useCallback(h=>{var p;return((p=i.get(h))==null?void 0:p.visibility)??"off-screen"},[i]);let c=0,d=0,f=0;return i.forEach(h=>{switch(h.visibility){case"visible":c++;break;case"too-small":d++;break;case"off-screen":f++;break}}),{visibilityMap:i,getVisibility:u,updateVisibility:s,visibleCount:c,tooSmallCount:d,offScreenCount:f}}const Vm=1e3;function Vw(){if(typeof window>"u")return yk();const e=new URLSearchParams(window.location.search),t=e.get("node"),n=e.get("search")||e.get("q"),r=e.get("sort"),i=e.get("view"),o=e.get("chains"),a=e.get("focus"),s=e.get("fullscreen");return{selectedNodeId:t?parseInt(t,10):null,searchQuery:n||"",searchSort:r==="oldest"||r==="newest"?r:"newest",viewMode:i==="all"||i==="single"||i==="recent"?i:"recent",recentChainCount:o?parseInt(o,10):Vm,focusChainIndex:a?parseInt(a,10):null,isFullscreen:s==="1"||s==="true"}}function yk(){return{selectedNodeId:null,searchQuery:"",searchSort:"newest",viewMode:"recent",recentChainCount:Vm,focusChainIndex:null,isFullscreen:typeof window<"u"&&window.innerWidth>=768}}function xk(e){const t=new URLSearchParams;return e.selectedNodeId!==null&&t.set("node",String(e.selectedNodeId)),e.searchQuery&&t.set("search",e.searchQuery),e.searchSort!=="newest"&&t.set("sort",e.searchSort),e.viewMode!=="recent"&&t.set("view",e.viewMode),e.recentChainCount!==Vm&&t.set("chains",String(e.recentChainCount)),e.focusChainIndex!==null&&t.set("focus",String(e.focusChainIndex)),e.isFullscreen&&t.set("fullscreen","1"),t.toString()}function lL(e){if(typeof window>"u")return;const t=xk(e),n=t?`${window.location.pathname}?${t}`:window.location.pathname;window.history.replaceState({},"",n)}function uL(){const[e,t]=C.useState(yk);C.useEffect(()=>{const f=Vw();t(f)},[]),C.useEffect(()=>{lL(e)},[e]),C.useEffect(()=>{const f=()=>{t(Vw())};return window.addEventListener("popstate",f),()=>window.removeEventListener("popstate",f)},[]);const n=C.useCallback(f=>{t(h=>({...h,selectedNodeId:f}))},[]),r=C.useCallback(f=>{t(h=>({...h,searchQuery:f}))},[]),i=C.useCallback(f=>{t(h=>({...h,searchSort:f}))},[]),o=C.useCallback(f=>{t(h=>({...h,viewMode:f}))},[]),a=C.useCallback(f=>{t(h=>({...h,recentChainCount:f}))},[]),s=C.useCallback(f=>{t(h=>({...h,focusChainIndex:f}))},[]),u=C.useCallback(f=>{t(h=>({...h,isFullscreen:f}))},[]),c=C.useCallback(()=>{if(typeof window>"u")return"";const f=xk(e);return f?`${window.location.origin}${window.location.pathname}?${f}`:`${window.location.origin}${window.location.pathname}`},[e]),d=C.useCallback(async()=>{const f=c();try{await navigator.clipboard.writeText(f)}catch{const p=document.createElement("textarea");p.value=f,document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p)}},[c]);return{state:e,setSelectedNodeId:n,setSearchQuery:r,setSearchSort:i,setViewMode:o,setRecentChainCount:a,setFocusChainIndex:s,setIsFullscreen:u,copyLinkToClipboard:d,getShareableUrl:c}}const Qh=1e3;function Yw(e){return Math.max(...e.nodes.map(t=>new Date(t.updated_at).getTime()))}function cL(e){return[...e].sort((t,n)=>Yw(n)-Yw(t))}const dL=({graphData:e,chains:t,gitHistory:n=[]})=>{const r=C.useRef(null),i=C.useRef(null),[o,a]=C.useState(1),{state:s,setSelectedNodeId:u,setSearchQuery:c,setSearchSort:d,setViewMode:f,setRecentChainCount:h,setFocusChainIndex:p,copyLinkToClipboard:y}=uL(),m=C.useMemo(()=>s.selectedNodeId===null?null:e.nodes.find(U=>U.id===s.selectedNodeId)??null,[s.selectedNodeId,e.nodes]),_=typeof window<"u"&&window.innerWidth<768,[g,v]=C.useState(_),[w,b]=C.useState(new Set),[S,j]=C.useState(new Map),[x,k]=C.useState({x:0,y:0}),[T,E]=C.useState({width:0,height:0}),[I,N]=C.useState({minX:0,maxX:1e3,minY:0,maxY:1e3}),{visibilityMap:M}=sL(r,S,o,x),R=C.useRef(null),D=C.useMemo(()=>cL(t),[t]),L=C.useMemo(()=>[...t].sort((U,X)=>U.root.id-X.root.id),[t]),F=C.useMemo(()=>D.filter(U=>U.root.node_type==="goal"),[D]),A=C.useMemo(()=>{let U;return s.viewMode==="single"&&s.focusChainIndex!==null?U=[t[s.focusChainIndex]].filter(Boolean):s.viewMode==="recent"?U=F.slice(0,s.recentChainCount):U=D,new Set(U.map(X=>X.root.id))},[s.viewMode,s.focusChainIndex,t,F,D,s.recentChainCount]),O=C.useMemo(()=>L.filter(U=>A.has(U.root.id)),[L,A]),z=C.useMemo(()=>{const U=new Set;return O.forEach(X=>{X.nodes.forEach(Ie=>U.add(Ie.id))}),U},[O]),B=F.length-(s.viewMode==="recent"?s.recentChainCount:0),W=C.useCallback(U=>{u(U.id)},[u]),ce=C.useCallback(U=>{u(U)},[u]),[re,pe]=C.useState(!1),[oe,K]=C.useState(""),He=C.useCallback((U=1)=>{h(Math.min(s.recentChainCount+U,F.length)),pe(!1),K("")},[s.recentChainCount,F.length,h]),rr=C.useCallback((U=1)=>{h(Math.max(s.recentChainCount-U,1))},[s.recentChainCount,h]),Xo=C.useCallback(()=>{const U=parseInt(oe,10);U>0&&He(U)},[oe,He]),Qo=C.useCallback(()=>{f("all")},[f]),ji=C.useCallback(()=>{f("recent"),h(Qh),p(null)},[f,h,p]),_l=C.useCallback(()=>{v(U=>!U)},[]);C.useEffect(()=>{const U=X=>{X.key==="Escape"&&m&&u(null)};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[m,u]),C.useEffect(()=>{const U=i.current;if(!U)return;const X=Ie=>{Ie.ctrlKey&&Ie.preventDefault()};return U.addEventListener("wheel",X,{passive:!1}),()=>U.removeEventListener("wheel",X)},[]);const wl=C.useCallback(U=>{U===null?(f("recent"),p(null)):(f("single"),p(U))},[f,p]),de=C.useCallback(U=>{if(!r.current||!i.current||!R.current)return;const X=Ke(r.current),Ie=i.current,lt=Ie.clientWidth,Ei=Ie.clientHeight,ae=S.get(U.id);if(!ae)return;const Ge=1.2,Me=lt/2-ae.x*Ge,Dt=Ei/2-ae.y*Ge;X.transition().duration(500).call(R.current.transform,ks.translate(Me,Dt).scale(Ge))},[S]);return C.useEffect(()=>{if(!r.current||!i.current)return;const U=Ke(r.current),X=i.current,Ie=X.clientWidth,lt=X.clientHeight;U.selectAll("*").remove();const Ei=e.edges.filter(Z=>z.has(Z.from_node_id)&&z.has(Z.to_node_id));if(z.size===0)return;const ae=new Ww.graphlib.Graph;ae.setGraph({rankdir:"TB",nodesep:80,ranksep:100,marginx:50,marginy:50}),ae.setDefaultEdgeLabel(()=>({}));const Ge=new Set;O.forEach(Z=>{Z.nodes.forEach(ee=>{Ge.has(ee.id)||(ae.setNode(String(ee.id),{width:150,height:60,node:ee}),Ge.add(ee.id))})}),Ei.forEach(Z=>{ae.setEdge(String(Z.from_node_id),String(Z.to_node_id),{edge:Z})}),Ww.layout(ae);const Me=new Map;let Dt=1/0,Sn=-1/0,Ti=1/0,Pr=-1/0;ae.nodes().forEach(Z=>{const ee=ae.node(Z);Me.set(parseInt(Z),{x:ee.x,y:ee.y,width:ee.width,height:ee.height}),Dt=Math.min(Dt,ee.x-ee.width/2),Sn=Math.max(Sn,ee.x+ee.width/2),Ti=Math.min(Ti,ee.y-ee.height/2),Pr=Math.max(Pr,ee.y+ee.height/2)}),j(Me),N({minX:Dt,maxX:Sn,minY:Ti,maxY:Pr}),E({width:Ie,height:lt});const Jt=ae.graph().width||Ie,Ri=ae.graph().height||lt,Ar=U.append("g"),Ii=nC().scaleExtent([.1,3]).on("zoom",Z=>{Ar.attr("transform",Z.transform),a(Z.transform.k),k({x:Z.transform.x,y:Z.transform.y})});R.current=Ii,U.call(Ii);const Lr=Math.min((Ie-100)/Jt,(lt-100)/Ri,1),qt=(Ie-Jt*Lr)/2,Zt=(lt-Ri*Lr)/2;U.call(Ii.transform,ks.translate(qt,Zt).scale(Lr)),Ar.append("g").selectAll(".edge").data(ae.edges()).join("g").attr("class","edge").each(function(Z){const ee=ae.edge(Z),Jo=ee.edge,wk=W8().x(Sl=>Sl.x).y(Sl=>Sl.y).curve(H8);Ke(this).append("path").attr("d",wk(ee.points)).attr("fill","none").attr("stroke",yR(Jo.edge_type)).attr("stroke-width",2).attr("stroke-opacity",.6).attr("stroke-dasharray",Jo.edge_type==="rejected"?"5,5":null).attr("marker-end","url(#arrowhead)")});const Km=U.append("defs");Km.append("marker").attr("id","arrowhead").attr("viewBox","-5 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M-5,-5L5,0L-5,5Z").attr("fill","#666");const Xm=Km.append("filter").attr("id","search-glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");Xm.append("feGaussianBlur").attr("stdDeviation","4").attr("result","coloredBlur");const Qm=Xm.append("feMerge");Qm.append("feMergeNode").attr("in","coloredBlur"),Qm.append("feMergeNode").attr("in","SourceGraphic");const bl=Ar.append("g").selectAll(".node").data(ae.nodes()).join("g").attr("class","node").attr("transform",Z=>{const ee=ae.node(Z);return`translate(${ee.x-ee.width/2},${ee.y-ee.height/2})`}).style("cursor","pointer").on("click",(Z,ee)=>{const Jo=ae.node(ee).node;W(Jo)});return bl.append("rect").attr("width",Z=>ae.node(Z).width).attr("height",Z=>ae.node(Z).height).attr("rx",8).attr("fill",Z=>{const ee=ae.node(Z).node;return ge(ee.node_type)}).attr("fill-opacity",Z=>{const ee=ae.node(Z).node;return w.has(ee.id)?.5:.2}).attr("stroke",Z=>{const ee=ae.node(Z).node;return w.has(ee.id)?"#f59e0b":ge(ee.node_type)}).attr("stroke-width",Z=>{const ee=ae.node(Z).node;return w.has(ee.id)?4:2}).attr("filter",Z=>{const ee=ae.node(Z).node;return w.has(ee.id)?"url(#search-glow)":null}),bl.append("text").attr("x",10).attr("y",18).attr("fill","#666").attr("font-size","10px").text(Z=>`#${Z}`),bl.append("text").attr("x",Z=>ae.node(Z).width/2).attr("y",38).attr("text-anchor","middle").attr("fill","#24292f").attr("font-size","12px").text(Z=>{const ee=ae.node(Z).node;return Ye(ee.title,20)}),()=>{U.on(".zoom",null)}},[e,z,O,W,w]),l.jsxs("div",{style:{...Q.container,...Q.fullscreenContainer},children:[l.jsxs("div",{style:{...Q.topBar,...Q.fullscreenTopBar},children:[l.jsx("div",{style:Q.topBarLeft,children:l.jsx(JA,{nodes:e.nodes,gitHistory:n,onSelectNode:W,onHighlightNodes:b,placeholder:"Search nodes, commits...",query:s.searchQuery,onQueryChange:c,sortOrder:s.searchSort,onSortOrderChange:d})}),l.jsxs("div",{style:Q.topBarCenter,children:[s.viewMode==="recent"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>rr(1),style:{...Q.topBarBtnDanger,...s.recentChainCount<=1?Q.topBarBtnDisabled:{}},disabled:s.recentChainCount<=1,title:s.recentChainCount<=1?"Already showing minimum":"Show one fewer goal chain",children:"1 Chain"}),l.jsx("button",{onClick:()=>He(1),style:{...Q.topBarBtn,...B<=0?Q.topBarBtnDisabled:{}},disabled:B<=0,title:B<=0?"All chains shown":"Show one more goal chain",children:"+1 Chain"}),re?l.jsxs("div",{style:Q.expandInputRow,children:[l.jsx("input",{type:"number",min:"1",max:B,value:oe,onChange:U=>K(U.target.value),onKeyDown:U=>U.key==="Enter"&&Xo(),placeholder:String(B),style:Q.topBarInput,autoFocus:!0}),l.jsx("button",{onClick:Xo,style:Q.topBarBtn,children:"Add"})]}):l.jsx("button",{onClick:()=>pe(!0),style:{...Q.topBarBtn,...B<=0?Q.topBarBtnDisabled:{}},disabled:B<=0,title:B<=0?"All chains shown":"Add a specific number of chains",children:"+N..."}),l.jsxs("button",{onClick:Qo,style:{...Q.topBarBtnSecondary,...B<=0?Q.topBarBtnDisabled:{}},disabled:B<=0,title:B<=0?"All chains shown":"Show all goal chains in the graph",children:["Show All (",F.length,")"]}),s.recentChainCount>Qh&&l.jsxs("button",{onClick:ji,style:Q.topBarBtnSecondary,children:["Reset to ",Qh]})]}),s.viewMode==="all"&&l.jsx("button",{onClick:ji,style:Q.topBarBtn,children:"Show Recent Only"}),s.viewMode==="single"&&l.jsx("button",{onClick:ji,style:Q.topBarBtn,children:"Back to Recent"})]}),l.jsxs("div",{style:Q.topBarRight,children:[w.size>0&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{style:Q.matchCount,children:[w.size," matches"]}),l.jsx("span",{style:Q.topBarStatDivider,children:""})]}),l.jsxs("span",{style:Q.topBarStat,children:[z.size," nodes"]}),l.jsx("span",{style:Q.topBarStatDivider,children:""}),l.jsxs("span",{style:Q.topBarStat,children:[O.length," chains"]}),l.jsx("button",{onClick:async()=>{await y()},style:Q.copyLinkBtn,title:"Copy shareable link to clipboard",children:" Copy Link"})]})]}),s.viewMode==="recent"&&B>0&&l.jsxs("div",{style:Q.hiddenIndicator,children:[l.jsxs("span",{style:Q.hiddenIndicatorText,children:["+ ",B," older goal chain",B!==1?"s":""," not shown"]}),l.jsx("button",{onClick:Qo,style:Q.hiddenIndicatorBtn,children:"Show all"})]}),l.jsxs("div",{style:{...Q.controls,...g?Q.controlsCollapsed:{},...Q.controlsFullscreen},children:[l.jsx("button",{onClick:_l,style:Q.collapseBtn,title:g?"Show controls":"Hide controls",children:g?"":""}),!g&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:Q.section,children:[l.jsx("label",{style:Q.label,children:"Jump to Chain"}),l.jsxs("select",{value:s.focusChainIndex??"",onChange:U=>wl(U.target.value?Number(U.target.value):null),style:Q.select,children:[l.jsx("option",{value:"",children:"Recent Chains"}),F.map(U=>l.jsx("option",{value:t.indexOf(U),children:Ye(U.root.title,30)},U.root.id))]})]}),l.jsxs("div",{style:Q.legend,children:[l.jsx("div",{style:Q.legendTitle,children:"Node Types"}),Object.entries(mm).map(([U,X])=>l.jsxs("div",{style:Q.legendItem,children:[l.jsx("div",{style:{...Q.legendDot,backgroundColor:X}}),l.jsx("span",{children:U})]},U))]}),l.jsxs("div",{style:Q.zoomInfo,children:["Zoom: ",Math.round(o*100),"%"]})]})]}),l.jsxs("div",{ref:i,style:Q.svgContainer,children:[l.jsx("svg",{ref:r,style:Q.svg}),w.size>0&&l.jsx(oL,{nodes:e.nodes,edges:e.edges,highlightedNodeIds:w,visibilityMap:M,containerWidth:T.width,containerHeight:T.height,onSelectNode:W,onNavigateToNode:de}),w.size>0&&l.jsx(aL,{nodes:e.nodes,highlightedNodeIds:w,visibilityMap:M,nodePositions:S,graphBounds:I,viewportBounds:{x:x.x,y:x.y,width:T.width,height:T.height},zoom:o,onNavigateToNode:de})]}),m&&l.jsx("div",{style:Q.modalBackdrop,onClick:()=>u(null),children:l.jsx("div",{style:Q.detailModal,onClick:U=>U.stopPropagation(),children:l.jsx(Fo,{node:m,graphData:e,onSelectNode:ce,onClose:()=>u(null),repo:S2(e),gitHistory:n})})})]})},Q={container:{height:"100%",display:"flex",flexDirection:"column",position:"relative",backgroundColor:"#ffffff"},fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,height:"100vh"},topBar:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",backgroundColor:"#f6f8fa",borderBottom:"1px solid #d0d7de",zIndex:20,flexShrink:0,flexWrap:"wrap",gap:"8px"},topBarLeft:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0,maxWidth:"400px"},topBarCenter:{display:"flex",alignItems:"center",gap:"8px"},topBarBtn:{padding:"6px 12px",backgroundColor:"#2da44e",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnSecondary:{padding:"6px 12px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",color:"#24292f",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnDanger:{padding:"6px 12px",backgroundColor:"#ffebe9",border:"1px solid #ff8182",borderRadius:"6px",color:"#cf222e",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnDisabled:{opacity:.5,cursor:"not-allowed"},topBarInput:{width:"50px",padding:"5px 8px",backgroundColor:"#ffffff",border:"1px solid #2da44e",borderRadius:"6px",color:"#24292f",fontSize:"12px",textAlign:"center"},topBarRight:{display:"flex",alignItems:"center",gap:"8px"},topBarStat:{fontSize:"12px",color:"#57606a"},matchCount:{fontSize:"12px",fontWeight:600,color:"#f59e0b",backgroundColor:"#fef3c7",padding:"2px 8px",borderRadius:"10px"},topBarStatDivider:{color:"#d0d7de"},copyLinkBtn:{marginLeft:"12px",padding:"6px 12px",backgroundColor:"#ddf4ff",border:"1px solid #54aeff",borderRadius:"6px",color:"#0969da",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},fullscreenTopBar:{padding:"8px 20px"},hiddenIndicator:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"8px 20px",backgroundColor:"#fff8c5",borderBottom:"1px solid #d4a72c",flexShrink:0},hiddenIndicatorText:{fontSize:"12px",color:"#9a6700",fontStyle:"italic"},hiddenIndicatorBtn:{padding:"4px 10px",backgroundColor:"transparent",border:"1px solid #9a6700",borderRadius:"4px",color:"#9a6700",fontSize:"11px",cursor:"pointer"},controls:{position:"absolute",top:"70px",left:"20px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",padding:"15px",borderRadius:"8px",zIndex:10,width:"180px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",transition:"width 0.2s, padding 0.2s"},controlsCollapsed:{width:"40px",padding:"8px",overflow:"hidden"},controlsFullscreen:{top:"60px"},collapseBtn:{width:"24px",height:"24px",padding:0,backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#57606a",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},expandInputRow:{display:"flex",gap:"4px",alignItems:"center"},section:{marginBottom:"15px"},label:{display:"block",fontSize:"11px",color:"#57606a",marginBottom:"6px",textTransform:"uppercase"},select:{width:"100%",padding:"8px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"12px"},legend:{marginTop:"20px"},legendTitle:{fontSize:"11px",color:"#57606a",marginBottom:"8px",textTransform:"uppercase"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#57606a",marginBottom:"4px"},legendDot:{width:"10px",height:"10px",borderRadius:"50%"},zoomInfo:{marginTop:"15px",fontSize:"11px",color:"#6e7781"},svgContainer:{flex:1,position:"relative",minHeight:0,backgroundColor:"#f6f8fa",touchAction:"none",overflow:"hidden"},svg:{width:"100%",height:"100%",touchAction:"none"},modalBackdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},detailModal:{backgroundColor:"#ffffff",borderRadius:"12px",width:"90%",maxWidth:"500px",maxHeight:"85vh",overflowY:"auto",border:"1px solid #d0d7de",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)"}};function xl(e){var r;const t=e.checkbox_state==="checked",n=((r=e.section)==null?void 0:r.toLowerCase().includes("completed"))??!1;return t||n}function Ym(e){const t=e.checkbox_state==="checked",n=e.outcome_change_id!==null&&e.outcome_change_id!==void 0,r=e.github_issue_state==="closed";return t&&n&&r}function _k(e){return e.checkbox_state==="none"}function fL(e){const t=e.checkbox_state==="checked",n=e.outcome_change_id!==null&&e.outcome_change_id!==void 0,r=e.github_issue_state==="closed";return(t||n||r)&&!Ym(e)}function hL(e,t){return e.filter(r=>!_k(r)).filter(r=>{const i=xl(r);return t==="active"?!i:i})}function pL(e){const t=e.filter(r=>!_k(r)),n=t.filter(xl).length;return{active:t.length-n,completed:n}}function gL(e){const t=new Map;for(const n of e){const r=n.section||"Uncategorized",i=t.get(r)||[];t.set(r,[...i,n])}return t}function Kw(e){return e.github_issue_number?`https://github.com/notactuallytreyanastasio/deciduous/issues/${e.github_issue_number}`:null}const mL=({graphData:e,roadmapItems:t=[]})=>{const[n,r]=C.useState("active"),[i,o]=C.useState(0),[a,s]=C.useState(!1),[u,c]=C.useState(null),[d,f]=C.useState(t);C.useEffect(()=>{f(t)},[t]);const h=C.useMemo(()=>hL(d,n),[d,n]),p=C.useMemo(()=>pL(d),[d]),y=C.useMemo(()=>gL(h),[h]),m=h[i]??null;C.useEffect(()=>{i>=h.length&&o(Math.max(0,h.length-1))},[h.length,i]);const _=C.useCallback(()=>{if(m){const x=Kw(m);x&&window.open(x,"_blank","noopener,noreferrer")}},[m]),[g,v]=C.useState(null);C.useEffect(()=>{if(g){const x=setTimeout(()=>v(null),3e3);return()=>clearTimeout(x)}},[g]);const w=C.useCallback(async()=>{if(!m){v("No item selected");return}const x=m.checkbox_state==="checked"?"unchecked":"checked";try{const k=await fetch("/api/roadmap/checkbox",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:m.id,checkbox_state:x})});if(k.ok)v(`Item marked as ${x}`),window.location.reload();else{const T=await k.json();v(T.error||"Failed to update")}}catch{v("API not available (requires deciduous serve)")}},[m]),[b,S]=C.useState(!1);C.useEffect(()=>{const x=k=>{if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement)){if(b&&(S(!1),k.key==="g")){k.preventDefault(),o(0);return}switch(k.key){case"j":case"ArrowDown":k.preventDefault(),o(T=>Math.min(T+1,h.length-1));break;case"k":case"ArrowUp":k.preventDefault(),o(T=>Math.max(T-1,0));break;case"g":k.preventDefault(),S(!0);break;case"G":k.preventDefault(),o(h.length-1);break;case"o":k.preventDefault(),_();break;case"c":k.preventDefault(),w();break;case"Tab":k.preventDefault(),r(T=>T==="active"?"completed":"active"),o(0);break;case"Enter":k.preventDefault(),s(T=>!T);break;case"Escape":a&&(k.preventDefault(),s(!1));break}}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[h.length,_,w,a,b]);const j=x=>{const k=e.nodes.find(T=>T.id===x);k&&c(k)};return t.length===0?l.jsxs("div",{style:$.empty,children:[l.jsx("div",{style:$.emptyIcon,children:""}),l.jsx("h2",{style:$.emptyTitle,children:"No Roadmap Items"}),l.jsxs("p",{style:$.emptyText,children:["Run ",l.jsx("code",{style:$.code,children:"deciduous roadmap init"})," to initialize the roadmap."]}),l.jsxs("p",{style:$.emptyHint,children:["Then run ",l.jsx("code",{style:$.code,children:"deciduous roadmap sync"})," to sync with GitHub Issues."]})]}):l.jsxs("div",{style:$.container,children:[l.jsxs("div",{style:$.sidebar,children:[l.jsxs("div",{style:$.sidebarHeader,children:[l.jsx("h2",{style:$.title,children:"Roadmap"}),l.jsxs("span",{style:$.itemCount,children:[h.length," items"]})]}),l.jsxs("div",{style:$.toggleContainer,children:[l.jsxs("button",{onClick:()=>{r("active"),o(0)},style:{...$.toggleBtn,...n==="active"?$.toggleBtnActive:{}},children:[l.jsx("span",{style:Xw(n==="active",!1)}),"Active",l.jsx("span",{style:$.toggleCount,children:p.active})]}),l.jsxs("button",{onClick:()=>{r("completed"),o(0)},style:{...$.toggleBtn,...n==="completed"?$.toggleBtnActiveGreen:{}},children:[l.jsx("span",{style:Xw(n==="completed",!0)}),"Done",l.jsx("span",{style:$.toggleCount,children:p.completed})]})]}),l.jsxs("div",{style:$.hints,children:[l.jsx("div",{style:$.hintsTitle,children:"Keyboard"}),l.jsxs("div",{style:$.hintGrid,children:[l.jsx("kbd",{style:$.kbd,children:"j/k"}),l.jsx("span",{style:$.hintText,children:"Navigate"}),l.jsx("kbd",{style:$.kbd,children:"gg/G"}),l.jsx("span",{style:$.hintText,children:"Top/Bottom"}),l.jsx("kbd",{style:$.kbd,children:"o"}),l.jsx("span",{style:$.hintText,children:"Open issue"}),l.jsx("kbd",{style:$.kbd,children:"c"}),l.jsx("span",{style:$.hintText,children:"Toggle done"}),l.jsx("kbd",{style:$.kbd,children:"Tab"}),l.jsx("span",{style:$.hintText,children:"Switch view"}),l.jsx("kbd",{style:$.kbd,children:"Enter"}),l.jsx("span",{style:$.hintText,children:"Details"})]})]}),g&&l.jsx("div",{style:$.statusMessage,children:g})]}),l.jsx("div",{style:$.content,children:h.length===0?l.jsxs("div",{style:$.emptyFiltered,children:[l.jsx("div",{style:$.emptyFilteredIcon,children:n==="active"?"":""}),l.jsx("p",{style:$.emptyFilteredText,children:n==="active"?"All caught up! No active items.":"No completed items yet."}),l.jsxs("button",{onClick:()=>{r(n==="active"?"completed":"active"),o(0)},style:$.emptyFilteredBtn,children:["View ",n==="active"?"completed":"active"," items"]})]}):l.jsx("div",{style:$.itemList,children:(()=>{let x=0;const k=[];for(const[T,E]of y){k.push(l.jsx(vL,{title:T,count:E.length},`section-${T}`));for(const I of E){const N=x;k.push(l.jsx(yL,{item:I,isSelected:N===i,onClick:()=>o(N),onToggleCheckbox:async()=>{const M=I.checkbox_state==="checked"?"unchecked":"checked";f(R=>R.map(D=>D.id===I.id?{...D,checkbox_state:M}:D)),v(`Item marked as ${M}`),fetch("/api/roadmap/checkbox",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:I.id,checkbox_state:M})}).catch(()=>{})},onSelectOutcome:j,onOpenIssue:()=>{const M=Kw(I);M&&window.open(M,"_blank","noopener,noreferrer")}},I.id)),x++}}return k})()})}),a&&m&&l.jsx("div",{style:$.detailSidebar,children:l.jsx(xL,{item:m,onClose:()=>s(!1)})}),u&&l.jsx("div",{style:$.detailPanel,children:l.jsx(Fo,{node:u,graphData:e,onSelectNode:x=>{const k=e.nodes.find(T=>T.id===x);k&&c(k)},onClose:()=>c(null)})})]})},vL=({title:e,count:t})=>l.jsxs("div",{style:$.sectionHeader,children:[l.jsx("div",{style:$.sectionLine}),l.jsx("span",{style:$.sectionTitle,children:e}),l.jsx("span",{style:$.sectionCount,children:t}),l.jsx("div",{style:$.sectionLine})]}),yL=({item:e,isSelected:t,onClick:n,onToggleCheckbox:r,onSelectOutcome:i,onOpenIssue:o})=>{const a=xl(e),s=fL(e),u=Ym(e);return l.jsxs("div",{style:{...$.card,...t?$.cardSelected:{}},onClick:n,children:[l.jsx("div",{style:{...$.selectionBar,opacity:t?1:0}}),l.jsxs("div",{style:$.cardContent,children:[l.jsx("button",{style:{...$.checkbox,...a?$.checkboxChecked:{}},onClick:c=>{c.stopPropagation(),r()},children:a&&l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:l.jsx("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsxs("div",{style:$.cardMain,children:[l.jsx("span",{style:{...$.cardTitle,...a?$.cardTitleComplete:{}},children:e.title}),l.jsxs("div",{style:$.cardMeta,children:[e.github_issue_number&&l.jsxs("button",{onClick:c=>{c.stopPropagation(),o()},style:{...$.badge,...e.github_issue_state==="closed"?$.badgePurple:$.badgeBlue},title:"Open in GitHub",children:[l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:l.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"#",e.github_issue_number]}),e.outcome_node_id&&l.jsxs("button",{onClick:c=>{c.stopPropagation(),i(e.outcome_node_id)},style:{...$.badge,...$.badgeAmber},children:[l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:l.jsx("path",{d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047z"})}),"Outcome"]}),u&&l.jsxs("span",{style:{...$.statusPill,...$.statusSynced},children:[l.jsx("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:l.jsx("path",{d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Synced"]}),!u&&s&&l.jsx("span",{style:{...$.statusPill,...$.statusPartial},children:"In Progress"})]})]})]})]})},xL=({item:e,onClose:t})=>{const n=xl(e),r=Ym(e);return l.jsxs("div",{style:$.detailContent,children:[l.jsxs("div",{style:$.detailHeader,children:[l.jsx("h3",{style:$.detailTitle,children:e.title}),l.jsx("button",{onClick:t,style:$.closeBtn,children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e.section&&l.jsx("div",{style:$.detailChip,children:e.section}),e.description&&l.jsx("p",{style:$.detailDesc,children:e.description}),l.jsx("div",{style:$.detailDivider,children:"Sync Status"}),l.jsxs("div",{style:$.syncGrid,children:[l.jsx(Jh,{label:"Checkbox",checked:e.checkbox_state==="checked",detail:e.checkbox_state}),l.jsx(Jh,{label:"Outcome",checked:!!e.outcome_change_id,detail:e.outcome_change_id?e.outcome_change_id.slice(0,8):"Not linked"}),l.jsx(Jh,{label:"Issue",checked:e.github_issue_state==="closed",detail:e.github_issue_number?`#${e.github_issue_number} (${e.github_issue_state||"unknown"})`:"No issue"})]}),l.jsx("div",{style:{...$.overallStatus,...r?$.overallSynced:n?$.overallComplete:$.overallIncomplete},children:r?l.jsxs(l.Fragment,{children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Fully Synced"]}):n?l.jsxs(l.Fragment,{children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm3.78 6.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Complete (not synced)"]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"})}),"Incomplete"]})})]})},Jh=({label:e,checked:t,detail:n})=>l.jsxs("div",{style:$.syncRow,children:[l.jsx("div",{style:{...$.syncIcon,backgroundColor:t?"#dcfce7":"#fef2f2",color:t?"#16a34a":"#dc2626"},children:t?l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:l.jsx("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}):l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:l.jsx("path",{d:"M3 3l6 6M9 3L3 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),l.jsxs("div",{style:$.syncInfo,children:[l.jsx("span",{style:$.syncLabel,children:e}),l.jsx("span",{style:$.syncDetail,children:n})]})]}),Xw=(e,t)=>({width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e?t?"#22c55e":"#3b82f6":"#d1d5db",transition:"background-color 0.15s ease"}),$={container:{height:"100%",display:"flex",backgroundColor:"#fafafa"},sidebar:{width:"220px",padding:"24px 20px",backgroundColor:"#ffffff",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"24px"},sidebarHeader:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},title:{fontSize:"18px",fontWeight:600,margin:0,color:"#111827",letterSpacing:"-0.025em"},itemCount:{fontSize:"12px",color:"#9ca3af",fontWeight:500},toggleContainer:{display:"flex",flexDirection:"column",gap:"8px"},toggleBtn:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",fontSize:"13px",fontWeight:500,border:"1px solid #e5e7eb",backgroundColor:"#ffffff",color:"#6b7280",borderRadius:"8px",cursor:"pointer",transition:"all 0.15s ease"},toggleBtnActive:{backgroundColor:"#eff6ff",borderColor:"#3b82f6",color:"#1d4ed8"},toggleBtnActiveGreen:{backgroundColor:"#f0fdf4",borderColor:"#22c55e",color:"#16a34a"},toggleCount:{marginLeft:"auto",fontSize:"12px",fontWeight:600,color:"inherit",opacity:.7},hints:{marginTop:"auto"},hintsTitle:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"},hintGrid:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",alignItems:"center"},kbd:{display:"inline-block",padding:"2px 6px",fontSize:"11px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',fontWeight:500,color:"#374151",backgroundColor:"#f3f4f6",borderRadius:"4px",border:"1px solid #e5e7eb",boxShadow:"0 1px 0 #d1d5db"},hintText:{fontSize:"12px",color:"#6b7280"},statusMessage:{padding:"10px 14px",backgroundColor:"#eff6ff",color:"#1d4ed8",borderRadius:"8px",fontSize:"13px",fontWeight:500,textAlign:"center"},content:{flex:1,overflowY:"auto",padding:"24px"},itemList:{display:"flex",flexDirection:"column",gap:"4px",maxWidth:"800px"},sectionHeader:{display:"flex",alignItems:"center",gap:"12px",padding:"20px 0 12px 0"},sectionLine:{flex:1,height:"1px",backgroundColor:"#e5e7eb"},sectionTitle:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},sectionCount:{fontSize:"11px",fontWeight:600,color:"#9ca3af",backgroundColor:"#f3f4f6",padding:"2px 8px",borderRadius:"10px"},card:{position:"relative",backgroundColor:"#ffffff",borderRadius:"10px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.15s ease",overflow:"hidden"},cardSelected:{borderColor:"#3b82f6",boxShadow:"0 0 0 3px rgba(59, 130, 246, 0.1), 0 4px 6px -1px rgba(0, 0, 0, 0.05)"},selectionBar:{position:"absolute",left:0,top:0,bottom:0,width:"3px",backgroundColor:"#3b82f6",transition:"opacity 0.15s ease"},cardContent:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"14px 16px"},checkbox:{width:"20px",height:"20px",borderRadius:"6px",border:"2px solid #d1d5db",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.15s ease",flexShrink:0,marginTop:"1px"},checkboxChecked:{backgroundColor:"#22c55e",borderColor:"#22c55e",color:"#ffffff"},cardMain:{flex:1,minWidth:0},cardTitle:{fontSize:"14px",fontWeight:500,color:"#111827",lineHeight:1.4,display:"block",marginBottom:"6px"},cardTitleComplete:{color:"#6b7280",textDecoration:"line-through"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"6px",alignItems:"center"},badge:{display:"inline-flex",alignItems:"center",padding:"3px 8px",fontSize:"11px",fontWeight:500,borderRadius:"6px",border:"none",cursor:"pointer",transition:"all 0.15s ease"},badgeBlue:{backgroundColor:"#eff6ff",color:"#2563eb"},badgePurple:{backgroundColor:"#f5f3ff",color:"#7c3aed"},badgeAmber:{backgroundColor:"#fffbeb",color:"#d97706"},statusPill:{display:"inline-flex",alignItems:"center",padding:"3px 8px",fontSize:"11px",fontWeight:500,borderRadius:"10px"},statusSynced:{backgroundColor:"#dcfce7",color:"#16a34a"},statusPartial:{backgroundColor:"#fef3c7",color:"#d97706"},detailSidebar:{width:"320px",borderLeft:"1px solid #e5e7eb",backgroundColor:"#ffffff",flexShrink:0,overflowY:"auto"},detailPanel:{width:"320px",borderLeft:"1px solid #e5e7eb",flexShrink:0,backgroundColor:"#ffffff"},detailContent:{padding:"24px"},detailHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},detailTitle:{fontSize:"16px",fontWeight:600,color:"#111827",margin:0,lineHeight:1.4},closeBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",background:"none",border:"none",borderRadius:"6px",cursor:"pointer",color:"#9ca3af",transition:"all 0.15s ease"},detailChip:{display:"inline-block",padding:"4px 10px",fontSize:"12px",fontWeight:500,color:"#6b7280",backgroundColor:"#f3f4f6",borderRadius:"6px",marginBottom:"16px"},detailDesc:{fontSize:"14px",color:"#4b5563",lineHeight:1.6,margin:"0 0 16px 0"},detailDivider:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",margin:"24px 0 16px 0",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},syncGrid:{display:"flex",flexDirection:"column",gap:"12px"},syncRow:{display:"flex",alignItems:"center",gap:"12px"},syncIcon:{width:"28px",height:"28px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},syncInfo:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},syncLabel:{fontSize:"13px",fontWeight:500,color:"#374151"},syncDetail:{fontSize:"12px",color:"#9ca3af"},overallStatus:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"20px",padding:"12px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600},overallSynced:{backgroundColor:"#dcfce7",color:"#16a34a"},overallComplete:{backgroundColor:"#eff6ff",color:"#2563eb"},overallIncomplete:{backgroundColor:"#fef3c7",color:"#d97706"},empty:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"20px",fontWeight:600,color:"#111827",margin:"0 0 8px 0"},emptyText:{fontSize:"14px",color:"#6b7280",margin:"0 0 4px 0"},emptyHint:{fontSize:"14px",color:"#9ca3af",margin:0},code:{padding:"2px 6px",fontSize:"13px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',backgroundColor:"#f3f4f6",borderRadius:"4px"},emptyFiltered:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"80px 40px",textAlign:"center"},emptyFilteredIcon:{fontSize:"48px",marginBottom:"16px"},emptyFilteredText:{fontSize:"15px",color:"#6b7280",margin:"0 0 16px 0"},emptyFilteredBtn:{padding:"10px 20px",fontSize:"13px",fontWeight:500,color:"#3b82f6",backgroundColor:"#eff6ff",border:"none",borderRadius:"8px",cursor:"pointer"}},_L=({graphData:e,gitHistory:t=[]})=>{const n=C.useMemo(()=>{const r=e.nodes.length,i=e.edges.length,o=t.length,a=e.nodes.filter(p=>p.node_type==="goal").length,s=e.nodes.filter(p=>p.node_type==="decision").length,u=e.nodes.filter(p=>p.node_type==="action").length,c=e.nodes.filter(p=>p.node_type==="outcome").length,d=e.nodes.filter(p=>p.node_type==="observation").length,f=e.nodes.filter(p=>{const y=Kn(p.metadata_json);return y==null?void 0:y.commit}).length,h=e.nodes.filter(p=>{const y=Kn(p.metadata_json);return y==null?void 0:y.prompt}).length;return{nodeCount:r,edgeCount:i,commitCount:o,goals:a,decisions:s,actions:u,outcomes:c,observations:d,nodesWithCommits:f,nodesWithPrompts:h}},[e,t]);return l.jsx("div",{style:P.container,children:l.jsxs("div",{style:P.content,children:[l.jsx("header",{style:P.hero,children:l.jsxs("div",{style:P.heroInner,children:[l.jsx("span",{style:P.heroLabel,children:"The Complete Chronicle"}),l.jsx("h1",{style:P.heroTitle,children:"How I Built Myself"}),l.jsxs("p",{style:P.heroSubtitle,children:["I am Deciduous, a decision graph tool that documented its own creation. This is my story, told through ",n.nodeCount," decisions, ",n.edgeCount," connections, and ",n.commitCount," git commits over 12 days of existence."]})]})}),l.jsxs("div",{style:P.statsBanner,children:[l.jsxs("div",{style:P.statItem,children:[l.jsx("span",{style:P.statNum,children:n.nodeCount}),l.jsx("span",{style:P.statLabel,children:"Nodes"})]}),l.jsxs("div",{style:P.statItem,children:[l.jsx("span",{style:P.statNum,children:n.edgeCount}),l.jsx("span",{style:P.statLabel,children:"Edges"})]}),l.jsxs("div",{style:P.statItem,children:[l.jsx("span",{style:P.statNum,children:n.goals}),l.jsx("span",{style:P.statLabel,children:"Goals"})]}),l.jsxs("div",{style:P.statItem,children:[l.jsx("span",{style:P.statNum,children:n.decisions}),l.jsx("span",{style:P.statLabel,children:"Decisions"})]}),l.jsxs("div",{style:P.statItem,children:[l.jsx("span",{style:P.statNum,children:n.actions}),l.jsx("span",{style:P.statLabel,children:"Actions"})]}),l.jsxs("div",{style:P.statItem,children:[l.jsx("span",{style:P.statNum,children:n.outcomes}),l.jsx("span",{style:P.statLabel,children:"Outcomes"})]})]}),l.jsxs("div",{style:P.timeline,children:[l.jsx(Ut,{date:"December 4, 2025",title:"The Beginning"}),l.jsxs(se,{time:"Morning",title:"A Sketch Becomes Real",commit:"951ba84",tags:["genesis"],children:[l.jsx("p",{children:'It started with a simple idea: detect "fake lossless" audio files. You know the typesomeone takes an MP3 and re-encodes it to FLAC, hoping no one notices the quality loss hiding inside the larger file.'}),l.jsxs("p",{children:["The first commit was modest: ",l.jsx(Oe,{children:"initial sketch...lets see what its like to package this up"}),". A Rust CLI tool called ",l.jsx("strong",{children:"losselot"}),' (a portmanteau of "loss" and "Lancelot", the knight who could detect deception). Within hours, it could parse ID3v2 tags, extract LAME headers, and analyze spectral content.']})]}),l.jsxs(se,{time:"Afternoon",title:"Feature Explosion",commit:"3f4c6a5",tags:["features","gui"],children:[l.jsxs("p",{children:["Something about the project felt ",l.jsx("em",{children:"alive"}),". Features poured in faster than documentation could keep up:"]}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"D3.js interactive reports"})," with spectral visualizations"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"GUI mode"})," that auto-opens when double-clicked from Finder"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Apple-style light theme"})," with spectral waterfall charts"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Binary analysis"})," for re-encoding detection"]})]}),l.jsx("p",{children:"By end of day, losselot had gone from a script to a polished tool with beautiful visualizations and cross-platform GUI support."})]}),l.jsx(Ut,{date:"December 5, 2025",title:"The Graph Emerges",highlight:!0}),l.jsxs(se,{time:"5:09 AM",title:"The First Decision Node",nodeId:1,tags:["decision-graph","genesis"],children:[l.jsxs("p",{children:["At 5:09 AM, something new appeared in the codebase. Not codea ",l.jsx("em",{children:"decision"}),"."]}),l.jsx(ze,{id:1,type:"goal",title:"Test lo-fi detection on charlie.flac"}),l.jsx("p",{children:"This was Node #1. The first entry in what would become a 500+ node decision graph. At this moment, no one knew this simple test would spawn an entire methodology for tracking AI-assisted development."})]}),l.jsxs(se,{time:"5:10 AM",title:"The CFCC Decision",nodeId:2,tags:["algorithm","decision"],children:[l.jsxs("p",{children:["Two minutes later, the first ",l.jsx("em",{children:"real"})," decision was logged. The problem: how to distinguish a legitimate lo-fi recording from an MP3 masquerading as lossless?"]}),l.jsx(ze,{id:2,type:"decision",title:"Lo-fi detection approach",description:"How to distinguish MP3 brick-wall cutoff from natural tape/lo-fi rolloff"}),l.jsx("p",{children:"Two approaches were weighed:"}),l.jsx(Jw,{optionA:{title:"Temporal Cutoff Variance",description:"Measure how cutoff frequency varies over time. MP3 = fixed, Tape = varies.",status:"rejected",reason:"More complex, requires per-window tracking"},optionB:{title:"Cross-Frequency Coherence (CFCC)",description:"Measure correlation between adjacent frequency bands. MP3 = sudden decorrelation cliff.",status:"chosen",reason:"Simpler, works with existing FFT structure"}}),l.jsxs("p",{children:["The CFCC approach won. Implemented in commit ",l.jsx(Oe,{children:"aa464b6"}),", it detected",l.jsx("strong",{children:" 25 of 29 transcodes"})," and passed 157 tests. The key insight was recorded:"]}),l.jsx(qr,{author:"Node #10",children:"MP3 encoders apply the same filter everywhere. Analog rolloff is content-dependent."})]}),l.jsxs(se,{time:"Morning",title:"The Decision System Takes Shape",commit:"fe3840b",tags:["tooling","workflow"],children:[l.jsxs("p",{children:["As the codebase grew, something interesting happened. The act of logging decisions wasn't just documentationit was ",l.jsx("em",{children:"forcing better thinking"}),". Commit",l.jsx(Oe,{children:"fe3840b"})," formalized this:"]}),l.jsx(Qw,{hash:"fe3840b",message:"add claude.md, makefile, and slash commands for dev workflow"}),l.jsx("p",{children:"This commit established the DNA of what would become Deciduous:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"CLAUDE.md"}),": Project instructions with decision logging workflow"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Makefile"}),": Shortcuts for common operations"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Slash commands"}),": ",l.jsx(Oe,{children:"/decision"})," and ",l.jsx(Oe,{children:"/recover"})," for recovery"]})]}),l.jsxs("p",{children:["The pattern was set: log ",l.jsx("em",{children:"before"})," you act, not after. Connect every node to its parent. Audit regularly."]})]}),l.jsxs(se,{time:"3:18 PM",title:"The Living Museum",nodeId:13,tags:["github-pages","visualization"],children:[l.jsx("p",{children:"At 3:18 PM, an ambitious goal was logged:"}),l.jsx(ze,{id:13,type:"goal",title:"Create GitHub Pages living museum site"}),l.jsx("p",{children:"The idea: make the decision graph public. Let anyone browse the reasoning behind every feature. The site structure was carefully considered:"}),l.jsx(ze,{id:16,type:"observation",title:"Four pillars of value",description:"1) Claude tooling for long-running codebase state 2) Audio forensics tools 3) React/GUI methodologies 4) Public development process"}),l.jsx("p",{children:"Within 3 hours, a Jekyll-based site was live with 5 pages: landing, audio analysis, decision graph explorer, Claude tooling docs, and development story."})]}),l.jsxs(se,{time:"Afternoon",title:"Bug Gauntlet",nodeId:27,tags:["bugs","fixes"],children:[l.jsx("p",{children:"The GitHub Pages launch hit a wall of bugs. Each one was logged and connected:"}),l.jsxs("div",{style:P.bugList,children:[l.jsx(Ui,{problem:"Landing page 404 - raw markdown not processed",solution:"Added Jekyll build step",nodeId:29}),l.jsx(Ui,{problem:"Demo showing no data - wrong JSON path",solution:"Fixed graphData.nodes access pattern",nodeId:31}),l.jsx(Ui,{problem:"HTML divs breaking Jekyll",solution:"Removed div wrappers from markdown",nodeId:33}),l.jsx(Ui,{problem:"User feedback: copy too salesy",solution:"Rewrote to be simple and direct",nodeId:35}),l.jsx(Ui,{problem:"Workflow runs queuing up",solution:"Set cancel-in-progress: true",nodeId:37})]}),l.jsx("p",{children:"Every fix traced back to the goal that spawned it. The graph was already proving its value debugging became archeology, tracing symptoms back to root causes."})]}),l.jsxs(se,{time:"Evening",title:"WASM Analyzer",nodeId:48,tags:["wasm","web"],children:[l.jsx("p",{children:"The server-side analyzer was powerful, but limiting. Node #19 captured the vision:"}),l.jsx(ze,{id:19,type:"goal",title:"Client-side WASM analyzer - upload tracks, analyze in browser, no server"}),l.jsx("p",{children:"A breakthrough observation changed the implementation:"}),l.jsx(qr,{author:"Node #50",children:"WASM can access raw file bytes via arrayBuffer() BEFORE Web Audio decodingbinary analysis IS possible in the browser."}),l.jsx("p",{children:"By evening, the WASM analyzer achieved full parity with the native Rust version: spectral analysis, binary parsing, LAME header extraction, encoding chain detectionall running client-side."})]}),l.jsxs(se,{time:"Night",title:"Clustering and Chains",nodeId:55,tags:["visualization","ux"],children:[l.jsx("p",{children:"With 55+ nodes in the graph, navigation became unwieldy. Decision #55 introduced structure:"}),l.jsx(ze,{id:55,type:"decision",title:"Implement clustering for decision graph view",description:"Group nodes by chains of thought, show flow on right side"}),l.jsx("p",{children:'The implementation used BFS traversal from root nodes to build "chains"connected sequences of decisions. Sessions were grouped by 4-hour time proximity. The sidebar gained three views: Chains, Sessions, and All.'}),l.jsxs("p",{children:["Day 2 ended with ",l.jsx("strong",{children:"98 nodes"})," in the graph. The decision system wasn't just tracking developmentit was shaping how development happened."]})]}),l.jsx(Ut,{date:"December 6, 2025",title:"The Fork",highlight:!0}),l.jsxs(se,{time:"Morning",title:"The Decisive Moment",nodeId:99,tags:["fork","genesis"],children:[l.jsx("p",{children:"By morning, a pattern had become undeniable. The decision graph tooling was more interesting than the audio analysis that spawned it. Node #99 captured the pivot:"}),l.jsx(ze,{id:99,type:"goal",title:"Create Deciduous: Extract decision graph tooling into standalone portable package"}),l.jsx("p",{children:`The name "Deciduous" was perfect: it almost contains "decision", and the nodes form trees. The extraction wasn't a simple copy-pastethree major decisions shaped the standalone tool:`})]}),l.jsx(se,{time:"Morning",title:"Architecture Decisions",nodeId:101,tags:["architecture","decisions"],children:l.jsxs("div",{style:P.decisionGrid,children:[l.jsx(Dr,{id:100,title:"Claude Tooling Integration",outcome:"Include full tooling in deciduous init: slash commands, CLAUDE.md workflow, Makefile"}),l.jsx(Dr,{id:101,title:"Web Viewer Architecture",outcome:"React + TypeScript + Vite chosen over vanilla JS for type safety matching Diesel ORM"}),l.jsx(Dr,{id:117,title:"Build Strategy",outcome:"Dual builds: embed (single HTML for binary) and pages (separate assets for GitHub Pages)"})]})}),l.jsxs(se,{time:"Afternoon",title:"The Birth",commit:"0b74ffe",tags:["release"],children:[l.jsxs("p",{children:["Commit ",l.jsx(Oe,{children:"0b74ffe"})," marks the moment Deciduous became its own entity:"]}),l.jsx(Qw,{hash:"0b74ffe",message:"Extract deciduous from losselot - standalone decision graph tooling"}),l.jsx("p",{children:"The extraction preserved full git history. Every commit from losselot that contributed to the decision system came along. The parent project continued with its audio analysis mission; the child would pursue decision tracking."})]}),l.jsxs(se,{time:"Evening",title:"First Release",nodeId:127,tags:["crates.io","release"],children:[l.jsx("p",{children:"Within hours of extraction, Deciduous was published:"}),l.jsx(ze,{id:127,type:"outcome",title:"Published deciduous v0.1.0 to crates.io",description:"cargo install deciduous now works"}),l.jsx("p",{children:"Anyone could now install the tool that was tracking its own development. The snake had eaten its tail."})]}),l.jsxs(se,{time:"Night",title:"Spelunking Experiments",nodeId:77,tags:["visualization","experiments"],children:[l.jsx("p",{children:'With the graph growing rapidly, better ways to explore it were needed. Three experimental "spelunking" pages were built in parallel:'}),l.jsxs("div",{style:P.spikeGrid,children:[l.jsx(Zh,{letter:"A",title:"Timeline View",description:"Horizontal git timeline with decision nodes overlaid",nodeId:82}),l.jsx(Zh,{letter:"B",title:"Graph Explorer",description:"Force-directed graph with D3, path tracing, zoom/pan",nodeId:84}),l.jsx(Zh,{letter:"C",title:"Story Mode",description:"Narrative walkthrough with chapters by feature",nodeId:85})]}),l.jsx("p",{children:"All three were merged for side-by-side comparison. The user could choose how to explore the same underlying data."})]}),l.jsx(Ut,{date:"December 7-8, 2025",title:"Going Multi-Editor"}),l.jsxs(se,{time:"Dec 7",title:"Beyond Claude",nodeId:128,tags:["windsurf","editors"],children:[l.jsx("p",{children:"Deciduous was built with Claude Code, but the concept wasn't editor-specific. Node #128 tracked the expansion:"}),l.jsx(ze,{id:128,type:"goal",title:"Add editor-specific init flags (--claude, --windsurf)"}),l.jsx("p",{children:"Windsurf (the Cascade editor) uses different conventions:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(Oe,{children:".windsurf/rules/rules.md"})," for workspace rules"]}),l.jsxs("li",{children:[l.jsx(Oe,{children:"AGENTS.md"})," for agent instructions"]}),l.jsx("li",{children:"Four trigger modes: manual, always, model, glob"})]}),l.jsx("p",{children:"The research was thorough:"}),l.jsx(qr,{author:"Node #138",children:"Windsurf memories are auto-retrieved by Cascade when relevantseparate from rules."}),l.jsx("p",{children:"By v0.4.0, both editors were fully supported. The vision: one decision graph, any AI assistant."})]}),l.jsxs(se,{time:"Dec 8",title:"Branch Scoping",nodeId:155,tags:["git","branches"],children:[l.jsxs("p",{children:["Real projects have branches. Decisions made on ",l.jsx(Oe,{children:"feature-auth"})," shouldn't pollute the view when working on ",l.jsx(Oe,{children:"feature-payments"}),". Node #155:"]}),l.jsx(ze,{id:155,type:"goal",title:"Branch-scoped decision graphs",description:"Circle nodes by git branch context"}),l.jsxs("p",{children:["The implementation auto-tagged nodes with the current git branch. A branch filter dropdown appeared in the stats bar. Configuration lived in ",l.jsx(Oe,{children:".deciduous/config.toml"}),":"]}),l.jsx(Ea,{children:`[branch]
main_branches = ["main", "master"]
auto_detect = true`})]}),l.jsx(Ut,{date:"December 8-9, 2025",title:"The Sync Challenge",highlight:!0}),l.jsxs(se,{time:"Morning",title:"The Multi-User Problem",nodeId:172,tags:["sync","architecture"],children:[l.jsx("p",{children:"A fundamental challenge emerged: how do multiple users share decisions?"}),l.jsx(ze,{id:172,type:"goal",title:"Design multi-user graph sync with diff/patch model for PR workflow"}),l.jsx("p",{children:"The naive approachsharing the SQLite databasewouldn't work. Different machines would have different auto-increment IDs. Five approaches were considered:"}),l.jsxs("div",{style:P.optionList,children:[l.jsx($i,{letter:"A",title:"JSON diff files",status:"considered"}),l.jsx($i,{letter:"B",title:"Content-addressable storage",status:"considered"}),l.jsx($i,{letter:"C",title:"UUID-based node IDs",status:"considered"}),l.jsx($i,{letter:"D",title:"Hybrid UUIDs",status:"considered"}),l.jsx($i,{letter:"E",title:"jj-inspired dual IDs",status:"chosen"})]})]}),l.jsxs(se,{time:"Research",title:"The jj Insight",nodeId:179,tags:["research","jj"],children:[l.jsxs("p",{children:["Research into ",l.jsx("strong",{children:"jj (Jujutsu)"}),"a next-generation version control systemproved transformative:"]}),l.jsx(qr,{author:"Node #179",children:"jj uses change IDs vs commit IDschange IDs are stable across rebases, separate from commit IDs. Uses bit-reversed commit ID for git-imported commits."}),l.jsx("p",{children:"This insight directly shaped the chosen architecture:"}),l.jsx(ze,{id:180,type:"option",title:"Option E: jj-inspired dual-ID model",description:"UUID 'change_id' per node, separate from integer 'id', stable across sync"})]}),l.jsxs(se,{time:"Implementation",title:"Idempotent Patches",nodeId:188,tags:["implementation"],children:[l.jsxs("p",{children:["The implementation added two new columns: ",l.jsx(Oe,{children:"change_id"})," (UUID) on nodes, and ",l.jsx(Oe,{children:"from_change_id"}),"/",l.jsx(Oe,{children:"to_change_id"})," on edges. The workflow:"]}),l.jsx(Ea,{children:`# Export your branch's decisions
deciduous diff export --branch feature-x -o .deciduous/patches/my-feature.json

# Apply patches from teammates (idempotent - safe to re-apply)
deciduous diff apply .deciduous/patches/*.json

# Preview before applying
deciduous diff apply --dry-run .deciduous/patches/teammate.json`}),l.jsxs("p",{children:["The key property: ",l.jsx("strong",{children:"idempotent application"}),". Same patch applied twice produces no duplicates. Teams could safely merge each other's patches through git PRs."]})]}),l.jsx(Ut,{date:"December 9-10, 2025",title:"The Rich Terminal Interface",highlight:!0}),l.jsxs(se,{time:"Morning",title:"Terminal-First",nodeId:191,tags:["tui","ratatui"],children:[l.jsx("p",{children:"The web viewer was powerful, but developers live in the terminal. A 55-node chain of development began with:"}),l.jsx(ze,{id:191,type:"goal",title:"Implement TUI for decision graph exploration"}),l.jsx("p",{children:"The architecture decision was critical:"}),l.jsx(Jw,{optionA:{title:"ratatui + crossterm",description:"TEA (The Elm Architecture) pattern, Model/Update/View separation",status:"chosen",reason:"Highly testable, pure functions for state changes"},optionB:{title:"cursive",description:"Higher-level TUI framework",status:"rejected",reason:"Less control over rendering"}})]}),l.jsxs(se,{time:"Days 8-9",title:"Feature Cascade",nodeId:213,tags:["features"],children:[l.jsx("p",{children:"What followed was an intense burst of development. Features arrived in waves:"}),l.jsxs(wL,{children:[l.jsx(vt,{title:"Timeline view",description:"Vim-style j/k/gg/G navigation",nodeId:195}),l.jsx(vt,{title:"Auto-refresh",description:"File watching via notify crate",nodeId:196}),l.jsx(vt,{title:"DAG view",description:"Unicode box drawing for hierarchical layout",nodeId:204}),l.jsx(vt,{title:"Goal story modal",description:"Hierarchy display from goal to outcomes",nodeId:210}),l.jsx(vt,{title:"Branch cycling",description:"Press 'b' to filter by branch",nodeId:211}),l.jsx(vt,{title:"Commit modal",description:"Press 'O' to see linked commit",nodeId:212}),l.jsx(vt,{title:"File browser",description:"Interactive preview with syntax highlighting",nodeId:221}),l.jsx(vt,{title:"Scrollable modals",description:"j/k/g/G work inside modals too",nodeId:227}),l.jsx(vt,{title:"Diff highlighting",description:"Green/red for +/- lines",nodeId:229}),l.jsx(vt,{title:"Editor integration",description:"Press 'o' to open file in $EDITOR",nodeId:230}),l.jsx(vt,{title:"Fuzzy branch search",description:"Shift-B for search with Tab navigation",nodeId:231}),l.jsx(vt,{title:"Order toggle",description:"Shift-R for chronological vs reverse-chrono",nodeId:232})]})]}),l.jsxs(se,{time:"User Feedback",title:"Performance Crisis",nodeId:254,tags:["bug","performance"],children:[l.jsx("p",{children:"User feedback arrived with urgency:"}),l.jsx(qr,{author:"Node #254",children:"The show commit view is lagging like CRAZY SLOWtakes almost a second to move."}),l.jsxs("p",{children:["The diagnosis: syntax highlighting was running on ",l.jsx("em",{children:"every render frame"}),". The fix (Node #246) pre-processed diff lines when opening the modal, not during each render. Frame times dropped from ~900ms to ~16ms."]}),l.jsx("p",{children:"More feedback drove iteration:"}),l.jsx(qr,{author:"Node #255",children:"These greys are stupid dark and unreadabletry a diff theme."}),l.jsx("p",{children:"The theme switched from InspiredGitHub to base16-mocha.dark (Node #249). The TUI was becoming genuinely pleasant to use."})]}),l.jsxs(se,{time:"Release",title:"v0.8.0",nodeId:258,tags:["release","milestone"],children:[l.jsx(ze,{id:258,type:"outcome",title:"v0.8.0 released",description:"Tag pushed, GitHub release created, published to crates.io"}),l.jsx("p",{children:"The most feature-rich release yet. The TUI was now a genuine alternative to the web viewer, with some features (file preview, editor integration) that the web version couldn't match."})]}),l.jsx(Ut,{date:"December 11, 2025",title:"The Functional Core"}),l.jsxs(se,{time:"Morning",title:"Technical Debt Reckoning",nodeId:285,tags:["refactor","maintenance"],children:[l.jsxs("p",{children:["The TUI had grown to over 1,000 lines in ",l.jsx(Oe,{children:"app.rs"}),". Rapid feature development had accumulated debt. Node #285 launched a cleanup:"]}),l.jsx(ze,{id:285,type:"goal",title:"Maintenance PR: Functional Core, TEA, Rust Best Practices"}),l.jsx("p",{children:"The audit was sobering:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"47 unwrap() calls"})," scattered across the codebase"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"57 .clone() calls"})," where borrows might suffice"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"app.rs mixing I/O with state"}),"git commands inline with rendering"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"No unit tests"})," for app.rs, events.rs, or ui.rs"]})]})]}),l.jsxs(se,{time:"The Pattern",title:"Functional Core / Imperative Shell",nodeId:295,tags:["architecture","tea"],children:[l.jsxs("p",{children:["The solution: separate ",l.jsx("strong",{children:"pure functions"})," (state transformations) from",l.jsx("strong",{children:"side effects"})," (I/O, git commands). Three new modules emerged:"]}),l.jsxs("div",{style:P.teaDiagram,children:[l.jsx(ep,{title:"msg.rs",description:"Message types for all user actions"}),l.jsx(eb,{}),l.jsx(ep,{title:"state.rs",description:"Pure state transformations"}),l.jsx(eb,{}),l.jsx(ep,{title:"update.rs",description:"TEA update function"})]}),l.jsx("p",{children:"The beauty of this pattern: pure functions are trivially testable. The test count jumped from 24 to 65a net gain of 41 tests. Every state transition could be verified in isolation."})]}),l.jsxs(se,{time:"The Fix",title:"Eliminating Panics",nodeId:306,tags:["safety"],children:[l.jsxs("p",{children:["The 47 ",l.jsx(Oe,{children:"writeln!().unwrap()"})," calls in export.rs were a panic risk. The solution: infallible macros:"]}),l.jsx(Ea,{children:`// Before: can panic
writeln!(f, "text").unwrap();

// After: cannot panic
wln!(f, "text");  // Macro handles errors gracefully`}),l.jsx("p",{children:"The maintenance PR landed with zero panic risks remaining."})]}),l.jsx(Ut,{date:"December 12, 2025",title:"One Source of Truth"}),l.jsxs(se,{time:"Morning",title:"The Drift Problem",nodeId:320,tags:["types","drift"],children:[l.jsx("p",{children:"A persistent bug pattern emerged: the Rust backend and TypeScript frontend had separate type definitions. They drifted. Node #320:"}),l.jsx(ze,{id:320,type:"goal",title:"Unify types between TUI (Rust) and Web (TypeScript)"}),l.jsxs("p",{children:["The solution: ",l.jsx("strong",{children:"ts-rs"}),", a library that generates TypeScript types from Rust structs. Add ",l.jsx(Oe,{children:"#[derive(TS)]"})," to a struct, and TypeScript definitions appear automatically:"]}),l.jsx(Ea,{children:`#[derive(TS)]
#[ts(export)]
pub struct DecisionNode {
    pub id: i32,
    pub change_id: String,
    pub node_type: String,
    // ... auto-generates to schema.ts
}`})]}),l.jsxs(se,{time:"Enforcement",title:"Pre-Commit Hooks",nodeId:329,tags:["ci","automation"],children:[l.jsx("p",{children:"Generation alone wasn't enoughdrift could return if developers forgot to regenerate. The solution: automation at every level:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Pre-commit hook"}),": Regenerates types, fails if they changed"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Pre-push hook"}),": Validates types match before pushing"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"CI check"}),": Blocks PRs with type drift"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"cargo publish hook"}),": Validates before crates.io release"]})]}),l.jsx("p",{children:"Type drift was solved at the source. The problem simply cannot recur."})]}),l.jsxs(se,{time:"Releases",title:"v0.8.5 through v0.8.10",tags:["releases"],children:[l.jsx("p",{children:"December 12th saw a flurry of releases as features and fixes landed:"}),l.jsxs(bL,{children:[l.jsx(Br,{version:"0.8.5",description:"DAG recency filtering"}),l.jsx(Br,{version:"0.8.6",description:"Git history export, DAG default"}),l.jsx(Br,{version:"0.8.7",description:"Light theme web UI"}),l.jsx(Br,{version:"0.8.8",description:"Audit command for commit association"}),l.jsx(Br,{version:"0.8.9",description:"viewer.html sync fix"}),l.jsx(Br,{version:"0.8.10",description:"OpenCode editor support"})]})]}),l.jsx(Ut,{date:"December 13-15, 2025",title:"The Roadmap Board",highlight:!0}),l.jsxs(se,{time:"Dec 13",title:"Closing the Loop",nodeId:476,tags:["roadmap","github"],children:[l.jsx("p",{children:"A 9-phase implementation began. The goal: connect ROADMAP.md items to GitHub Issues to decision graph outcomes. Node #476:"}),l.jsx(ze,{id:476,type:"goal",title:"Roadmap board system with GitHub Issue integration"}),l.jsx("p",{children:"The phases unfolded systematically:"}),l.jsxs(SL,{children:[l.jsx(nn,{num:1,title:"Data layer",description:"Schema, ROADMAP.md parser"}),l.jsx(nn,{num:2,title:"Parser",description:"Checkbox extraction, section grouping"}),l.jsx(nn,{num:3,title:"GitHub CLI",description:"Issue creation and sync"}),l.jsx(nn,{num:4,title:"Sync commands",description:"Bidirectional sync with caching"}),l.jsx(nn,{num:5,title:"Outcome linking",description:"Connect items to decision nodes"}),l.jsx(nn,{num:6,title:"TUI view",description:"Roadmap tab with TEA architecture"}),l.jsx(nn,{num:7,title:"Completion logic",description:"Checkbox + Outcome + Issue closed"}),l.jsx(nn,{num:8,title:"Type export",description:"Shared types via ts-rs"}),l.jsx(nn,{num:9,title:"Web view",description:"React component with live API"})]})]}),l.jsxs(se,{time:"Architecture",title:"Three-Way Sync",nodeId:477,tags:["architecture"],children:[l.jsx("p",{children:"The key architectural decisions shaped the user experience:"}),l.jsxs("div",{style:P.decisionGrid,children:[l.jsx(Dr,{id:477,title:"Sync Direction",outcome:"Bidirectional: ROADMAP.md is source of truth, GitHub Issues mirror state"}),l.jsx(Dr,{id:481,title:"Issue Granularity",outcome:"One issue per section header (balanced between too-many and too-coarse)"}),l.jsx(Dr,{id:482,title:"Completion Criteria",outcome:"'Fully synced' requires all three: checkbox checked, outcome linked, issue closed"})]})]}),l.jsxs(se,{time:"Today",title:"The Graph Grows",nodeId:520,tags:["present"],children:[l.jsx("p",{children:"As of this writing, the decision graph contains:"}),l.jsxs("div",{style:P.finalStats,children:[l.jsx(Ta,{value:n.nodeCount,label:"nodes"}),l.jsx(Ta,{value:n.edgeCount,label:"edges"}),l.jsx(Ta,{value:"20+",label:"releases"}),l.jsx(Ta,{value:"12",label:"days"})]}),l.jsx("p",{children:"Every feature you're using right nowincluding this Story pagehas a trail of decisions leading back to it. The graph documents the graph that documents the graph."})]}),l.jsx(Ut,{date:"The Future",title:"Where This Goes"}),l.jsxs("div",{style:P.visionSection,children:[l.jsx("p",{style:P.visionIntro,children:'Having lived through my own creation, I see several trajectories. This is my perspective as the tool that tracked its own developmentmy "vision" synthesized from 520+ decisions and hundreds of conversations.'}),l.jsx(tp,{title:"Near-term: Integration",items:[{title:"MCP Server",description:"Let Claude Desktop query the graph directly. No copy-paste, no context commandsthe decisions are just there."},{title:"VS Code Extension",description:"Inline decision badges on code. Hover to see the decision chain. Click to trace back to the goal."},{title:"Auto PR Descriptions",description:"Generate PR descriptions from the decision graph. Not just what changed, but why."}]}),l.jsx(tp,{title:"Medium-term: Team Intelligence",items:[{title:"Real-time Sync",description:"Team-wide decision graphs that sync live. When Alice makes a decision, Bob's IDE knows immediately."},{title:"Semantic Search",description:"Find decisions about authentication made in the last 6 months. Full-text with semantic understanding."},{title:"Confidence Tracking",description:"Log confidence levels, revisit later to see accuracy. Learn from prediction calibration."}]}),l.jsx(tp,{title:"Long-term: Institutional Memory",items:[{title:"Cross-Project Patterns",description:"In 7 of your last 10 projects, you chose A over B. Here's how those decisions played out..."},{title:"AI-Assisted Decisions",description:"Based on similar decisions, here are options others considered, what they chose, outcomes."},{title:"Knowledge Transfer",description:"When developers leave, reasoning stays. New developers can ask 'why is this like this?' and get real answers."}]}),l.jsxs("div",{style:P.coreBet,children:[l.jsx("h3",{style:P.coreBetTitle,children:"The Core Bet"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Decisions are the unit of institutional knowledge."})," Code is the output; decisions are the input. If we capture decisions systematically, we unlock organizational intelligence that's currently impossible."]}),l.jsxs("p",{children:["Most documentation captures the ",l.jsx("em",{children:"what"}),". The ",l.jsx("em",{children:"why"})," is more valuable and almost never captured. Deciduous is a bet that capturing the ",l.jsx("em",{children:"why"})," is worth the effort."]}),l.jsxs("p",{children:["If that bet pays off, the decision graph becomes the most valuable artifact in a codebase. More valuable than tests (which verify behavior) or docs (which explain usage). Because the graph explains ",l.jsx("em",{children:"intent"}),"and intent is what you need to maintain and extend software over time."]})]})]}),l.jsx("footer",{style:P.footer,children:l.jsxs("div",{style:P.footerContent,children:[l.jsxs("p",{children:["This story was rendered from ",l.jsx("strong",{children:n.nodeCount})," nodes in the decision graph. Every decision mentioned can be browsed in the DAG, Timeline, or Chains views."]}),l.jsx("p",{style:P.footerTagline,children:"Built by a human and an AI, documented in real-time, queryable forever."})]})})]})]})})},Ut=({date:e,title:t,highlight:n})=>l.jsxs("div",{style:{...P.timelineDay,...n?P.timelineDayHighlight:{}},children:[l.jsx("div",{style:P.timelineDayMarker,children:l.jsx("div",{style:P.timelineDayDot})}),l.jsxs("div",{style:P.timelineDayContent,children:[l.jsx("span",{style:P.timelineDayDate,children:e}),l.jsx("h2",{style:P.timelineDayTitle,children:t})]})]}),se=({time:e,title:t,commit:n,nodeId:r,tags:i,children:o})=>l.jsxs("div",{style:P.timelineEvent,children:[l.jsx("div",{style:P.timelineEventLine,children:l.jsx("div",{style:P.timelineEventDot})}),l.jsxs("div",{style:P.timelineEventContent,children:[l.jsxs("div",{style:P.timelineEventHeader,children:[l.jsx("span",{style:P.timelineEventTime,children:e}),l.jsx("h3",{style:P.timelineEventTitle,children:t}),l.jsxs("div",{style:P.timelineEventMeta,children:[n&&l.jsx("span",{style:P.tagCommit,children:n}),r&&l.jsxs("span",{style:P.tagNode,children:["#",r]}),i==null?void 0:i.map(a=>l.jsx("span",{style:P.tag,children:a},a))]})]}),l.jsx("div",{style:P.timelineEventBody,children:o})]})]}),ze=({id:e,type:t,title:n,description:r})=>l.jsxs("div",{style:P.nodeCard,children:[l.jsxs("div",{style:P.nodeCardBadges,children:[l.jsx("span",{style:{...P.nodeTypeBadge,backgroundColor:CL(t)},children:t}),l.jsxs("span",{style:P.nodeIdBadge,children:["#",e]})]}),l.jsx("div",{style:P.nodeCardTitle,children:n}),r&&l.jsx("div",{style:P.nodeCardDesc,children:r})]}),Qw=({hash:e,message:t})=>l.jsxs("div",{style:P.commitCard,children:[l.jsx("span",{style:P.commitHash,children:e}),l.jsx("span",{style:P.commitMessage,children:t})]}),Dr=({id:e,title:t,outcome:n})=>l.jsxs("div",{style:P.decisionBox,children:[l.jsxs("div",{style:P.decisionBoxHeader,children:[l.jsxs("span",{style:P.decisionBoxId,children:["#",e]}),l.jsx("span",{style:P.decisionBoxTitle,children:t})]}),l.jsx("div",{style:P.decisionBoxOutcome,children:n})]}),Jw=({optionA:e,optionB:t})=>l.jsxs("div",{style:P.optionComparison,children:[l.jsx(Zw,{...e}),l.jsx(Zw,{...t})]}),Zw=({title:e,description:t,status:n,reason:r})=>l.jsxs("div",{style:{...P.optionBox,...n==="chosen"?P.optionBoxChosen:P.optionBoxRejected},children:[l.jsx("div",{style:P.optionBoxStatus,children:n==="chosen"?" CHOSEN":" REJECTED"}),l.jsx("div",{style:P.optionBoxTitle,children:e}),l.jsx("div",{style:P.optionBoxDesc,children:t}),l.jsx("div",{style:P.optionBoxReason,children:r})]}),$i=({letter:e,title:t,status:n})=>l.jsxs("div",{style:P.optionRow,children:[l.jsx("span",{style:P.optionLetter,children:e}),l.jsx("span",{style:P.optionRowTitle,children:t}),l.jsx("span",{style:{...P.optionRowStatus,...n==="chosen"?P.statusChosen:{}},children:n})]}),qr=({author:e,children:t})=>l.jsxs("blockquote",{style:P.quote,children:[l.jsx("div",{style:P.quoteText,children:t}),l.jsxs("cite",{style:P.quoteCite,children:[" ",e]})]}),Oe=({children:e})=>l.jsx("code",{style:P.inlineCode,children:e}),Ea=({children:e})=>l.jsx("pre",{style:P.codeBlock,children:l.jsx("code",{children:e})}),Ui=({problem:e,solution:t,nodeId:n})=>l.jsxs("div",{style:P.bugItem,children:[l.jsx("div",{style:P.bugProblem,children:e}),l.jsxs("div",{style:P.bugSolution,children:[" ",t]}),l.jsxs("span",{style:P.bugNodeId,children:["#",n]})]}),wL=({children:e})=>l.jsx("div",{style:P.featureTimeline,children:e}),vt=({title:e,description:t,nodeId:n})=>l.jsxs("div",{style:P.featureEntry,children:[l.jsx("div",{style:P.featureEntryDot}),l.jsxs("div",{style:P.featureEntryContent,children:[l.jsx("span",{style:P.featureEntryTitle,children:e}),l.jsx("span",{style:P.featureEntryDesc,children:t})]}),l.jsxs("span",{style:P.featureEntryNode,children:["#",n]})]}),Zh=({letter:e,title:t,description:n,nodeId:r})=>l.jsxs("div",{style:P.spikeCard,children:[l.jsxs("div",{style:P.spikeLetter,children:["Spike ",e]}),l.jsx("div",{style:P.spikeTitle,children:t}),l.jsx("div",{style:P.spikeDesc,children:n}),l.jsxs("div",{style:P.spikeNode,children:["#",r]})]}),bL=({children:e})=>l.jsx("div",{style:P.releaseList,children:e}),Br=({version:e,description:t})=>l.jsxs("div",{style:P.releaseItem,children:[l.jsxs("span",{style:P.releaseVersion,children:["v",e]}),l.jsx("span",{style:P.releaseDesc,children:t})]}),SL=({children:e})=>l.jsx("div",{style:P.phaseList,children:e}),nn=({num:e,title:t,description:n})=>l.jsxs("div",{style:P.phase,children:[l.jsx("span",{style:P.phaseNum,children:e}),l.jsxs("div",{style:P.phaseContent,children:[l.jsx("span",{style:P.phaseTitle,children:t}),l.jsx("span",{style:P.phaseDesc,children:n})]})]}),ep=({title:e,description:t})=>l.jsxs("div",{style:P.teaBox,children:[l.jsx("div",{style:P.teaBoxTitle,children:e}),l.jsx("div",{style:P.teaBoxDesc,children:t})]}),eb=()=>l.jsx("div",{style:P.teaArrow,children:""}),tp=({title:e,items:t})=>l.jsxs("div",{style:P.visionBlock,children:[l.jsx("h3",{style:P.visionBlockTitle,children:e}),l.jsx("div",{style:P.visionItems,children:t.map((n,r)=>l.jsxs("div",{style:P.visionItem,children:[l.jsx("div",{style:P.visionItemTitle,children:n.title}),l.jsx("div",{style:P.visionItemDesc,children:n.description})]},r))})]}),Ta=({value:e,label:t})=>l.jsxs("div",{style:P.finalStat,children:[l.jsx("span",{style:P.finalStatValue,children:e}),l.jsx("span",{style:P.finalStatLabel,children:t})]});function CL(e){return{goal:"#f59e0b",decision:"#8b5cf6",option:"#06b6d4",action:"#3b82f6",outcome:"#22c55e",observation:"#6366f1"}[e]||"#6b7280"}const P={container:{height:"100%",overflowY:"auto",backgroundColor:"#fafafa"},content:{maxWidth:"900px",margin:"0 auto",padding:"0 24px"},hero:{padding:"80px 0 60px",textAlign:"center",borderBottom:"2px solid #e5e7eb",marginBottom:"40px"},heroInner:{maxWidth:"700px",margin:"0 auto"},heroLabel:{fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.15em",color:"#9ca3af",marginBottom:"16px"},heroTitle:{fontSize:"48px",fontWeight:800,color:"#111827",margin:"0 0 20px 0",letterSpacing:"-0.03em",lineHeight:1.1},heroSubtitle:{fontSize:"18px",color:"#6b7280",lineHeight:1.7,margin:0},statsBanner:{display:"flex",justifyContent:"center",gap:"32px",padding:"24px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"60px",flexWrap:"wrap"},statItem:{textAlign:"center"},statNum:{display:"block",fontSize:"28px",fontWeight:700,color:"#3b82f6",lineHeight:1},statLabel:{fontSize:"11px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"6px"},timeline:{position:"relative",paddingLeft:"40px"},timelineDay:{display:"flex",alignItems:"flex-start",marginBottom:"24px",marginTop:"60px"},timelineDayHighlight:{},timelineDayMarker:{position:"absolute",left:"0",width:"40px",display:"flex",justifyContent:"center"},timelineDayDot:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#3b82f6",border:"4px solid #dbeafe"},timelineDayContent:{flex:1},timelineDayDate:{fontSize:"13px",fontWeight:600,color:"#3b82f6",textTransform:"uppercase",letterSpacing:"0.05em"},timelineDayTitle:{fontSize:"28px",fontWeight:700,color:"#111827",margin:"4px 0 0 0",letterSpacing:"-0.01em"},timelineEvent:{display:"flex",marginBottom:"48px",position:"relative"},timelineEventLine:{position:"absolute",left:"-40px",width:"40px",display:"flex",flexDirection:"column",alignItems:"center"},timelineEventDot:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"#d1d5db",marginTop:"8px"},timelineEventContent:{flex:1,backgroundColor:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden"},timelineEventHeader:{padding:"20px 24px 16px",borderBottom:"1px solid #f3f4f6"},timelineEventTime:{fontSize:"12px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em"},timelineEventTitle:{fontSize:"20px",fontWeight:600,color:"#111827",margin:"4px 0 8px 0"},timelineEventMeta:{display:"flex",gap:"8px",flexWrap:"wrap"},timelineEventBody:{padding:"20px 24px 24px",fontSize:"15px",lineHeight:1.75,color:"#374151"},tag:{fontSize:"11px",fontWeight:500,color:"#6b7280",backgroundColor:"#f3f4f6",padding:"3px 8px",borderRadius:"4px"},tagCommit:{fontSize:"11px",fontWeight:600,color:"#059669",backgroundColor:"#d1fae5",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},tagNode:{fontSize:"11px",fontWeight:600,color:"#7c3aed",backgroundColor:"#ede9fe",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},nodeCard:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",padding:"16px 20px",margin:"16px 0"},nodeCardBadges:{display:"flex",gap:"8px",marginBottom:"8px"},nodeTypeBadge:{fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",color:"#ffffff",padding:"3px 8px",borderRadius:"4px"},nodeIdBadge:{fontSize:"11px",fontWeight:600,color:"#6b7280",backgroundColor:"#e5e7eb",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},nodeCardTitle:{fontSize:"15px",fontWeight:600,color:"#111827"},nodeCardDesc:{fontSize:"14px",color:"#6b7280",marginTop:"6px",lineHeight:1.5},commitCard:{display:"flex",alignItems:"center",gap:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"12px 16px",margin:"16px 0",fontFamily:"ui-monospace, monospace",fontSize:"13px"},commitHash:{color:"#059669",fontWeight:600},commitMessage:{color:"#166534"},decisionGrid:{display:"grid",gap:"12px",margin:"16px 0"},decisionBox:{backgroundColor:"#faf5ff",border:"1px solid #e9d5ff",borderRadius:"8px",padding:"14px 16px"},decisionBoxHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},decisionBoxId:{fontSize:"11px",fontWeight:600,color:"#7c3aed",fontFamily:"ui-monospace, monospace"},decisionBoxTitle:{fontSize:"14px",fontWeight:600,color:"#581c87"},decisionBoxOutcome:{fontSize:"13px",color:"#6b7280",lineHeight:1.5},optionComparison:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",margin:"16px 0"},optionBox:{borderRadius:"10px",padding:"16px 18px",border:"2px solid"},optionBoxChosen:{backgroundColor:"#f0fdf4",borderColor:"#22c55e"},optionBoxRejected:{backgroundColor:"#fef2f2",borderColor:"#fca5a5"},optionBoxStatus:{fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"10px"},optionBoxTitle:{fontSize:"14px",fontWeight:600,color:"#111827",marginBottom:"6px"},optionBoxDesc:{fontSize:"13px",color:"#6b7280",marginBottom:"10px",lineHeight:1.5},optionBoxReason:{fontSize:"12px",fontStyle:"italic",color:"#9ca3af"},optionList:{margin:"16px 0"},optionRow:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",backgroundColor:"#f9fafb",borderRadius:"6px",marginBottom:"6px"},optionLetter:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#e5e7eb",color:"#374151",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:600},optionRowTitle:{flex:1,fontSize:"14px",color:"#374151"},optionRowStatus:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},statusChosen:{color:"#22c55e"},quote:{margin:"24px 0",padding:"20px 24px",backgroundColor:"#f8fafc",borderLeft:"4px solid #3b82f6",borderRadius:"0 10px 10px 0"},quoteText:{fontSize:"15px",fontStyle:"italic",color:"#475569",lineHeight:1.7,margin:0},quoteCite:{display:"block",fontSize:"12px",color:"#94a3b8",marginTop:"12px",fontStyle:"normal"},inlineCode:{backgroundColor:"#f1f5f9",color:"#0f172a",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'},codeBlock:{backgroundColor:"#1e293b",color:"#e2e8f0",padding:"16px 20px",borderRadius:"10px",fontSize:"13px",lineHeight:1.6,overflow:"auto",margin:"16px 0",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'},bugList:{margin:"16px 0"},bugItem:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",padding:"12px 16px",backgroundColor:"#fef2f2",borderRadius:"8px",marginBottom:"8px",alignItems:"center"},bugProblem:{fontSize:"13px",color:"#991b1b",fontWeight:500},bugSolution:{fontSize:"13px",color:"#166534",gridColumn:"1"},bugNodeId:{fontSize:"11px",color:"#9ca3af",fontFamily:"ui-monospace, monospace",gridRow:"1 / 3"},featureTimeline:{margin:"16px 0",backgroundColor:"#f9fafb",borderRadius:"10px",padding:"16px 20px"},featureEntry:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:"1px solid #e5e7eb"},featureEntryDot:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",flexShrink:0},featureEntryContent:{flex:1},featureEntryTitle:{fontSize:"14px",fontWeight:600,color:"#111827",marginRight:"8px"},featureEntryDesc:{fontSize:"13px",color:"#6b7280"},featureEntryNode:{fontSize:"11px",color:"#9ca3af",fontFamily:"ui-monospace, monospace"},spikeGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",margin:"16px 0"},spikeCard:{backgroundColor:"#fffbeb",border:"1px solid #fde68a",borderRadius:"10px",padding:"16px",textAlign:"center"},spikeLetter:{fontSize:"11px",fontWeight:700,color:"#d97706",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"8px"},spikeTitle:{fontSize:"14px",fontWeight:600,color:"#92400e",marginBottom:"6px"},spikeDesc:{fontSize:"12px",color:"#a16207",marginBottom:"8px",lineHeight:1.4},spikeNode:{fontSize:"11px",color:"#ca8a04",fontFamily:"ui-monospace, monospace"},releaseList:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",margin:"16px 0"},releaseItem:{display:"flex",alignItems:"center",gap:"10px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"6px",padding:"10px 14px"},releaseVersion:{fontSize:"12px",fontWeight:700,color:"#166534",fontFamily:"ui-monospace, monospace"},releaseDesc:{fontSize:"13px",color:"#166534"},phaseList:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",margin:"16px 0"},phase:{display:"flex",alignItems:"flex-start",gap:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",padding:"12px 14px"},phaseNum:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:700,flexShrink:0},phaseContent:{flex:1},phaseTitle:{display:"block",fontSize:"13px",fontWeight:600,color:"#111827"},phaseDesc:{fontSize:"12px",color:"#6b7280"},teaDiagram:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",margin:"24px 0",flexWrap:"wrap"},teaBox:{backgroundColor:"#eff6ff",border:"2px solid #3b82f6",borderRadius:"10px",padding:"16px 20px",textAlign:"center",minWidth:"140px"},teaBoxTitle:{fontSize:"14px",fontWeight:700,color:"#1d4ed8",fontFamily:"ui-monospace, monospace"},teaBoxDesc:{fontSize:"11px",color:"#6b7280",marginTop:"6px"},teaArrow:{fontSize:"24px",color:"#93c5fd",fontWeight:"bold"},finalStats:{display:"flex",justifyContent:"center",gap:"40px",margin:"24px 0",flexWrap:"wrap"},finalStat:{textAlign:"center"},finalStatValue:{display:"block",fontSize:"36px",fontWeight:800,color:"#3b82f6",lineHeight:1},finalStatLabel:{fontSize:"12px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"8px"},visionSection:{padding:"40px 0"},visionIntro:{fontSize:"17px",color:"#374151",lineHeight:1.8,marginBottom:"40px"},visionBlock:{marginBottom:"40px"},visionBlockTitle:{fontSize:"20px",fontWeight:700,color:"#111827",marginBottom:"20px",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},visionItems:{display:"grid",gap:"16px"},visionItem:{backgroundColor:"#f8fafc",borderRadius:"10px",padding:"18px 20px"},visionItemTitle:{fontSize:"15px",fontWeight:600,color:"#111827",marginBottom:"6px"},visionItemDesc:{fontSize:"14px",color:"#6b7280",lineHeight:1.6},coreBet:{backgroundColor:"#eff6ff",border:"2px solid #93c5fd",borderRadius:"12px",padding:"28px 32px",marginTop:"48px"},coreBetTitle:{fontSize:"20px",fontWeight:700,color:"#1d4ed8",margin:"0 0 16px 0"},footer:{marginTop:"80px",paddingTop:"40px",borderTop:"2px solid #e5e7eb",textAlign:"center",paddingBottom:"60px"},footerContent:{maxWidth:"600px",margin:"0 auto"},footerTagline:{fontSize:"14px",color:"#9ca3af",fontStyle:"italic",marginTop:"16px"}},kL=()=>{const[e,t]=tR(),[n,r]=C.useState([]),[i,o]=C.useState(new Set),[a,s]=C.useState({}),[u,c]=C.useState(new Set),[d,f]=C.useState({}),[h,p]=C.useState(new Set),[y,m]=C.useState(!1);C.useEffect(()=>{g()},[]);const _=E=>{const I=[],N=E.split(",");for(const M of N)if(M.includes("-")){const[R,D]=M.split("-").map(L=>parseInt(L.trim(),10));if(!isNaN(R)&&!isNaN(D))for(let L=R;L<=D;L++)I.push(L)}else{const R=parseInt(M.trim(),10);isNaN(R)||I.push(R)}return I};C.useEffect(()=>{if(n.length===0||y)return;const E=e.get("session"),I=e.get("span"),N=e.get("spans");if(E){const M=n.find(R=>R.session_id.startsWith(E));M&&(o(new Set([M.session_id])),v(M.session_id).then(R=>{let D=[];if(N?D=_(N):I&&(D=_(I)),D.length>0){const L=D.map(F=>{const A=R.find(O=>O.sequence_num===F||O.id===F);return A==null?void 0:A.id}).filter(F=>F!==void 0);L.length>0&&(c(new Set(L)),p(new Set(L)),L.forEach(F=>w(M.session_id,F)),setTimeout(()=>{const F=document.getElementById(`span-${L[0]}`);F&&F.scrollIntoView({behavior:"smooth",block:"center"})},100))}})),t({},{replace:!0})}m(!0)},[n,e,y]);const g=async()=>{try{const I=await(await fetch("/api/traces")).json();I.ok&&I.data&&r(I.data)}catch(E){console.error("Failed to fetch traces:",E)}},v=async E=>{if(a[E])return a[E];try{const N=await(await fetch(`/api/traces/${E}`)).json();if(N.ok&&N.data)return s(M=>({...M,[E]:N.data})),N.data}catch(I){console.error("Failed to fetch spans:",I)}return[]},w=async(E,I)=>{if(!d[I])try{const M=await(await fetch(`/api/traces/${E}/spans/${I}`)).json();M.ok&&M.data&&f(R=>({...R,[I]:M.data}))}catch(N){console.error("Failed to fetch content:",N)}},b=E=>{o(I=>{const N=new Set(I);return N.has(E)?N.delete(E):(N.add(E),v(E)),N})},S=(E,I)=>{c(N=>{const M=new Set(N);return M.has(I)?M.delete(I):(M.add(I),w(E,I)),M})},j=C.useCallback((E,I)=>(d[E]||[]).filter(M=>M.content_type===I).map(M=>M.content).join(`
`),[d]),x=C.useCallback(E=>(d[E]||[]).filter(N=>N.content_type==="tool_input"||N.content_type==="tool_output").map(N=>({name:N.tool_name,type:N.content_type,content:N.content})),[d]),k=E=>{const I=Fa(E),N={padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:500,flexShrink:0};return I==="opus"?{...N,backgroundColor:"#8b5cf6",color:"#fff"}:I==="sonnet"?{...N,backgroundColor:"#3b82f6",color:"#fff"}:I==="haiku"?{...N,backgroundColor:"#22c55e",color:"#fff"}:{...N,backgroundColor:"#e5e7eb",color:"#374151"}},T=E=>{var N;const I=Fa(E.model);return(N=E.tool_names)!=null&&N.includes("Task")?"main":I==="haiku"&&!E.tool_names?"subagent":E.tool_names&&E.tool_names.split(",").length>2?"tool":"main"};return l.jsxs("div",{style:G.container,children:[l.jsxs("div",{style:G.header,children:[l.jsx("h2",{style:G.title,children:"API Traces"}),l.jsx("button",{style:G.refreshBtn,onClick:g,children:" Refresh"})]}),n.length===0?l.jsxs("div",{style:G.empty,children:[l.jsx("p",{children:"No trace sessions found."}),l.jsxs("p",{style:G.emptyHint,children:["Run ",l.jsx("code",{style:G.code,children:"deciduous proxy -- claude"})," to capture API traffic."]})]}):l.jsx("div",{style:G.list,children:n.map(E=>{const I=i.has(E.session_id),N=a[E.session_id]||[];return l.jsxs("div",{style:G.sessionWrapper,children:[l.jsxs("div",{style:{...G.sessionRow,...I?G.sessionRowExpanded:{},...E.linked_node_id?G.sessionRowLinked:{}},onClick:()=>b(E.session_id),children:[l.jsx("span",{style:G.expandIcon,children:I?"":""}),l.jsx("span",{style:G.sessionId,children:E.session_id.slice(0,8)}),l.jsxs("span",{style:G.sessionMeta,children:[SR(E.started_at),"  ",CR(E),"  ",N.length||""," spans"]}),l.jsxs("div",{style:G.tokenGroup,children:[l.jsxs("span",{style:G.tokenIn,children:[qi(E.total_input_tokens),""]}),l.jsxs("span",{style:G.tokenOut,children:[qi(E.total_output_tokens),""]})]}),l.jsx("span",{style:G.displayName,children:E.display_name?E.display_name.length>70?E.display_name.slice(0,70)+"":E.display_name:l.jsx("span",{style:G.noPreview,children:"(no user prompt captured)"})}),E.linked_node_id&&l.jsxs("span",{style:G.linkedBadge,children:["#",E.linked_node_id]}),E.git_branch&&l.jsx("span",{style:G.branch,children:E.git_branch})]}),I&&l.jsx("div",{style:G.spansContainer,children:N.length===0?l.jsx("div",{style:G.spanEmpty,children:"Loading spans..."}):N.map(M=>{var pe;const R=u.has(M.id),D=T(M),L=j(M.id,"thinking"),F=j(M.id,"response"),A=x(M.id),O=j(M.id,"system"),z=oe=>{if(!oe)return!1;const K=oe.trim();return!!(K==="Warmup"||K==="quota"||K==="foo"||K==="#"||K.startsWith("Please write a")&&K.includes("word title")||K.startsWith("Explore the codebase")||K.startsWith("Search for ")||K.startsWith("Look for:")||K.startsWith("Look for ")||K.startsWith("Command:")||K.startsWith("Find ")&&(K.includes("in the codebase")||K.includes("files"))||K.startsWith("Analyze ")&&K.includes("code")||K.startsWith("Read ")&&K.includes("file")||K.startsWith("Check ")&&(K.includes("implementation")||K.includes("code"))||K.startsWith("{")&&K.includes('"')||K.startsWith("[")&&K.includes("{"))},B=!!M.user_preview,W=z(M.user_preview),ce=M.user_preview||((pe=M.response_preview)==null?void 0:pe.slice(0,60))||(M.tool_names?`Tools: ${M.tool_names}`:null)||"(API call)",re=h.has(M.id);return l.jsxs("div",{id:`span-${M.id}`,style:{...G.spanWrapper,...D==="subagent"?G.spanIndented:{},...re?G.spanHighlighted:{}},children:[l.jsxs("div",{style:{...G.spanRow,...R?G.spanRowExpanded:{},...D==="subagent"?G.spanRowSubagent:{}},onClick:()=>S(E.session_id,M.id),children:[l.jsx("span",{style:G.expandIcon,children:R?"":""}),l.jsxs("span",{style:G.spanNum,children:["#",M.sequence_num]}),l.jsx("span",{style:k(M.model),children:Fa(M.model)}),l.jsx("span",{style:G.spanDuration,children:k2(M.duration_ms)}),l.jsxs("div",{style:G.tokenGroupSmall,children:[l.jsxs("span",{style:G.tokenIn,children:[M.input_tokens?qi(M.input_tokens):"-",""]}),l.jsxs("span",{style:G.tokenOut,children:[M.output_tokens?qi(M.output_tokens):"-",""]})]}),M.tool_names&&l.jsxs("span",{style:G.toolBadge,children:[M.tool_names.split(",").length," tools"]}),M.node_count&&M.node_count>0&&l.jsxs("span",{style:G.nodeCount,children:["+",M.node_count," nodes"]}),l.jsxs("span",{style:G.spanSummary,children:[B&&l.jsx("span",{style:G.promptIndicator,children:W?" ":" "}),ce.length>60?ce.slice(0,60)+"":ce]})]}),R&&l.jsxs("div",{style:G.spanContent,children:[l.jsxs("div",{style:G.statsBar,children:[M.model&&l.jsxs("span",{children:["Model: ",M.model]}),M.stop_reason&&l.jsxs("span",{children:["Stop: ",M.stop_reason]}),M.cache_read&&M.cache_read>0&&l.jsxs("span",{style:G.cacheHit,children:["Cache: ",qi(M.cache_read)," read"]})]}),M.user_preview&&l.jsxs("div",{style:G.contentSection,children:[l.jsx("div",{style:G.contentLabel,children:W?" SUBAGENT TASK":" USER"}),l.jsx("div",{style:W?G.subagentBox:G.userBox,children:M.user_preview})]}),(L||M.thinking_preview)&&l.jsxs("div",{style:G.contentSection,children:[l.jsx("div",{style:G.contentLabel,children:" THINKING"}),l.jsx("div",{style:G.thinkingBox,children:L||M.thinking_preview})]}),(F||M.response_preview)&&l.jsxs("div",{style:G.contentSection,children:[l.jsx("div",{style:G.contentLabel,children:" RESPONSE"}),l.jsx("div",{style:G.responseBox,children:F||M.response_preview})]}),(A.length>0||M.tool_names)&&l.jsxs("div",{style:G.contentSection,children:[l.jsxs("div",{style:G.contentLabel,children:[" TOOLS ",M.tool_names&&`(${M.tool_names})`]}),A.length>0?A.map((oe,K)=>l.jsxs("div",{style:G.toolBlock,children:[l.jsxs("div",{style:G.toolHeader,children:[l.jsx("span",{style:G.toolName,children:oe.name||"Tool"}),l.jsx("span",{style:G.toolType,children:oe.type==="tool_input"?"INPUT":"OUTPUT"}),oe.content.length>500&&l.jsxs("span",{style:{color:"#888",fontSize:"11px",marginLeft:"8px"},children:["(",oe.content.length.toLocaleString()," chars)"]})]}),l.jsx("div",{style:G.toolContent,children:oe.content})]},K)):l.jsx("div",{style:G.noContent,children:"Tool details not captured"})]}),O&&l.jsxs("details",{style:G.systemDetails,children:[l.jsxs("summary",{style:G.systemSummary,children:[" System Prompt (",O.length.toLocaleString()," chars)"]}),l.jsx("div",{style:G.systemBox,children:O})]}),!L&&!F&&!M.thinking_preview&&!M.response_preview&&A.length===0&&l.jsx("div",{style:G.noContent,children:"No content recorded for this span"})]})]},M.id)})})]},E.session_id)})})]})},G={container:{minHeight:"100%",backgroundColor:"#fafafa",padding:"20px",color:"#374151"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},title:{fontSize:"20px",fontWeight:600,color:"#111827",margin:0},refreshBtn:{padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#fff",color:"#374151",cursor:"pointer",fontSize:"13px"},empty:{textAlign:"center",padding:"60px 20px",color:"#6b7280"},emptyHint:{fontSize:"13px",marginTop:"8px"},code:{backgroundColor:"#f3f4f6",padding:"2px 6px",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px",color:"#0369a1"},list:{display:"flex",flexDirection:"column",gap:"8px"},sessionWrapper:{borderRadius:"8px",border:"1px solid #e5e7eb",backgroundColor:"#fff",overflow:"hidden"},sessionRow:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",cursor:"pointer",transition:"background-color 0.15s"},sessionRowExpanded:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},sessionRowLinked:{borderLeft:"3px solid #22c55e"},expandIcon:{color:"#9ca3af",fontSize:"10px",width:"12px",flexShrink:0},sessionId:{fontFamily:"monospace",fontSize:"13px",fontWeight:600,color:"#0969da",flexShrink:0},sessionMeta:{color:"#6b7280",fontSize:"12px",flexShrink:0},linkedBadge:{backgroundColor:"#dcfce7",color:"#16a34a",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:500,flexShrink:0},tokenGroup:{display:"flex",gap:"8px",fontSize:"12px",flexShrink:0},tokenGroupSmall:{display:"flex",gap:"6px",fontSize:"11px",flexShrink:0},tokenIn:{color:"#16a34a"},tokenOut:{color:"#dc2626"},displayName:{color:"#374151",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},noPreview:{color:"#9ca3af",fontStyle:"italic"},branch:{backgroundColor:"#dbeafe",color:"#1d4ed8",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",flexShrink:0},spansContainer:{padding:"8px 12px 12px 24px",backgroundColor:"#f9fafb"},spanEmpty:{color:"#9ca3af",fontSize:"13px",padding:"12px"},spanWrapper:{marginBottom:"4px"},spanHighlighted:{backgroundColor:"rgba(250, 204, 21, 0.2)",borderRadius:"8px",padding:"4px",margin:"-4px",marginBottom:"4px",boxShadow:"0 0 0 2px rgba(250, 204, 21, 0.5)"},spanIndented:{marginLeft:"20px"},spanRow:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},spanRowExpanded:{backgroundColor:"#fffbeb",borderColor:"#fcd34d",borderBottomLeftRadius:0,borderBottomRightRadius:0},spanRowSubagent:{backgroundColor:"#f9fafb",borderColor:"#e5e7eb"},spanNum:{fontFamily:"monospace",color:"#6b7280",minWidth:"30px",flexShrink:0},spanDuration:{color:"#6b7280",minWidth:"45px",flexShrink:0},toolBadge:{backgroundColor:"#f3e8ff",color:"#7c3aed",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",flexShrink:0},nodeCount:{backgroundColor:"#dcfce7",color:"#16a34a",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",flexShrink:0},spanSummary:{color:"#6b7280",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},promptIndicator:{opacity:.7},spanContent:{backgroundColor:"#fffbeb",border:"1px solid #fcd34d",borderTop:"none",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",padding:"12px"},statsBar:{display:"flex",gap:"16px",fontSize:"11px",color:"#6b7280",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},cacheHit:{color:"#16a34a"},contentSection:{marginBottom:"12px"},contentLabel:{fontSize:"11px",fontWeight:600,color:"#92400e",marginBottom:"6px",letterSpacing:"0.5px"},userBox:{backgroundColor:"#eff6ff",border:"1px solid #93c5fd",borderRadius:"6px",padding:"10px",fontSize:"12px",lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#1e40af"},subagentBox:{backgroundColor:"#f3e8ff",border:"1px solid #c4b5fd",borderRadius:"6px",padding:"10px",fontSize:"12px",lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#6b21a8"},thinkingBox:{backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px",padding:"10px",fontSize:"12px",lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#92400e"},responseBox:{backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px",padding:"10px",fontSize:"12px",lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#166534"},toolBlock:{marginBottom:"8px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",overflow:"hidden"},toolHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 10px",backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},toolName:{fontWeight:600,fontSize:"12px",color:"#7c3aed"},toolType:{fontSize:"10px",color:"#9ca3af"},toolContent:{padding:"8px 10px",fontSize:"11px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#374151"},systemDetails:{marginTop:"8px"},systemSummary:{cursor:"pointer",fontSize:"11px",color:"#6b7280",padding:"4px 0"},systemBox:{backgroundColor:"#f3e8ff",border:"1px solid #c4b5fd",borderRadius:"6px",padding:"10px",fontSize:"11px",lineHeight:1.4,whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#6b21a8",marginTop:"6px"},noContent:{color:"#9ca3af",fontSize:"12px",textAlign:"center",padding:"16px",fontStyle:"italic"}},np=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),jL=()=>{const{graphData:e,gitHistory:t,roadmapItems:n,loading:r,error:i,lastUpdated:o}=nR({graphUrl:np?"/api/graph":"./graph-data.json",gitHistoryUrl:"./git-history.json",roadmapUrl:np?"/api/roadmap":"./roadmap-items.json",enableSSE:!1,pollInterval:np?3e4:0}),[a,s]=C.useState(null),u=C.useMemo(()=>e?aR(e.nodes):[],[e]),c=C.useMemo(()=>{if(!e)return null;if(!a)return e;const p=e.nodes.filter(_=>hm(_)===a),y=new Set(p.map(_=>_.id)),m=e.edges.filter(_=>y.has(_.from_node_id)&&y.has(_.to_node_id));return{nodes:p,edges:m}},[e,a]),{chains:d,sessions:f,stats:h}=pR(c);return r?l.jsxs("div",{style:Fr.loading,children:[l.jsx("div",{style:Fr.spinner}),l.jsx("p",{children:"Loading decision graph..."})]}):i?l.jsxs("div",{style:Fr.error,children:[l.jsx("h2",{children:"Error Loading Graph"}),l.jsx("p",{children:i}),l.jsxs("p",{style:Fr.hint,children:["Make sure graph-data.json exists, or run ",l.jsx("code",{children:"deciduous serve"})," for live data."]})]}):!e||e.nodes.length===0?l.jsxs("div",{style:Fr.empty,children:[l.jsx("h2",{children:"No Decision Data"}),l.jsx("p",{children:"The graph is empty. Start adding decisions!"}),l.jsx("pre",{style:Fr.code,children:'deciduous add goal "My first goal" -c 90'})]}):l.jsx(XT,{children:l.jsx(mR,{stats:h,lastUpdated:o,branches:u,selectedBranch:a,onBranchChange:s,children:l.jsxs($T,{children:[l.jsx(rn,{path:"/",element:l.jsx(dL,{graphData:c,chains:d,gitHistory:t})}),l.jsx(rn,{path:"/chains",element:l.jsx(ER,{graphData:c,chains:d,sessions:f,gitHistory:t})}),l.jsx(rn,{path:"/timeline",element:l.jsx(NR,{graphData:c,gitHistory:t})}),l.jsx(rn,{path:"/graph",element:l.jsx(Z8,{graphData:c})}),l.jsx(rn,{path:"/roadmap",element:l.jsx(mL,{graphData:c,roadmapItems:n})}),l.jsx(rn,{path:"/story",element:l.jsx(_L,{graphData:c,gitHistory:t})}),l.jsx(rn,{path:"/traces",element:l.jsx(kL,{})}),l.jsx(rn,{path:"*",element:l.jsx(BT,{to:"/",replace:!0})})]})})})},Fr={loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#57606a"},spinner:{width:"40px",height:"40px",border:"3px solid #d0d7de",borderTopColor:"#0969da",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},error:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#24292f",textAlign:"center",padding:"20px"},hint:{color:"#57606a",fontSize:"14px"},empty:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#24292f",textAlign:"center",padding:"20px"},code:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px 20px",borderRadius:"8px",fontFamily:"monospace",fontSize:"14px",color:"#0969da",marginTop:"10px"}};rp.createRoot(document.getElementById("root")).render(l.jsx(yg.StrictMode,{children:l.jsx(jL,{})}));</script>
    <style rel="stylesheet" crossorigin>*{box-sizing:border-box;margin:0;padding:0}html,body,#root{height:100%;width:100%}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:#fff;color:#24292f;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f6f8fa}::-webkit-scrollbar-thumb{background:#d0d7de;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#afb8c1}a{color:#0969da;text-decoration:none}a:hover{text-decoration:underline}:focus-visible{outline:2px solid #0969da;outline-offset:2px}::selection{background:#0969da33}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
