<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <meta name="title" content="Deciduous - Live Decision Graph Demo" />
    <meta name="description" content="Explore the live decision graph that documented the creation of Deciduous. Browse 520+ nodes across 6 views: DAG, Chains, Timeline, Graph, Roadmap, and Story." />
    <title>Deciduous - Live Decision Graph Demo</title>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://notactuallytreyanastasio.github.io/deciduous/demo/" />
    <meta property="og:title" content="Deciduous - Live Decision Graph Demo" />
    <meta property="og:description" content="Explore the live decision graph that documented the creation of Deciduous. Browse 520+ nodes across 6 views: DAG, Chains, Timeline, Graph, Roadmap, and Story." />
    <meta property="og:image" content="https://notactuallytreyanastasio.github.io/deciduous/demo/demo-og.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://notactuallytreyanastasio.github.io/deciduous/demo/" />
    <meta property="twitter:title" content="Deciduous - Live Decision Graph Demo" />
    <meta property="twitter:description" content="Browse 520+ decisions that built Deciduous. See goals, decisions, actions, and outcomes connected in an interactive graph." />
    <meta property="twitter:image" content="https://notactuallytreyanastasio.github.io/deciduous/demo/demo-og.png" />
    <script type="module" crossorigin>function wk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zw={exports:{}},Is={},eb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),bk=Symbol.for("react.portal"),Sk=Symbol.for("react.fragment"),Ck=Symbol.for("react.strict_mode"),kk=Symbol.for("react.profiler"),jk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),Rk=Symbol.for("react.suspense"),Ik=Symbol.for("react.memo"),Mk=Symbol.for("react.lazy"),Km=Symbol.iterator;function Nk(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nb=Object.assign,rb={};function wi(e,t,n){this.props=e,this.context=t,this.refs=rb,this.updater=n||tb}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ib(){}ib.prototype=wi.prototype;function dg(e,t,n){this.props=e,this.context=t,this.refs=rb,this.updater=n||tb}var fg=dg.prototype=new ib;fg.constructor=dg;nb(fg,wi.prototype);fg.isPureReactComponent=!0;var Ym=Array.isArray,ob=Object.prototype.hasOwnProperty,hg={current:null},ab={key:!0,ref:!0,__self:!0,__source:!0};function sb(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ob.call(t,r)&&!ab.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Oo,type:e,key:o,ref:a,props:i,_owner:hg.current}}function Pk(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function Ak(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qm=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ak(""+e.key):t.toString(36)}function Ma(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Oo:case bk:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Cl(a,0):r,Ym(i)?(n="",e!=null&&(n=e.replace(Qm,"$&/")+"/"),Ma(i,t,n,"",function(c){return c})):i!=null&&(pg(i)&&(i=Pk(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Qm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Ym(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Cl(o,s);a+=Ma(o,t,n,l,i)}else if(l=Nk(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Cl(o,s++),a+=Ma(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function na(e,t,n){if(e==null)return e;var r=[],i=0;return Ma(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Lk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Na={transition:null},zk={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Na,ReactCurrentOwner:hg};function lb(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:na,forEach:function(e,t,n){na(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return na(e,function(){t++}),t},toArray:function(e){return na(e,function(t){return t})||[]},only:function(e){if(!pg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=wi;ne.Fragment=Sk;ne.Profiler=kk;ne.PureComponent=dg;ne.StrictMode=Ck;ne.Suspense=Rk;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;ne.act=lb;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nb({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=hg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)ob.call(t,l)&&!ab.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Oo,type:e.type,key:i,ref:o,props:r,_owner:a}};ne.createContext=function(e){return e={$$typeof:Ek,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jk,_context:e},e.Consumer=e};ne.createElement=sb;ne.createFactory=function(e){var t=sb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Tk,render:e}};ne.isValidElement=pg;ne.lazy=function(e){return{$$typeof:Mk,_payload:{_status:-1,_result:e},_init:Lk}};ne.memo=function(e,t){return{$$typeof:Ik,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Na.transition;Na.transition={};try{e()}finally{Na.transition=t}};ne.unstable_act=lb;ne.useCallback=function(e,t){return rt.current.useCallback(e,t)};ne.useContext=function(e){return rt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return rt.current.useEffect(e,t)};ne.useId=function(){return rt.current.useId()};ne.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return rt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};ne.useRef=function(e){return rt.current.useRef(e)};ne.useState=function(e){return rt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return rt.current.useTransition()};ne.version="18.3.1";eb.exports=ne;var S=eb.exports;const gg=Jw(S),qk=wk({__proto__:null,default:gg},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok=S,Dk=Symbol.for("react.element"),Bk=Symbol.for("react.fragment"),Fk=Object.prototype.hasOwnProperty,$k=Ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uk={key:!0,ref:!0,__self:!0,__source:!0};function ub(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Fk.call(t,r)&&!Uk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Dk,type:e,key:o,ref:a,props:i,_owner:$k.current}}Is.Fragment=Bk;Is.jsx=ub;Is.jsxs=ub;Zw.exports=Is;var u=Zw.exports,np={},cb={exports:{}},bt={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,z){var N=I.length;I.push(z);e:for(;0<N;){var U=N-1>>>1,W=I[U];if(0<i(W,z))I[U]=z,I[N]=W,N=U;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var z=I[0],N=I.pop();if(N!==z){I[0]=N;e:for(var U=0,W=I.length,se=W>>>1;U<se;){var K=2*(U+1)-1,ke=I[K],Ee=K+1,Te=I[Ee];if(0>i(ke,N))Ee<W&&0>i(Te,ke)?(I[U]=Te,I[Ee]=N,U=Ee):(I[U]=ke,I[K]=N,U=K);else if(Ee<W&&0>i(Te,N))I[U]=Te,I[Ee]=N,U=Ee;else break e}}return z}function i(I,z){var N=I.sortIndex-z.sortIndex;return N!==0?N:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=I)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function _(I){if(g=!1,w(I),!v)if(n(l)!==null)v=!0,j(k);else{var z=n(c);z!==null&&q(_,z.startTime-I)}}function k(I,z){v=!1,g&&(g=!1,m(C),C=-1),p=!0;var N=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||I&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var W=U(f.expirationTime<=z);z=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var K=n(c);K!==null&&q(_,K.startTime-z),se=!1}return se}finally{f=null,h=N,p=!1}}var E=!1,b=null,C=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function L(){if(b!==null){var I=e.unstable_now();T=I;var z=!0;try{z=b(!0,I)}finally{z?F():(E=!1,b=null)}}else E=!1}var F;if(typeof y=="function")F=function(){y(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=L,F=function(){$.postMessage(null)}}else F=function(){x(L,0)};function j(I){b=I,E||(E=!0,F())}function q(I,z){C=x(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,j(k))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var N=h;h=z;try{return I()}finally{h=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var N=h;h=I;try{return z()}finally{h=N}},e.unstable_scheduleCallback=function(I,z,N){var U=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?U+N:U):N=U,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,I={id:d++,callback:z,priorityLevel:I,startTime:N,expirationTime:W,sortIndex:-1},N>U?(I.sortIndex=N,t(c,I),n(l)===null&&I===n(c)&&(g?(m(C),C=-1):g=!0,q(_,N-U))):(I.sortIndex=W,t(l,I),v||p||(v=!0,j(k))),I},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(I){var z=h;return function(){var N=h;h=z;try{return I.apply(this,arguments)}finally{h=N}}}})(fb);db.exports=fb;var Wk=db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=S,_t=Wk;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hb=new Set,po={};function Rr(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(po[e]=t,e=0;e<t.length;e++)hb.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,Gk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function Vk(e){return rp.call(Jm,e)?!0:rp.call(Xm,e)?!1:Gk.test(e)?Jm[e]=!0:(Xm[e]=!0,!1)}function Kk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yk(e,t,n,r){if(t===null||typeof t>"u"||Kk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var mg=/[\-:]([a-z])/g;function vg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mg,vg);We[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mg,vg);We[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mg,vg);We[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function yg(e,t,n,r){var i=We.hasOwnProperty(t)?We[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yk(t,n,i,r)&&(n=null),r||i===null?Vk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jn=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ra=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),pb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),wg=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),mb=Symbol.for("react.offscreen"),Zm=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=Zm&&e[Zm]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,kl;function Hi(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var jl=!1;function El(e,t){if(!e||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hi(e):""}function Qk(e){switch(e.tag){case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function sp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Wr:return"Portal";case ip:return"Profiler";case xg:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gb:return(e.displayName||"Context")+".Consumer";case pb:return(e._context.displayName||"Context")+".Provider";case _g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wg:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}function Xk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(t);case 8:return t===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jk(e){var t=vb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ia(e){e._valueTracker||(e._valueTracker=Jk(e))}function yb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lp(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ev(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xb(e,t){t=t.checked,t!=null&&yg(e,"checked",t,!1)}function up(e,t){xb(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cp(e,t.type,n):t.hasOwnProperty("defaultValue")&&cp(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cp(e,t,n){(t!=="number"||Va(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gi=Array.isArray;function ni(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Gi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function _b(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oa,bb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function go(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zk=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(e){Zk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ro[t]=ro[e]})});function Sb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ro.hasOwnProperty(e)&&ro[e]?(""+t).trim():t+"px"}function Cb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ej=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hp(e,t){if(t){if(ej[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mp=null,ri=null,ii=null;function iv(e){if(e=Fo(e)){if(typeof mp!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ls(t),mp(e.stateNode,e.type,t))}}function kb(e){ri?ii?ii.push(e):ii=[e]:ri=e}function jb(){if(ri){var e=ri,t=ii;if(ii=ri=null,iv(e),t)for(e=0;e<t.length;e++)iv(t[e])}}function Eb(e,t){return e(t)}function Tb(){}var Tl=!1;function Rb(e,t,n){if(Tl)return e(t,n);Tl=!0;try{return Eb(e,t,n)}finally{Tl=!1,(ri!==null||ii!==null)&&(Tb(),jb())}}function mo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ls(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var vp=!1;if(_n)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{vp=!1}function tj(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var io=!1,Ka=null,Ya=!1,yp=null,nj={onError:function(e){io=!0,Ka=e}};function rj(e,t,n,r,i,o,a,s,l){io=!1,Ka=null,tj.apply(nj,arguments)}function ij(e,t,n,r,i,o,a,s,l){if(rj.apply(this,arguments),io){if(io){var c=Ka;io=!1,Ka=null}else throw Error(D(198));Ya||(Ya=!0,yp=c)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ib(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ov(e){if(Ir(e)!==e)throw Error(D(188))}function oj(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ov(i),e;if(o===r)return ov(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Mb(e){return e=oj(e),e!==null?Nb(e):null}function Nb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nb(e);if(t!==null)return t;e=e.sibling}return null}var Pb=_t.unstable_scheduleCallback,av=_t.unstable_cancelCallback,aj=_t.unstable_shouldYield,sj=_t.unstable_requestPaint,Ie=_t.unstable_now,lj=_t.unstable_getCurrentPriorityLevel,Sg=_t.unstable_ImmediatePriority,Ab=_t.unstable_UserBlockingPriority,Qa=_t.unstable_NormalPriority,uj=_t.unstable_LowPriority,Lb=_t.unstable_IdlePriority,Ms=null,en=null;function cj(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ms,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:hj,dj=Math.log,fj=Math.LN2;function hj(e){return e>>>=0,e===0?32:31-(dj(e)/fj|0)|0}var aa=64,sa=4194304;function Vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Vi(s):(o&=a,o!==0&&(r=Vi(o)))}else a=n&~i,a!==0?r=Vi(a):o!==0&&(r=Vi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),i=1<<n,r|=e[n],t&=~i;return r}function pj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ft(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=pj(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zb(){var e=aa;return aa<<=1,!(aa&4194240)&&(aa=64),e}function Rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function mj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Cg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var de=0;function qb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ob,kg,Db,Bb,Fb,_p=!1,la=[],Wn=null,Hn=null,Gn=null,vo=new Map,yo=new Map,qn=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Li(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Fo(t),t!==null&&kg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yj(e,t,n,r,i){switch(t){case"focusin":return Wn=Li(Wn,e,t,n,r,i),!0;case"dragenter":return Hn=Li(Hn,e,t,n,r,i),!0;case"mouseover":return Gn=Li(Gn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vo.set(o,Li(vo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yo.set(o,Li(yo.get(o)||null,e,t,n,r,i)),!0}return!1}function $b(e){var t=pr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Ib(n),t!==null){e.blockedOn=t,Fb(e.priority,function(){Db(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gp=r,n.target.dispatchEvent(r),gp=null}else return t=Fo(n),t!==null&&kg(t),e.blockedOn=n,!1;t.shift()}return!0}function lv(e,t,n){Pa(e)&&n.delete(t)}function xj(){_p=!1,Wn!==null&&Pa(Wn)&&(Wn=null),Hn!==null&&Pa(Hn)&&(Hn=null),Gn!==null&&Pa(Gn)&&(Gn=null),vo.forEach(lv),yo.forEach(lv)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,_p||(_p=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,xj)))}function xo(e){function t(i){return zi(i,e)}if(0<la.length){zi(la[0],e);for(var n=1;n<la.length;n++){var r=la[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wn!==null&&zi(Wn,e),Hn!==null&&zi(Hn,e),Gn!==null&&zi(Gn,e),vo.forEach(t),yo.forEach(t),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)$b(n),n.blockedOn===null&&qn.shift()}var oi=jn.ReactCurrentBatchConfig,Ja=!0;function _j(e,t,n,r){var i=de,o=oi.transition;oi.transition=null;try{de=1,jg(e,t,n,r)}finally{de=i,oi.transition=o}}function wj(e,t,n,r){var i=de,o=oi.transition;oi.transition=null;try{de=4,jg(e,t,n,r)}finally{de=i,oi.transition=o}}function jg(e,t,n,r){if(Ja){var i=wp(e,t,n,r);if(i===null)Dl(e,t,r,Za,n),sv(e,r);else if(yj(i,e,t,n,r))r.stopPropagation();else if(sv(e,r),t&4&&-1<vj.indexOf(e)){for(;i!==null;){var o=Fo(i);if(o!==null&&Ob(o),o=wp(e,t,n,r),o===null&&Dl(e,t,r,Za,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Dl(e,t,r,null,n)}}var Za=null;function wp(e,t,n,r){if(Za=null,e=bg(r),e=pr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ib(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Za=e,null}function Ub(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lj()){case Sg:return 1;case Ab:return 4;case Qa:case uj:return 16;case Lb:return 536870912;default:return 16}default:return 16}}var Bn=null,Eg=null,Aa=null;function Wb(){if(Aa)return Aa;var e,t=Eg,n=t.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Aa=i.slice(e,1<r?1-r:void 0)}function La(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ua(){return!0}function uv(){return!1}function St(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ua:uv,this.isPropagationStopped=uv,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tg=St(bi),Bo=Ce({},bi,{view:0,detail:0}),bj=St(Bo),Il,Ml,qi,Ns=Ce({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Il=e.screenX-qi.screenX,Ml=e.screenY-qi.screenY):Ml=Il=0,qi=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),cv=St(Ns),Sj=Ce({},Ns,{dataTransfer:0}),Cj=St(Sj),kj=Ce({},Bo,{relatedTarget:0}),Nl=St(kj),jj=Ce({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ej=St(jj),Tj=Ce({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rj=St(Tj),Ij=Ce({},bi,{data:0}),dv=St(Ij),Mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pj[e])?!!t[e]:!1}function Rg(){return Aj}var Lj=Ce({},Bo,{key:function(e){if(e.key){var t=Mj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=La(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rg,charCode:function(e){return e.type==="keypress"?La(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?La(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zj=St(Lj),qj=Ce({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=St(qj),Oj=Ce({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rg}),Dj=St(Oj),Bj=Ce({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fj=St(Bj),$j=Ce({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uj=St($j),Wj=[9,13,27,32],Ig=_n&&"CompositionEvent"in window,oo=null;_n&&"documentMode"in document&&(oo=document.documentMode);var Hj=_n&&"TextEvent"in window&&!oo,Hb=_n&&(!Ig||oo&&8<oo&&11>=oo),hv=" ",pv=!1;function Gb(e,t){switch(e){case"keyup":return Wj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function Gj(e,t){switch(e){case"compositionend":return Vb(t);case"keypress":return t.which!==32?null:(pv=!0,hv);case"textInput":return e=t.data,e===hv&&pv?null:e;default:return null}}function Vj(e,t){if(Gr)return e==="compositionend"||!Ig&&Gb(e,t)?(e=Wb(),Aa=Eg=Bn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hb&&t.locale!=="ko"?null:t.data;default:return null}}var Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kj[e.type]:t==="textarea"}function Kb(e,t,n,r){kb(r),t=es(t,"onChange"),0<t.length&&(n=new Tg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ao=null,_o=null;function Yj(e){oS(e,0)}function Ps(e){var t=Yr(e);if(yb(t))return e}function Qj(e,t){if(e==="change")return t}var Yb=!1;if(_n){var Pl;if(_n){var Al="oninput"in document;if(!Al){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Al=typeof mv.oninput=="function"}Pl=Al}else Pl=!1;Yb=Pl&&(!document.documentMode||9<document.documentMode)}function vv(){ao&&(ao.detachEvent("onpropertychange",Qb),_o=ao=null)}function Qb(e){if(e.propertyName==="value"&&Ps(_o)){var t=[];Kb(t,_o,e,bg(e)),Rb(Yj,t)}}function Xj(e,t,n){e==="focusin"?(vv(),ao=t,_o=n,ao.attachEvent("onpropertychange",Qb)):e==="focusout"&&vv()}function Jj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(_o)}function Zj(e,t){if(e==="click")return Ps(t)}function eE(e,t){if(e==="input"||e==="change")return Ps(t)}function tE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:tE;function wo(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rp.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function yv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xv(e,t){var n=yv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yv(n)}}function Xb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jb(){for(var e=window,t=Va();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Va(e.document)}return t}function Mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nE(e){var t=Jb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(r!==null&&Mg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xv(n,o);var a=xv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rE=_n&&"documentMode"in document&&11>=document.documentMode,Vr=null,bp=null,so=null,Sp=!1;function _v(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sp||Vr==null||Vr!==Va(r)||(r=Vr,"selectionStart"in r&&Mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&wo(so,r)||(so=r,r=es(bp,"onSelect"),0<r.length&&(t=new Tg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},Ll={},Zb={};_n&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function As(e){if(Ll[e])return Ll[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zb)return Ll[e]=t[n];return e}var eS=As("animationend"),tS=As("animationiteration"),nS=As("animationstart"),rS=As("transitionend"),iS=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){iS.set(e,t),Rr(t,[e])}for(var zl=0;zl<wv.length;zl++){var ql=wv[zl],iE=ql.toLowerCase(),oE=ql[0].toUpperCase()+ql.slice(1);ir(iE,"on"+oE)}ir(eS,"onAnimationEnd");ir(tS,"onAnimationIteration");ir(nS,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(rS,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function bv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ij(r,t,void 0,e),e.currentTarget=null}function oS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;bv(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;bv(i,s,c),o=l}}}if(Ya)throw e=yp,Ya=!1,yp=null,e}function me(e,t){var n=t[Tp];n===void 0&&(n=t[Tp]=new Set);var r=e+"__bubble";n.has(r)||(aS(t,e,2,!1),n.add(r))}function Ol(e,t,n){var r=0;t&&(r|=4),aS(n,e,r,t)}var da="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[da]){e[da]=!0,hb.forEach(function(n){n!=="selectionchange"&&(aE.has(n)||Ol(n,!1,e),Ol(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[da]||(t[da]=!0,Ol("selectionchange",!1,t))}}function aS(e,t,n,r){switch(Ub(t)){case 1:var i=_j;break;case 4:i=wj;break;default:i=jg}n=i.bind(null,t,n,e),i=void 0,!vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=pr(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Rb(function(){var c=o,d=bg(n),f=[];e:{var h=iS.get(e);if(h!==void 0){var p=Tg,v=e;switch(e){case"keypress":if(La(n)===0)break e;case"keydown":case"keyup":p=zj;break;case"focusin":v="focus",p=Nl;break;case"focusout":v="blur",p=Nl;break;case"beforeblur":case"afterblur":p=Nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dj;break;case eS:case tS:case nS:p=Ej;break;case rS:p=Fj;break;case"scroll":p=bj;break;case"wheel":p=Uj;break;case"copy":case"cut":case"paste":p=Rj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fv}var g=(t&4)!==0,x=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,m!==null&&(_=mo(y,m),_!=null&&g.push(So(y,_,w)))),x)break;y=y.return}0<g.length&&(h=new p(h,v,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==gp&&(v=n.relatedTarget||n.fromElement)&&(pr(v)||v[wn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?pr(v):null,v!==null&&(x=Ir(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(g=cv,_="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=fv,_="onPointerLeave",m="onPointerEnter",y="pointer"),x=p==null?h:Yr(p),w=v==null?h:Yr(v),h=new g(_,y+"leave",p,n,d),h.target=x,h.relatedTarget=w,_=null,pr(d)===c&&(g=new g(m,y+"enter",v,n,d),g.target=w,g.relatedTarget=x,_=g),x=_,p&&v)t:{for(g=p,m=v,y=0,w=g;w;w=Or(w))y++;for(w=0,_=m;_;_=Or(_))w++;for(;0<y-w;)g=Or(g),y--;for(;0<w-y;)m=Or(m),w--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Or(g),m=Or(m)}g=null}else g=null;p!==null&&Sv(f,h,p,g,!1),v!==null&&x!==null&&Sv(f,x,v,g,!0)}}e:{if(h=c?Yr(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=Qj;else if(gv(h))if(Yb)k=eE;else{k=Jj;var E=Xj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Zj);if(k&&(k=k(e,c))){Kb(f,k,n,d);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&cp(h,"number",h.value)}switch(E=c?Yr(c):window,e){case"focusin":(gv(E)||E.contentEditable==="true")&&(Vr=E,bp=c,so=null);break;case"focusout":so=bp=Vr=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,_v(f,n,d);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":_v(f,n,d)}var b;if(Ig)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gr?Gb(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Hb&&n.locale!=="ko"&&(Gr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gr&&(b=Wb()):(Bn=d,Eg="value"in Bn?Bn.value:Bn.textContent,Gr=!0)),E=es(c,C),0<E.length&&(C=new dv(C,e,null,n,d),f.push({event:C,listeners:E}),b?C.data=b:(b=Vb(n),b!==null&&(C.data=b)))),(b=Hj?Gj(e,n):Vj(e,n))&&(c=es(c,"onBeforeInput"),0<c.length&&(d=new dv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}oS(f,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function es(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mo(e,n),o!=null&&r.unshift(So(e,o,i)),o=mo(e,t),o!=null&&r.push(So(e,o,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=mo(n,o),l!=null&&a.unshift(So(n,l,s))):i||(l=mo(n,o),l!=null&&a.push(So(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var sE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function Cv(e){return(typeof e=="string"?e:""+e).replace(sE,`
`).replace(lE,"")}function fa(e,t,n){if(t=Cv(t),Cv(e)!==t&&n)throw Error(D(425))}function ts(){}var Cp=null,kp=null;function jp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(e){return kv.resolve(null).then(e).catch(dE)}:Ep;function dE(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xo(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Si,Co="__reactProps$"+Si,wn="__reactContainer$"+Si,Tp="__reactEvents$"+Si,fE="__reactListeners$"+Si,hE="__reactHandles$"+Si;function pr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jv(e);e!==null;){if(n=e[Jt])return n;e=jv(e)}return t}e=n,n=e.parentNode}return null}function Fo(e){return e=e[Jt]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ls(e){return e[Co]||null}var Rp=[],Qr=-1;function or(e){return{current:e}}function ve(e){0>Qr||(e.current=Rp[Qr],Rp[Qr]=null,Qr--)}function ge(e,t){Qr++,Rp[Qr]=e.current,e.current=t}var tr={},Qe=or(tr),ut=or(!1),Sr=tr;function di(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ct(e){return e=e.childContextTypes,e!=null}function ns(){ve(ut),ve(Qe)}function Ev(e,t,n){if(Qe.current!==tr)throw Error(D(168));ge(Qe,t),ge(ut,n)}function sS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,Xk(e)||"Unknown",i));return Ce({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Sr=Qe.current,ge(Qe,e),ge(ut,ut.current),!0}function Tv(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=sS(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,ve(ut),ve(Qe),ge(Qe,e)):ve(ut),ge(ut,n)}var hn=null,zs=!1,Fl=!1;function lS(e){hn===null?hn=[e]:hn.push(e)}function pE(e){zs=!0,lS(e)}function ar(){if(!Fl&&hn!==null){Fl=!0;var e=0,t=de;try{var n=hn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}hn=null,zs=!1}catch(i){throw hn!==null&&(hn=hn.slice(e+1)),Pb(Sg,ar),i}finally{de=t,Fl=!1}}return null}var Xr=[],Jr=0,is=null,os=0,jt=[],Et=0,Cr=null,pn=1,gn="";function dr(e,t){Xr[Jr++]=os,Xr[Jr++]=is,is=e,os=t}function uS(e,t,n){jt[Et++]=pn,jt[Et++]=gn,jt[Et++]=Cr,Cr=e;var r=pn;e=gn;var i=32-Ft(r)-1;r&=~(1<<i),n+=1;var o=32-Ft(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pn=1<<32-Ft(t)+i|n<<i|r,gn=o+e}else pn=1<<o|n<<i|r,gn=e}function Ng(e){e.return!==null&&(dr(e,1),uS(e,1,0))}function Pg(e){for(;e===is;)is=Xr[--Jr],Xr[Jr]=null,os=Xr[--Jr],Xr[Jr]=null;for(;e===Cr;)Cr=jt[--Et],jt[Et]=null,gn=jt[--Et],jt[Et]=null,pn=jt[--Et],jt[Et]=null}var xt=null,yt=null,xe=!1,Dt=null;function cS(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:pn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,yt=null,!0):!1;default:return!1}}function Ip(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mp(e){if(xe){var t=yt;if(t){var n=t;if(!Rv(e,t)){if(Ip(e))throw Error(D(418));t=Vn(n.nextSibling);var r=xt;t&&Rv(e,t)?cS(r,n):(e.flags=e.flags&-4097|2,xe=!1,xt=e)}}else{if(Ip(e))throw Error(D(418));e.flags=e.flags&-4097|2,xe=!1,xt=e}}}function Iv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ha(e){if(e!==xt)return!1;if(!xe)return Iv(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jp(e.type,e.memoizedProps)),t&&(t=yt)){if(Ip(e))throw dS(),Error(D(418));for(;t;)cS(e,t),t=Vn(t.nextSibling)}if(Iv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?Vn(e.stateNode.nextSibling):null;return!0}function dS(){for(var e=yt;e;)e=Vn(e.nextSibling)}function fi(){yt=xt=null,xe=!1}function Ag(e){Dt===null?Dt=[e]:Dt.push(e)}var gE=jn.ReactCurrentBatchConfig;function Oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function pa(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mv(e){var t=e._init;return t(e._payload)}function fS(e){function t(m,y){if(e){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Xn(m,y),m.index=0,m.sibling=null,m}function o(m,y,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,y,w,_){return y===null||y.tag!==6?(y=Kl(w,m.mode,_),y.return=m,y):(y=i(y,w),y.return=m,y)}function l(m,y,w,_){var k=w.type;return k===Hr?d(m,y,w.props.children,_,w.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===An&&Mv(k)===y.type)?(_=i(y,w.props),_.ref=Oi(m,y,w),_.return=m,_):(_=$a(w.type,w.key,w.props,null,m.mode,_),_.ref=Oi(m,y,w),_.return=m,_)}function c(m,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Yl(w,m.mode,_),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function d(m,y,w,_,k){return y===null||y.tag!==7?(y=_r(w,m.mode,_,k),y.return=m,y):(y=i(y,w),y.return=m,y)}function f(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kl(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ra:return w=$a(y.type,y.key,y.props,null,m.mode,w),w.ref=Oi(m,null,y),w.return=m,w;case Wr:return y=Yl(y,m.mode,w),y.return=m,y;case An:var _=y._init;return f(m,_(y._payload),w)}if(Gi(y)||Pi(y))return y=_r(y,m.mode,w,null),y.return=m,y;pa(m,y)}return null}function h(m,y,w,_){var k=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:s(m,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ra:return w.key===k?l(m,y,w,_):null;case Wr:return w.key===k?c(m,y,w,_):null;case An:return k=w._init,h(m,y,k(w._payload),_)}if(Gi(w)||Pi(w))return k!==null?null:d(m,y,w,_,null);pa(m,w)}return null}function p(m,y,w,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(w)||null,s(y,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ra:return m=m.get(_.key===null?w:_.key)||null,l(y,m,_,k);case Wr:return m=m.get(_.key===null?w:_.key)||null,c(y,m,_,k);case An:var E=_._init;return p(m,y,w,E(_._payload),k)}if(Gi(_)||Pi(_))return m=m.get(w)||null,d(y,m,_,k,null);pa(y,_)}return null}function v(m,y,w,_){for(var k=null,E=null,b=y,C=y=0,P=null;b!==null&&C<w.length;C++){b.index>C?(P=b,b=null):P=b.sibling;var T=h(m,b,w[C],_);if(T===null){b===null&&(b=P);break}e&&b&&T.alternate===null&&t(m,b),y=o(T,y,C),E===null?k=T:E.sibling=T,E=T,b=P}if(C===w.length)return n(m,b),xe&&dr(m,C),k;if(b===null){for(;C<w.length;C++)b=f(m,w[C],_),b!==null&&(y=o(b,y,C),E===null?k=b:E.sibling=b,E=b);return xe&&dr(m,C),k}for(b=r(m,b);C<w.length;C++)P=p(b,m,C,w[C],_),P!==null&&(e&&P.alternate!==null&&b.delete(P.key===null?C:P.key),y=o(P,y,C),E===null?k=P:E.sibling=P,E=P);return e&&b.forEach(function(A){return t(m,A)}),xe&&dr(m,C),k}function g(m,y,w,_){var k=Pi(w);if(typeof k!="function")throw Error(D(150));if(w=k.call(w),w==null)throw Error(D(151));for(var E=k=null,b=y,C=y=0,P=null,T=w.next();b!==null&&!T.done;C++,T=w.next()){b.index>C?(P=b,b=null):P=b.sibling;var A=h(m,b,T.value,_);if(A===null){b===null&&(b=P);break}e&&b&&A.alternate===null&&t(m,b),y=o(A,y,C),E===null?k=A:E.sibling=A,E=A,b=P}if(T.done)return n(m,b),xe&&dr(m,C),k;if(b===null){for(;!T.done;C++,T=w.next())T=f(m,T.value,_),T!==null&&(y=o(T,y,C),E===null?k=T:E.sibling=T,E=T);return xe&&dr(m,C),k}for(b=r(m,b);!T.done;C++,T=w.next())T=p(b,m,C,T.value,_),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?C:T.key),y=o(T,y,C),E===null?k=T:E.sibling=T,E=T);return e&&b.forEach(function(L){return t(m,L)}),xe&&dr(m,C),k}function x(m,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Hr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ra:e:{for(var k=w.key,E=y;E!==null;){if(E.key===k){if(k=w.type,k===Hr){if(E.tag===7){n(m,E.sibling),y=i(E,w.props.children),y.return=m,m=y;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===An&&Mv(k)===E.type){n(m,E.sibling),y=i(E,w.props),y.ref=Oi(m,E,w),y.return=m,m=y;break e}n(m,E);break}else t(m,E);E=E.sibling}w.type===Hr?(y=_r(w.props.children,m.mode,_,w.key),y.return=m,m=y):(_=$a(w.type,w.key,w.props,null,m.mode,_),_.ref=Oi(m,y,w),_.return=m,m=_)}return a(m);case Wr:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Yl(w,m.mode,_),y.return=m,m=y}return a(m);case An:return E=w._init,x(m,y,E(w._payload),_)}if(Gi(w))return v(m,y,w,_);if(Pi(w))return g(m,y,w,_);pa(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,w),y.return=m,m=y):(n(m,y),y=Kl(w,m.mode,_),y.return=m,m=y),a(m)):n(m,y)}return x}var hi=fS(!0),hS=fS(!1),as=or(null),ss=null,Zr=null,Lg=null;function zg(){Lg=Zr=ss=null}function qg(e){var t=as.current;ve(as),e._currentValue=t}function Np(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ai(e,t){ss=e,Lg=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Lg!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(ss===null)throw Error(D(308));Zr=e,ss.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var gr=null;function Og(e){gr===null?gr=[e]:gr.push(e)}function pS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Og(t)):(n.next=i.next,i.next=n),t.interleaved=n,bn(e,r)}function bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ln=!1;function Dg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bn(e,n)}return i=r.interleaved,i===null?(t.next=t,Og(r)):(t.next=i.next,i.next=t),r.interleaved=t,bn(e,n)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cg(e,n)}}function Nv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,r){var i=e.updateQueue;Ln=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,g=s;switch(h=t,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Ce({},f,h);break e;case 2:Ln=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);jr|=a,e.lanes=a,e.memoizedState=f}}function Pv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var $o={},tn=or($o),ko=or($o),jo=or($o);function mr(e){if(e===$o)throw Error(D(174));return e}function Bg(e,t){switch(ge(jo,t),ge(ko,e),ge(tn,$o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fp(t,e)}ve(tn),ge(tn,t)}function pi(){ve(tn),ve(ko),ve(jo)}function mS(e){mr(jo.current);var t=mr(tn.current),n=fp(t,e.type);t!==n&&(ge(ko,e),ge(tn,n))}function Fg(e){ko.current===e&&(ve(tn),ve(ko))}var be=or(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function $g(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var qa=jn.ReactCurrentDispatcher,Ul=jn.ReactCurrentBatchConfig,kr=0,Se=null,Le=null,qe=null,cs=!1,lo=!1,Eo=0,mE=0;function Ge(){throw Error(D(321))}function Ug(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Wg(e,t,n,r,i,o){if(kr=o,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?_E:wE,e=n(r,i),lo){o=0;do{if(lo=!1,Eo=0,25<=o)throw Error(D(301));o+=1,qe=Le=null,t.updateQueue=null,qa.current=bE,e=n(r,i)}while(lo)}if(qa.current=ds,t=Le!==null&&Le.next!==null,kr=0,qe=Le=Se=null,cs=!1,t)throw Error(D(300));return e}function Hg(){var e=Eo!==0;return Eo=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Se.memoizedState=qe=e:qe=qe.next=e,qe}function Mt(){if(Le===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=qe===null?Se.memoizedState:qe.next;if(t!==null)qe=t,Le=e;else{if(e===null)throw Error(D(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},qe===null?Se.memoizedState=qe=e:qe=qe.next=e}return qe}function To(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=Mt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Le,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((kr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Se.lanes|=d,jr|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Ut(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Se.lanes|=o,jr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hl(e){var t=Mt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ut(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vS(){}function yS(e,t){var n=Se,r=Mt(),i=t(),o=!Ut(r.memoizedState,i);if(o&&(r.memoizedState=i,st=!0),r=r.queue,Gg(wS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Ro(9,_S.bind(null,n,r,i,t),void 0,null),De===null)throw Error(D(349));kr&30||xS(n,t,i)}return i}function xS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _S(e,t,n,r){t.value=n,t.getSnapshot=r,bS(t)&&SS(e)}function wS(e,t,n){return n(function(){bS(t)&&SS(e)})}function bS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function SS(e){var t=bn(e,1);t!==null&&$t(t,e,1,-1)}function Av(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=xE.bind(null,Se,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CS(){return Mt().memoizedState}function Oa(e,t,n,r){var i=Xt();Se.flags|=e,i.memoizedState=Ro(1|t,n,void 0,r===void 0?null:r)}function qs(e,t,n,r){var i=Mt();r=r===void 0?null:r;var o=void 0;if(Le!==null){var a=Le.memoizedState;if(o=a.destroy,r!==null&&Ug(r,a.deps)){i.memoizedState=Ro(t,n,o,r);return}}Se.flags|=e,i.memoizedState=Ro(1|t,n,o,r)}function Lv(e,t){return Oa(8390656,8,e,t)}function Gg(e,t){return qs(2048,8,e,t)}function kS(e,t){return qs(4,2,e,t)}function jS(e,t){return qs(4,4,e,t)}function ES(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TS(e,t,n){return n=n!=null?n.concat([e]):null,qs(4,4,ES.bind(null,t,e),n)}function Vg(){}function RS(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ug(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function IS(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ug(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function MS(e,t,n){return kr&21?(Ut(n,t)||(n=zb(),Se.lanes|=n,jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function vE(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=Ul.transition;Ul.transition={};try{e(!1),t()}finally{de=n,Ul.transition=r}}function NS(){return Mt().memoizedState}function yE(e,t,n){var r=Qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PS(e))AS(t,n);else if(n=pS(e,t,n,r),n!==null){var i=nt();$t(n,e,r,i),LS(n,t,r)}}function xE(e,t,n){var r=Qn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PS(e))AS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ut(s,a)){var l=t.interleaved;l===null?(i.next=i,Og(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=pS(e,t,i,r),n!==null&&(i=nt(),$t(n,e,r,i),LS(n,t,r))}}function PS(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function AS(e,t){lo=cs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function LS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cg(e,n)}}var ds={readContext:It,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},_E={readContext:It,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Lv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4194308,4,ES.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yE.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Av,useDebugValue:Vg,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Av(!1),t=e[0];return e=vE.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,i=Xt();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),De===null)throw Error(D(349));kr&30||xS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lv(wS.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,_S.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xt(),t=De.identifierPrefix;if(xe){var n=gn,r=pn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Eo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wE={readContext:It,useCallback:RS,useContext:It,useEffect:Gg,useImperativeHandle:TS,useInsertionEffect:kS,useLayoutEffect:jS,useMemo:IS,useReducer:Wl,useRef:CS,useState:function(){return Wl(To)},useDebugValue:Vg,useDeferredValue:function(e){var t=Mt();return MS(t,Le.memoizedState,e)},useTransition:function(){var e=Wl(To)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:vS,useSyncExternalStore:yS,useId:NS,unstable_isNewReconciler:!1},bE={readContext:It,useCallback:RS,useContext:It,useEffect:Gg,useImperativeHandle:TS,useInsertionEffect:kS,useLayoutEffect:jS,useMemo:IS,useReducer:Hl,useRef:CS,useState:function(){return Hl(To)},useDebugValue:Vg,useDeferredValue:function(e){var t=Mt();return Le===null?t.memoizedState=e:MS(t,Le.memoizedState,e)},useTransition:function(){var e=Hl(To)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:vS,useSyncExternalStore:yS,useId:NS,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Os={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),i=Qn(e),o=xn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&($t(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),i=Qn(e),o=xn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&($t(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Qn(e),i=xn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&($t(t,e,r,n),za(t,e,r))}};function zv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!wo(n,r)||!wo(i,o):!0}function zS(e,t,n){var r=!1,i=tr,o=t.contextType;return typeof o=="object"&&o!==null?o=It(o):(i=ct(t)?Sr:Qe.current,r=t.contextTypes,o=(r=r!=null)?di(e,i):tr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Os,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Os.enqueueReplaceState(t,t.state,null)}function Ap(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Dg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=It(o):(o=ct(t)?Sr:Qe.current,i.context=di(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Os.enqueueReplaceState(i,i.state,null),ls(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gi(e,t){try{var n="",r=t;do n+=Qk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SE=typeof WeakMap=="function"?WeakMap:Map;function qS(e,t,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hs||(hs=!0,Hp=r),Lp(e,t)},n}function OS(e,t,n){n=xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Lp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Lp(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ov(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new SE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qE.bind(null,e,t,n),t.then(e,e))}function Dv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var CE=jn.ReactCurrentOwner,st=!1;function et(e,t,n,r){t.child=e===null?hS(t,null,n,r):hi(t,e.child,n,r)}function Fv(e,t,n,r,i){n=n.render;var o=t.ref;return ai(t,i),r=Wg(e,t,n,r,o,i),n=Hg(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(xe&&n&&Ng(t),t.flags|=1,et(e,t,r,i),t.child)}function $v(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!tm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,DS(e,t,o,r,i)):(e=$a(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(a,r)&&e.ref===t.ref)return Sn(e,t,i)}return t.flags|=1,e=Xn(o,r),e.ref=t.ref,e.return=t,t.child=e}function DS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(wo(o,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,Sn(e,t,i)}return zp(e,t,n,r,i)}function BS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ti,mt),mt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ti,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ge(ti,mt),mt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ge(ti,mt),mt|=r;return et(e,t,i,n),t.child}function FS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zp(e,t,n,r,i){var o=ct(n)?Sr:Qe.current;return o=di(t,o),ai(t,i),n=Wg(e,t,n,r,o,i),r=Hg(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(xe&&r&&Ng(t),t.flags|=1,et(e,t,n,i),t.child)}function Uv(e,t,n,r,i){if(ct(n)){var o=!0;rs(t)}else o=!1;if(ai(t,i),t.stateNode===null)Da(e,t),zS(t,n,r),Ap(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=It(c):(c=ct(n)?Sr:Qe.current,c=di(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&qv(t,a,r,c),Ln=!1;var h=t.memoizedState;a.state=h,ls(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ut.current||Ln?(typeof d=="function"&&(Pp(t,n,d,r),l=t.memoizedState),(s=Ln||zv(t,n,s,r,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,gS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:qt(t.type,s),a.props=c,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=It(l):(l=ct(n)?Sr:Qe.current,l=di(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&qv(t,a,r,l),Ln=!1,h=t.memoizedState,a.state=h,ls(t,r,a,i);var v=t.memoizedState;s!==f||h!==v||ut.current||Ln?(typeof p=="function"&&(Pp(t,n,p,r),v=t.memoizedState),(c=Ln||zv(t,n,c,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return qp(e,t,n,r,o,i)}function qp(e,t,n,r,i,o){FS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Tv(t,n,!1),Sn(e,t,o);r=t.stateNode,CE.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,s,o)):et(e,t,s,o),t.memoizedState=r.state,i&&Tv(t,n,!0),t.child}function $S(e){var t=e.stateNode;t.pendingContext?Ev(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ev(e,t.context,!1),Bg(e,t.containerInfo)}function Wv(e,t,n,r,i){return fi(),Ag(i),t.flags|=256,et(e,t,n,r),t.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Dp(e){return{baseLanes:e,cachePool:null,transitions:null}}function US(e,t,n){var r=t.pendingProps,i=be.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(be,i&1),e===null)return Mp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Fs(a,r,0,null),e=_r(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dp(n),t.memoizedState=Op,e):Kg(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return kE(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Xn(s,o):(o=_r(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Dp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Op,r}return o=e.child,e=o.sibling,r=Xn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kg(e,t){return t=Fs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ga(e,t,n,r){return r!==null&&Ag(r),hi(t,e.child,null,n),e=Kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kE(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Gl(Error(D(422))),ga(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fs({mode:"visible",children:r.children},i,0,null),o=_r(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hi(t,e.child,null,a),t.child.memoizedState=Dp(a),t.memoizedState=Op,o);if(!(t.mode&1))return ga(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(D(419)),r=Gl(o,r,void 0),ga(e,t,a,r)}if(s=(a&e.childLanes)!==0,st||s){if(r=De,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bn(e,i),$t(r,e,i,-1))}return em(),r=Gl(Error(D(421))),ga(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=OE.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,yt=Vn(i.nextSibling),xt=t,xe=!0,Dt=null,e!==null&&(jt[Et++]=pn,jt[Et++]=gn,jt[Et++]=Cr,pn=e.id,gn=e.overflow,Cr=t),t=Kg(t,r.children),t.flags|=4096,t)}function Hv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Np(e.return,t,n)}function Vl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function WS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(et(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hv(e,n,t);else if(e.tag===19)Hv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&us(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&us(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vl(t,!0,n,null,o);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Da(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jE(e,t,n){switch(t.tag){case 3:$S(t),fi();break;case 5:mS(t);break;case 1:ct(t.type)&&rs(t);break;case 4:Bg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ge(as,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?US(e,t,n):(ge(be,be.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);ge(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,BS(e,t,n)}return Sn(e,t,n)}var HS,Bp,GS,VS;HS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};GS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mr(tn.current);var o=null;switch(n){case"input":i=lp(e,i),r=lp(e,r),o=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),o=[];break;case"textarea":i=dp(e,i),r=dp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ts)}hp(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(po.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(po.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};VS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Di(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EE(e,t,n){var r=t.pendingProps;switch(Pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return ct(t.type)&&ns(),Ve(t),null;case 3:return r=t.stateNode,pi(),ve(ut),ve(Qe),$g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Kp(Dt),Dt=null))),Bp(e,t),Ve(t),null;case 5:Fg(t);var i=mr(jo.current);if(n=t.type,e!==null&&t.stateNode!=null)GS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Ve(t),null}if(e=mr(tn.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jt]=t,r[Co]=o,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Ki.length;i++)me(Ki[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":ev(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":nv(r,o),me("invalid",r)}hp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&fa(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&fa(r.textContent,s,e),i=["children",""+s]):po.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&me("scroll",r)}switch(n){case"input":ia(r),tv(r,o,!0);break;case"textarea":ia(r),rv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ts)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Jt]=t,e[Co]=r,HS(e,t,!1,!1),t.stateNode=e;e:{switch(a=pp(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ki.length;i++)me(Ki[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":ev(e,r),i=lp(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),me("invalid",e);break;case"textarea":nv(e,r),i=dp(e,r),me("invalid",e);break;default:i=r}hp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Cb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&go(e,l):typeof l=="number"&&go(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(po.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",e):l!=null&&yg(e,o,l,a))}switch(n){case"input":ia(e),tv(e,r,!1);break;case"textarea":ia(e),rv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ni(e,!!r.multiple,o,!1):r.defaultValue!=null&&ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)VS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=mr(jo.current),mr(tn.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(o=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:fa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return Ve(t),null;case 13:if(ve(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&yt!==null&&t.mode&1&&!(t.flags&128))dS(),fi(),t.flags|=98560,o=!1;else if(o=ha(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Jt]=t}else fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else Dt!==null&&(Kp(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?ze===0&&(ze=3):em())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return pi(),Bp(e,t),e===null&&bo(t.stateNode.containerInfo),Ve(t),null;case 10:return qg(t.type._context),Ve(t),null;case 17:return ct(t.type)&&ns(),Ve(t),null;case 19:if(ve(be),o=t.memoizedState,o===null)return Ve(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Di(o,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=us(e),a!==null){for(t.flags|=128,Di(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>mi&&(t.flags|=128,r=!0,Di(o,!1),t.lanes=4194304)}else{if(!r)if(e=us(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Di(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!xe)return Ve(t),null}else 2*Ie()-o.renderingStartTime>mi&&n!==1073741824&&(t.flags|=128,r=!0,Di(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,n=be.current,ge(be,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return Zg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function TE(e,t){switch(Pg(t),t.tag){case 1:return ct(t.type)&&ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(),ve(ut),ve(Qe),$g(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fg(t),null;case 13:if(ve(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(be),null;case 4:return pi(),null;case 10:return qg(t.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var ma=!1,Ke=!1,RE=typeof WeakSet=="function"?WeakSet:Set,G=null;function ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Fp(e,t,n){try{n()}catch(r){je(e,t,r)}}var Gv=!1;function IE(e,t){if(Cp=Ja,e=Jb(),Mg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=a),h===o&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kp={focusedElem:e,selectionRange:n},Ja=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:qt(t.type,g),x);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(_){je(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return v=Gv,Gv=!1,v}function uo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fp(t,n,o)}i=i.next}while(i!==r)}}function Ds(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $p(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function KS(e){var t=e.alternate;t!==null&&(e.alternate=null,KS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Co],delete t[Tp],delete t[fE],delete t[hE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YS(e){return e.tag===5||e.tag===3||e.tag===4}function Vv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ts));else if(r!==4&&(e=e.child,e!==null))for(Up(e,t,n),e=e.sibling;e!==null;)Up(e,t,n),e=e.sibling}function Wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wp(e,t,n),e=e.sibling;e!==null;)Wp(e,t,n),e=e.sibling}var $e=null,Ot=!1;function In(e,t,n){for(n=n.child;n!==null;)QS(e,t,n),n=n.sibling}function QS(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ms,n)}catch{}switch(n.tag){case 5:Ke||ei(n,t);case 6:var r=$e,i=Ot;$e=null,In(e,t,n),$e=r,Ot=i,$e!==null&&(Ot?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ot?(e=$e,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),xo(e)):Bl($e,n.stateNode));break;case 4:r=$e,i=Ot,$e=n.stateNode.containerInfo,Ot=!0,In(e,t,n),$e=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Fp(n,t,a),i=i.next}while(i!==r)}In(e,t,n);break;case 1:if(!Ke&&(ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){je(n,t,s)}In(e,t,n);break;case 21:In(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,In(e,t,n),Ke=r):In(e,t,n);break;default:In(e,t,n)}}function Kv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new RE),t.forEach(function(r){var i=DE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:$e=s.stateNode,Ot=!1;break e;case 3:$e=s.stateNode.containerInfo,Ot=!0;break e;case 4:$e=s.stateNode.containerInfo,Ot=!0;break e}s=s.return}if($e===null)throw Error(D(160));QS(o,a,i),$e=null,Ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){je(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)XS(t,e),t=t.sibling}function XS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Yt(e),r&4){try{uo(3,e,e.return),Ds(3,e)}catch(g){je(e,e.return,g)}try{uo(5,e,e.return)}catch(g){je(e,e.return,g)}}break;case 1:zt(t,e),Yt(e),r&512&&n!==null&&ei(n,n.return);break;case 5:if(zt(t,e),Yt(e),r&512&&n!==null&&ei(n,n.return),e.flags&32){var i=e.stateNode;try{go(i,"")}catch(g){je(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&xb(i,o),pp(s,a);var c=pp(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Cb(i,f):d==="dangerouslySetInnerHTML"?bb(i,f):d==="children"?go(i,f):yg(i,d,f,c)}switch(s){case"input":up(i,o);break;case"textarea":_b(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ni(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ni(i,!!o.multiple,o.defaultValue,!0):ni(i,!!o.multiple,o.multiple?[]:"",!1))}i[Co]=o}catch(g){je(e,e.return,g)}}break;case 6:if(zt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){je(e,e.return,g)}}break;case 3:if(zt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(g){je(e,e.return,g)}break;case 4:zt(t,e),Yt(e);break;case 13:zt(t,e),Yt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xg=Ie())),r&4&&Kv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(c=Ke)||d,zt(t,e),Ke=c):zt(t,e),Yt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:uo(4,h,h.return);break;case 1:ei(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){je(r,n,g)}}break;case 5:ei(h,h.return);break;case 22:if(h.memoizedState!==null){Qv(f);continue}}p!==null?(p.return=h,G=p):Qv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Sb("display",a))}catch(g){je(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){je(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),Yt(e),r&4&&Kv(e);break;case 21:break;default:zt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YS(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(go(i,""),r.flags&=-33);var o=Vv(e);Wp(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Vv(e);Up(e,s,a);break;default:throw Error(D(161))}}catch(l){je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ME(e,t,n){G=e,JS(e)}function JS(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ma;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ke;s=ma;var c=Ke;if(ma=a,(Ke=l)&&!c)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?Xv(i):l!==null?(l.return=a,G=l):Xv(i);for(;o!==null;)G=o,JS(o),o=o.sibling;G=i,ma=s,Ke=c}Yv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):Yv(e)}}function Yv(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Ds(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pv(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pv(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ke||t.flags&512&&$p(t)}catch(h){je(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Qv(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Xv(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ds(4,t)}catch(l){je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){je(t,i,l)}}var o=t.return;try{$p(t)}catch(l){je(t,o,l)}break;case 5:var a=t.return;try{$p(t)}catch(l){je(t,a,l)}}}catch(l){je(t,t.return,l)}if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}var NE=Math.ceil,fs=jn.ReactCurrentDispatcher,Yg=jn.ReactCurrentOwner,Rt=jn.ReactCurrentBatchConfig,ae=0,De=null,Pe=null,Ue=0,mt=0,ti=or(0),ze=0,Io=null,jr=0,Bs=0,Qg=0,co=null,at=null,Xg=0,mi=1/0,dn=null,hs=!1,Hp=null,Yn=null,va=!1,Fn=null,ps=0,fo=0,Gp=null,Ba=-1,Fa=0;function nt(){return ae&6?Ie():Ba!==-1?Ba:Ba=Ie()}function Qn(e){return e.mode&1?ae&2&&Ue!==0?Ue&-Ue:gE.transition!==null?(Fa===0&&(Fa=zb()),Fa):(e=de,e!==0||(e=window.event,e=e===void 0?16:Ub(e.type)),e):1}function $t(e,t,n,r){if(50<fo)throw fo=0,Gp=null,Error(D(185));Do(e,n,r),(!(ae&2)||e!==De)&&(e===De&&(!(ae&2)&&(Bs|=n),ze===4&&On(e,Ue)),dt(e,r),n===1&&ae===0&&!(t.mode&1)&&(mi=Ie()+500,zs&&ar()))}function dt(e,t){var n=e.callbackNode;gj(e,t);var r=Xa(e,e===De?Ue:0);if(r===0)n!==null&&av(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&av(n),t===1)e.tag===0?pE(Jv.bind(null,e)):lS(Jv.bind(null,e)),cE(function(){!(ae&6)&&ar()}),n=null;else{switch(qb(r)){case 1:n=Sg;break;case 4:n=Ab;break;case 16:n=Qa;break;case 536870912:n=Lb;break;default:n=Qa}n=a2(n,ZS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ZS(e,t){if(Ba=-1,Fa=0,ae&6)throw Error(D(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=Xa(e,e===De?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gs(e,r);else{t=r;var i=ae;ae|=2;var o=t2();(De!==e||Ue!==t)&&(dn=null,mi=Ie()+500,xr(e,t));do try{LE();break}catch(s){e2(e,s)}while(!0);zg(),fs.current=o,ae=i,Pe!==null?t=0:(De=null,Ue=0,t=ze)}if(t!==0){if(t===2&&(i=xp(e),i!==0&&(r=i,t=Vp(e,i))),t===1)throw n=Io,xr(e,0),On(e,r),dt(e,Ie()),n;if(t===6)On(e,r);else{if(i=e.current.alternate,!(r&30)&&!PE(i)&&(t=gs(e,r),t===2&&(o=xp(e),o!==0&&(r=o,t=Vp(e,o))),t===1))throw n=Io,xr(e,0),On(e,r),dt(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:fr(e,at,dn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=Xg+500-Ie(),10<t)){if(Xa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ep(fr.bind(null,e,at,dn),t);break}fr(e,at,dn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ft(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NE(r/1960))-r,10<r){e.timeoutHandle=Ep(fr.bind(null,e,at,dn),r);break}fr(e,at,dn);break;case 5:fr(e,at,dn);break;default:throw Error(D(329))}}}return dt(e,Ie()),e.callbackNode===n?ZS.bind(null,e):null}function Vp(e,t){var n=co;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=gs(e,t),e!==2&&(t=at,at=n,t!==null&&Kp(t)),e}function Kp(e){at===null?at=e:at.push.apply(at,e)}function PE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ut(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~Qg,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Jv(e){if(ae&6)throw Error(D(327));si();var t=Xa(e,0);if(!(t&1))return dt(e,Ie()),null;var n=gs(e,t);if(e.tag!==0&&n===2){var r=xp(e);r!==0&&(t=r,n=Vp(e,r))}if(n===1)throw n=Io,xr(e,0),On(e,t),dt(e,Ie()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,at,dn),dt(e,Ie()),null}function Jg(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(mi=Ie()+500,zs&&ar())}}function Er(e){Fn!==null&&Fn.tag===0&&!(ae&6)&&si();var t=ae;ae|=1;var n=Rt.transition,r=de;try{if(Rt.transition=null,de=1,e)return e()}finally{de=r,Rt.transition=n,ae=t,!(ae&6)&&ar()}}function Zg(){mt=ti.current,ve(ti)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uE(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:pi(),ve(ut),ve(Qe),$g();break;case 5:Fg(r);break;case 4:pi();break;case 13:ve(be);break;case 19:ve(be);break;case 10:qg(r.type._context);break;case 22:case 23:Zg()}n=n.return}if(De=e,Pe=e=Xn(e.current,null),Ue=mt=t,ze=0,Io=null,Qg=Bs=jr=0,at=co=null,gr!==null){for(t=0;t<gr.length;t++)if(n=gr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}gr=null}return e}function e2(e,t){do{var n=Pe;try{if(zg(),qa.current=ds,cs){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cs=!1}if(kr=0,qe=Le=Se=null,lo=!1,Eo=0,Yg.current=null,n===null||n.return===null){ze=1,Io=t,Pe=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ue,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Dv(a);if(p!==null){p.flags&=-257,Bv(p,a,s,o,t),p.mode&1&&Ov(o,c,t),t=p,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Ov(o,c,t),em();break e}l=Error(D(426))}}else if(xe&&s.mode&1){var x=Dv(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bv(x,a,s,o,t),Ag(gi(l,s));break e}}o=l=gi(l,s),ze!==4&&(ze=2),co===null?co=[o]:co.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=qS(o,l,t);Nv(o,m);break e;case 1:s=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yn===null||!Yn.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=OS(o,s,t);Nv(o,_);break e}}o=o.return}while(o!==null)}r2(n)}catch(k){t=k,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function t2(){var e=fs.current;return fs.current=ds,e===null?ds:e}function em(){(ze===0||ze===3||ze===2)&&(ze=4),De===null||!(jr&268435455)&&!(Bs&268435455)||On(De,Ue)}function gs(e,t){var n=ae;ae|=2;var r=t2();(De!==e||Ue!==t)&&(dn=null,xr(e,t));do try{AE();break}catch(i){e2(e,i)}while(!0);if(zg(),ae=n,fs.current=r,Pe!==null)throw Error(D(261));return De=null,Ue=0,ze}function AE(){for(;Pe!==null;)n2(Pe)}function LE(){for(;Pe!==null&&!aj();)n2(Pe)}function n2(e){var t=o2(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?r2(e):Pe=t,Yg.current=null}function r2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TE(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Pe=null;return}}else if(n=EE(n,t,mt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);ze===0&&(ze=5)}function fr(e,t,n){var r=de,i=Rt.transition;try{Rt.transition=null,de=1,zE(e,t,n,r)}finally{Rt.transition=i,de=r}return null}function zE(e,t,n,r){do si();while(Fn!==null);if(ae&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mj(e,o),e===De&&(Pe=De=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||va||(va=!0,a2(Qa,function(){return si(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var a=de;de=1;var s=ae;ae|=4,Yg.current=null,IE(e,n),XS(n,e),nE(kp),Ja=!!Cp,kp=Cp=null,e.current=n,ME(n),sj(),ae=s,de=a,Rt.transition=o}else e.current=n;if(va&&(va=!1,Fn=e,ps=i),o=e.pendingLanes,o===0&&(Yn=null),cj(n.stateNode),dt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hs)throw hs=!1,e=Hp,Hp=null,e;return ps&1&&e.tag!==0&&si(),o=e.pendingLanes,o&1?e===Gp?fo++:(fo=0,Gp=e):fo=0,ar(),null}function si(){if(Fn!==null){var e=qb(ps),t=Rt.transition,n=de;try{if(Rt.transition=null,de=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,ps=0,ae&6)throw Error(D(331));var i=ae;for(ae|=4,G=e.current;G!==null;){var o=G,a=o.child;if(G.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:uo(8,d,o)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var h=d.sibling,p=d.return;if(KS(d),d===c){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}G=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,G=a;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:uo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,G=m;break e}G=o.return}}var y=e.current;for(G=y;G!==null;){a=G;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,G=w;else e:for(a=y;G!==null;){if(s=G,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ds(9,s)}}catch(k){je(s,s.return,k)}if(s===a){G=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,G=_;break e}G=s.return}}if(ae=i,ar(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ms,e)}catch{}r=!0}return r}finally{de=n,Rt.transition=t}}return!1}function Zv(e,t,n){t=gi(n,t),t=qS(e,t,1),e=Kn(e,t,1),t=nt(),e!==null&&(Do(e,1,t),dt(e,t))}function je(e,t,n){if(e.tag===3)Zv(e,e,n);else for(;t!==null;){if(t.tag===3){Zv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=gi(n,e),e=OS(t,e,1),t=Kn(t,e,1),e=nt(),t!==null&&(Do(t,1,e),dt(t,e));break}}t=t.return}}function qE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ue&n)===n&&(ze===4||ze===3&&(Ue&130023424)===Ue&&500>Ie()-Xg?xr(e,0):Qg|=n),dt(e,t)}function i2(e,t){t===0&&(e.mode&1?(t=sa,sa<<=1,!(sa&130023424)&&(sa=4194304)):t=1);var n=nt();e=bn(e,t),e!==null&&(Do(e,t,n),dt(e,n))}function OE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),i2(e,n)}function DE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),i2(e,n)}var o2;o2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,jE(e,t,n);st=!!(e.flags&131072)}else st=!1,xe&&t.flags&1048576&&uS(t,os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Da(e,t),e=t.pendingProps;var i=di(t,Qe.current);ai(t,n),i=Wg(null,t,r,e,i,n);var o=Hg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(o=!0,rs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dg(t),i.updater=Os,t.stateNode=i,i._reactInternals=t,Ap(t,r,e,n),t=qp(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Ng(t),et(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Da(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FE(r),e=qt(r,e),i){case 0:t=zp(null,t,r,e,n);break e;case 1:t=Uv(null,t,r,e,n);break e;case 11:t=Fv(null,t,r,e,n);break e;case 14:t=$v(null,t,r,qt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),zp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Uv(e,t,r,i,n);case 3:e:{if($S(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,i=o.element,gS(e,t),ls(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=gi(Error(D(423)),t),t=Wv(e,t,r,n,i);break e}else if(r!==i){i=gi(Error(D(424)),t),t=Wv(e,t,r,n,i);break e}else for(yt=Vn(t.stateNode.containerInfo.firstChild),xt=t,xe=!0,Dt=null,n=hS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fi(),r===i){t=Sn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return mS(t),e===null&&Mp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,jp(r,i)?a=null:o!==null&&jp(r,o)&&(t.flags|=32),FS(e,t),et(e,t,a,n),t.child;case 6:return e===null&&Mp(t),null;case 13:return US(e,t,n);case 4:return Bg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Fv(e,t,r,i,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ge(as,r._currentValue),r._currentValue=a,o!==null)if(Ut(o.value,a)){if(o.children===i.children&&!ut.current){t=Sn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Np(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(D(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Np(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}et(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ai(t,n),i=It(i),r=r(i),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),$v(e,t,r,i,n);case 15:return DS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Da(e,t),t.tag=1,ct(r)?(e=!0,rs(t)):e=!1,ai(t,n),zS(t,r,i),Ap(t,r,i,n),qp(null,t,r,!0,e,n);case 19:return WS(e,t,n);case 22:return BS(e,t,n)}throw Error(D(156,t.tag))};function a2(e,t){return Pb(e,t)}function BE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new BE(e,t,n,r)}function tm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FE(e){if(typeof e=="function")return tm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_g)return 11;if(e===wg)return 14}return 2}function Xn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $a(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")tm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hr:return _r(n.children,i,o,t);case xg:a=8,i|=8;break;case ip:return e=Tt(12,n,t,i|2),e.elementType=ip,e.lanes=o,e;case op:return e=Tt(13,n,t,i),e.elementType=op,e.lanes=o,e;case ap:return e=Tt(19,n,t,i),e.elementType=ap,e.lanes=o,e;case mb:return Fs(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pb:a=10;break e;case gb:a=9;break e;case _g:a=11;break e;case wg:a=14;break e;case An:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Tt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function _r(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Fs(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=mb,e.lanes=n,e.stateNode={isHidden:!1},e}function Kl(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Yl(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $E(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nm(e,t,n,r,i,o,a,s,l){return e=new $E(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Tt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(o),e}function UE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s2(e){if(!e)return tr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(ct(n))return sS(e,n,t)}return t}function l2(e,t,n,r,i,o,a,s,l){return e=nm(n,r,!0,e,i,o,a,s,l),e.context=s2(null),n=e.current,r=nt(),i=Qn(n),o=xn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,Do(e,i,r),dt(e,r),e}function $s(e,t,n,r){var i=t.current,o=nt(),a=Qn(i);return n=s2(n),t.context===null?t.context=n:t.pendingContext=n,t=xn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,a),e!==null&&($t(e,i,a,o),za(e,i,a)),a}function ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rm(e,t){ey(e,t),(e=e.alternate)&&ey(e,t)}function WE(){return null}var u2=typeof reportError=="function"?reportError:function(e){console.error(e)};function im(e){this._internalRoot=e}Us.prototype.render=im.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));$s(e,t,null,null)};Us.prototype.unmount=im.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){$s(null,e,null,null)}),t[wn]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qn.length&&t!==0&&t<qn[n].priority;n++);qn.splice(n,0,e),n===0&&$b(e)}};function om(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ty(){}function HE(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ms(a);o.call(c)}}var a=l2(t,r,e,0,null,!1,!1,"",ty);return e._reactRootContainer=a,e[wn]=a.current,bo(e.nodeType===8?e.parentNode:e),Er(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=ms(l);s.call(c)}}var l=nm(e,0,!1,null,null,!1,!1,"",ty);return e._reactRootContainer=l,e[wn]=l.current,bo(e.nodeType===8?e.parentNode:e),Er(function(){$s(t,l,n,r)}),l}function Hs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=ms(a);s.call(l)}}$s(t,a,e,i)}else a=HE(n,t,e,i,r);return ms(a)}Ob=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vi(t.pendingLanes);n!==0&&(Cg(t,n|1),dt(t,Ie()),!(ae&6)&&(mi=Ie()+500,ar()))}break;case 13:Er(function(){var r=bn(e,1);if(r!==null){var i=nt();$t(r,e,1,i)}}),rm(e,1)}};kg=function(e){if(e.tag===13){var t=bn(e,134217728);if(t!==null){var n=nt();$t(t,e,134217728,n)}rm(e,134217728)}};Db=function(e){if(e.tag===13){var t=Qn(e),n=bn(e,t);if(n!==null){var r=nt();$t(n,e,t,r)}rm(e,t)}};Bb=function(){return de};Fb=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};mp=function(e,t,n){switch(t){case"input":if(up(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ls(r);if(!i)throw Error(D(90));yb(r),up(r,i)}}}break;case"textarea":_b(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};Eb=Jg;Tb=Er;var GE={usingClientEntryPoint:!1,Events:[Fo,Yr,Ls,kb,jb,Jg]},Bi={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VE={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mb(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||WE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{Ms=ya.inject(VE),en=ya}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GE;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(t))throw Error(D(200));return UE(e,t,null,n)};bt.createRoot=function(e,t){if(!om(e))throw Error(D(299));var n=!1,r="",i=u2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nm(e,1,!1,null,null,n,!1,r,i),e[wn]=t.current,bo(e.nodeType===8?e.parentNode:e),new im(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Mb(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Er(e)};bt.hydrate=function(e,t,n){if(!Ws(t))throw Error(D(200));return Hs(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!om(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=u2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=l2(t,null,e,1,n??null,i,!1,o,a),e[wn]=t.current,bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Us(t)};bt.render=function(e,t,n){if(!Ws(t))throw Error(D(200));return Hs(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(D(40));return e._reactRootContainer?(Er(function(){Hs(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};bt.unstable_batchedUpdates=Jg;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ws(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Hs(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function c2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c2)}catch(e){console.error(e)}}c2(),cb.exports=bt;var KE=cb.exports,ny=KE;np.createRoot=ny.createRoot,np.hydrateRoot=ny.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo.apply(this,arguments)}var $n;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($n||($n={}));const ry="popstate";function YE(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=Mr(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Yp("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:vs(o))}function r(i,o){Gs(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return XE(t,n,r,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QE(){return Math.random().toString(36).substr(2,8)}function iy(e,t){return{usr:e.state,key:e.key,idx:t}}function Yp(e,t,n,r){return n===void 0&&(n=null),Mo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mr(t):t,{state:n,key:t&&t.key||r||QE()})}function vs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function XE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=$n.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Mo({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=$n.Pop;let x=d(),m=x==null?null:x-c;c=x,l&&l({action:s,location:g.location,delta:m})}function h(x,m){s=$n.Push;let y=Yp(g.location,x,m);n&&n(y,x),c=d()+1;let w=iy(y,c),_=g.createHref(y);try{a.pushState(w,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(_)}o&&l&&l({action:s,location:g.location,delta:1})}function p(x,m){s=$n.Replace;let y=Yp(g.location,x,m);n&&n(y,x),c=d();let w=iy(y,c),_=g.createHref(y);a.replaceState(w,"",_),o&&l&&l({action:s,location:g.location,delta:0})}function v(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:vs(x);return y=y.replace(/ $/,"%20"),Me(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return s},get location(){return e(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ry,f),l=x,()=>{i.removeEventListener(ry,f),l=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(x){return a.go(x)}};return g}var oy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oy||(oy={}));function JE(e,t,n){return n===void 0&&(n="/"),ZE(e,t,n)}function ZE(e,t,n,r){let i=typeof t=="string"?Mr(t):t,o=am(i.pathname||"/",n);if(o==null)return null;let a=d2(e);eT(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=fT(o);s=uT(a[l],c)}return s}function d2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Jn([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Me(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),d2(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:sT(c,o.index),routesMeta:d})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of f2(o.path))i(o,a,l)}),t}function f2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=f2(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function eT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tT=/^:[\w-]+$/,nT=3,rT=2,iT=1,oT=10,aT=-2,ay=e=>e==="*";function sT(e,t){let n=e.split("/"),r=n.length;return n.some(ay)&&(r+=aT),t&&(r+=rT),n.filter(i=>!ay(i)).reduce((i,o)=>i+(tT.test(o)?nT:o===""?iT:oT),r)}function lT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function uT(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=cT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Jn([o,f.pathname]),pathnameBase:vT(Jn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Jn([o,f.pathnameBase]))}return a}function cT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=dT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=s[f];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function dT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function fT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function am(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pT=e=>hT.test(e);function gT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mr(e):e,o;if(n)if(pT(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Gs(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=sy(n.substring(1),"/"):o=sy(n,t)}else o=t;return{pathname:o,search:yT(r),hash:xT(i)}}function sy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ql(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sm(e,t){let n=mT(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mr(e):(i=Mo({},e),Me(!i.pathname||!i.pathname.includes("?"),Ql("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Ql("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Ql("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=gT(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Jn=e=>e.join("/").replace(/\/\/+/g,"/"),vT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _T(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h2=["post","put","patch","delete"];new Set(h2);const wT=["get",...h2];new Set(wT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(this,arguments)}const um=S.createContext(null),bT=S.createContext(null),sr=S.createContext(null),Vs=S.createContext(null),lr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),p2=S.createContext(null);function ST(e,t){let{relative:n}=t===void 0?{}:t;Ci()||Me(!1);let{basename:r,navigator:i}=S.useContext(sr),{hash:o,pathname:a,search:s}=v2(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Jn([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Ci(){return S.useContext(Vs)!=null}function ki(){return Ci()||Me(!1),S.useContext(Vs).location}function g2(e){S.useContext(sr).static||S.useLayoutEffect(e)}function m2(){let{isDataRoute:e}=S.useContext(lr);return e?zT():CT()}function CT(){Ci()||Me(!1);let e=S.useContext(um),{basename:t,future:n,navigator:r}=S.useContext(sr),{matches:i}=S.useContext(lr),{pathname:o}=ki(),a=JSON.stringify(sm(i,n.v7_relativeSplatPath)),s=S.useRef(!1);return g2(()=>{s.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=lm(c,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}function v2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(sr),{matches:i}=S.useContext(lr),{pathname:o}=ki(),a=JSON.stringify(sm(i,r.v7_relativeSplatPath));return S.useMemo(()=>lm(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function kT(e,t){return jT(e,t)}function jT(e,t,n,r){Ci()||Me(!1);let{navigator:i}=S.useContext(sr),{matches:o}=S.useContext(lr),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ki(),d;if(t){var f;let x=typeof t=="string"?Mr(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Me(!1),d=x}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=JE(e,{pathname:p}),g=MT(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:Jn([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Jn([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&g?S.createElement(Vs.Provider,{value:{location:No({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$n.Pop}},g):g}function ET(){let e=LT(),t=_T(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const TT=S.createElement(ET,null);class RT extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(lr.Provider,{value:this.props.routeContext},S.createElement(p2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IT(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(um);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(lr.Provider,{value:t},r)}function MT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Me(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,v=!1,g=null,x=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||TT,l&&(c<0&&h===0?(qT("route-fallback"),v=!0,x=null):c===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,h+1)),y=()=>{let w;return p?w=g:v?w=x:f.route.Component?w=S.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,S.createElement(IT,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(RT,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var y2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y2||{}),x2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x2||{});function NT(e){let t=S.useContext(um);return t||Me(!1),t}function PT(e){let t=S.useContext(bT);return t||Me(!1),t}function AT(e){let t=S.useContext(lr);return t||Me(!1),t}function _2(e){let t=AT(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function LT(){var e;let t=S.useContext(p2),n=PT(),r=_2();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function zT(){let{router:e}=NT(y2.UseNavigateStable),t=_2(x2.UseNavigateStable),n=S.useRef(!1);return g2(()=>{n.current=!0}),S.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,No({fromRouteId:t},o)))},[e,t])}const ly={};function qT(e,t,n){ly[e]||(ly[e]=!0)}function OT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function DT(e){let{to:t,replace:n,state:r,relative:i}=e;Ci()||Me(!1);let{future:o,static:a}=S.useContext(sr),{matches:s}=S.useContext(lr),{pathname:l}=ki(),c=m2(),d=lm(t,sm(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Pn(e){Me(!1)}function BT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=$n.Pop,navigator:o,static:a=!1,future:s}=e;Ci()&&Me(!1);let l=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:o,static:a,future:No({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Mr(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=r,g=S.useMemo(()=>{let x=am(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:v},navigationType:i}},[l,d,f,h,p,v,i]);return g==null?null:S.createElement(sr.Provider,{value:c},S.createElement(Vs.Provider,{children:n,value:g}))}function FT(e){let{children:t,location:n}=e;return kT(Qp(t),n)}new Promise(()=>{});function Qp(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let o=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Qp(r.props.children,o));return}r.type!==Pn&&Me(!1),!r.props.index||!r.props.children||Me(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Qp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xp.apply(this,arguments)}function $T(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function UT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WT(e,t){return e.button===0&&(!t||t==="_self")&&!UT(e)}const HT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GT="6";try{window.__reactRouterVersion=GT}catch{}const VT="startTransition",uy=qk[VT];function KT(e){let{basename:t,children:n,future:r,window:i}=e,o=S.useRef();o.current==null&&(o.current=YE({window:i,v5Compat:!0}));let a=o.current,[s,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&uy?uy(()=>l(f)):l(f)},[l,c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>OT(r),[r]),S.createElement(BT,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XT=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=$T(t,HT),{basename:p}=S.useContext(sr),v,g=!1;if(typeof c=="string"&&QT.test(c)&&(v=c,YT))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=am(_.pathname,p);_.origin===w.origin&&k!=null?c=k+_.search+_.hash:g=!0}catch{}let x=ST(c,{relative:i}),m=JT(c,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||m(w)}return S.createElement("a",Xp({},h,{href:v||x,onClick:g||o?r:y,ref:n,target:l}))});var cy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cy||(cy={}));var dy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));function JT(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,l=m2(),c=ki(),d=v2(e,{relative:a});return S.useCallback(f=>{if(WT(f,n)){f.preventDefault();let h=r!==void 0?r:vs(c)===vs(d);l(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,d,r,i,n,e,o,a,s])}function ZT(e={}){const{graphUrl:t=eR(),gitHistoryUrl:n,roadmapUrl:r,enableSSE:i=!1,sseUrl:o="/api/events",pollInterval:a=0}=e,[s,l]=S.useState(null),[c,d]=S.useState([]),[f,h]=S.useState([]),[p,v]=S.useState(!0),[g,x]=S.useState(null),[m,y]=S.useState(null),w=S.useCallback(async()=>{try{const b=await fetch(t);if(!b.ok)throw new Error(`Failed to fetch graph: ${b.status} ${b.statusText}`);const C=await b.json(),P=C.data??C;if(C.ok===!1&&C.error)throw new Error(C.error);l(P),y(new Date),x(null)}catch(b){const C=b instanceof Error?b.message:"Failed to load graph data";x(C),console.error("Graph fetch error:",b)}},[t]),_=S.useCallback(async()=>{if(n)try{const b=await fetch(n);if(b.ok){const C=await b.json();d(C)}}catch(b){console.warn("Could not load git history:",b)}},[n]),k=S.useCallback(async()=>{if(r)try{const b=await fetch(r);if(b.ok){const C=await b.json(),P=C.data??C;h(P)}}catch(b){console.warn("Could not load roadmap items:",b)}},[r]),E=S.useCallback(async()=>{v(!0),await Promise.all([w(),_(),k()]),v(!1)},[w,_,k]);return S.useEffect(()=>{let b=!0;return(async()=>{v(!0),await Promise.all([w(),_(),k()]),b&&v(!1)})(),()=>{b=!1}},[w,_,k]),S.useEffect(()=>{if(!i)return;let b=null,C=null;const P=()=>{try{b=new EventSource(o),b.onmessage=T=>{(T.data==="refresh"||T.data==="update")&&w()},b.onerror=()=>{b==null||b.close(),C=setTimeout(P,5e3)},b.onopen=()=>{console.log("SSE connected for live updates")}}catch(T){console.warn("SSE not available:",T)}};return P(),()=>{b==null||b.close(),C&&clearTimeout(C)}},[i,o,w]),S.useEffect(()=>{if(a<=0)return;const b=setInterval(()=>{w()},a);return()=>clearInterval(b)},[a,w]),{graphData:s,gitHistory:c,roadmapItems:f,loading:p,error:g,lastUpdated:m,refresh:E}}function eR(){return"./graph-data.json"}const fy=["goal","decision","option","action","outcome","observation"];function nr(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function vi(e){const t=nr(e.metadata_json);return(t==null?void 0:t.confidence)??null}function rn(e){const t=nr(e.metadata_json);return(t==null?void 0:t.commit)??null}function cm(e){const t=nr(e.metadata_json);return(t==null?void 0:t.branch)??null}function tR(e){const t=nr(e.metadata_json);return(t==null?void 0:t.prompt)??null}function nR(e){const t=nr(e.metadata_json);return(t==null?void 0:t.files)??null}function rR(e){const t=new Set;for(const n of e){const r=cm(n);r&&t.add(r)}return Array.from(t).sort()}function Ks(e){return e?e.slice(0,7):null}function iR(e){return e===null?null:e>=70?"high":e>=40?"med":"low"}const dm="notactuallytreyanastasio/deciduous";function w2(e){var t,n;return((n=(t=e==null?void 0:e.config)==null?void 0:t.github)==null?void 0:n.commit_repo)??dm}function fm(e,t=dm){return`https://github.com/${t}/commit/${e}`}function Oe(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}function oR(e,t){const n=new Date(t).getTime()-new Date(e).getTime(),r=Math.floor(n/6e4);if(r<60)return`${r}m`;const i=Math.floor(r/60);return i<24?`${i}h ${r%60}m`:`${Math.floor(i/24)}d ${i%24}h`}const hy=4*60*60*1e3;function aR(e,t){const n=new Map,r=new Map;return e.forEach(i=>{n.set(i.id,[]),r.set(i.id,[])}),t.forEach(i=>{var o,a;(o=n.get(i.from_node_id))==null||o.push({to:i.to_node_id,edge:i}),(a=r.get(i.to_node_id))==null||a.push({from:i.from_node_id,edge:i})}),{outgoing:n,incoming:r}}function sR(e){const{nodes:t,edges:n}=e,{outgoing:r,incoming:i}=aR(t,n),o=new Set,a=[],s=t.filter(c=>{var d;return c.node_type==="goal"||(((d=i.get(c.id))==null?void 0:d.length)??0)===0}).sort((c,d)=>c.node_type==="goal"&&d.node_type!=="goal"?-1:d.node_type==="goal"&&c.node_type!=="goal"?1:new Date(c.created_at).getTime()-new Date(d.created_at).getTime());function l(c){var h,p;if(o.has(c))return null;const d={root:null,nodes:[],edges:[]},f=[c];for(;f.length>0;){const v=f.shift();if(o.has(v))continue;o.add(v);const g=t.find(x=>x.id===v);g&&(d.nodes.push(g),d.root||(d.root=g)),(h=r.get(v))==null||h.forEach(({to:x,edge:m})=>{o.has(x)||(f.push(x),d.edges.push(m))}),(p=i.get(v))==null||p.forEach(({from:x,edge:m})=>{o.has(x)||(f.push(x),d.edges.some(y=>y.id===m.id)||d.edges.push(m))})}return d.nodes.sort((v,g)=>new Date(v.created_at).getTime()-new Date(g.created_at).getTime()),d.nodes.length>0?d:null}return s.forEach(c=>{const d=l(c.id);d&&a.push(d)}),t.forEach(c=>{if(!o.has(c.id)){const d=l(c.id);d&&a.push(d)}}),a.sort((c,d)=>new Date(d.nodes[0].created_at).getTime()-new Date(c.nodes[0].created_at).getTime()),a}function lR(e,t){const n=[...e].sort((o,a)=>new Date(o.created_at).getTime()-new Date(a.created_at).getTime()),r=[];let i=null;return n.forEach(o=>{const a=new Date(o.created_at).getTime();!i||a-i.endTime>hy?(i={startTime:a,endTime:a,nodes:[o],chains:[]},r.push(i)):(i.endTime=a,i.nodes.push(o))}),t.forEach(o=>{const a=new Date(o.nodes[0].created_at).getTime(),s=r.find(l=>a>=l.startTime&&a<=l.endTime+hy);s&&s.chains.push(o)}),r.reverse(),r}function uR(e,t){const{nodes:n,edges:r}=t,i=[],o=new Set;let a=e;for(;a!==null&&!o.has(a);){o.add(a);const s=n.find(c=>c.id===a);s&&i.unshift(s);const l=r.find(c=>c.to_node_id===a);a=l?l.from_node_id:null}return i}function cR(e,t){const n=[],r=new Map(t.map(o=>[o.hash,o])),i=new Map(t.map(o=>[o.short_hash,o]));return e.forEach(o=>{const a=rn(o),s=[];if(a){const l=r.get(a)||i.get(a.slice(0,7));l&&s.push(l)}n.push({type:"node",timestamp:new Date(o.created_at),node:o,linkedCommits:s})}),t.forEach(o=>{const a=e.filter(s=>{const l=rn(s);return l===o.hash||(l==null?void 0:l.slice(0,7))===o.short_hash});n.push({type:"commit",timestamp:new Date(o.date),commit:o,linkedNodes:a})}),n.sort((o,a)=>a.timestamp.getTime()-o.timestamp.getTime()),n}function dR(e,t,n){const r={};let i=0;return e.nodes.forEach(o=>{r[o.node_type]=(r[o.node_type]||0)+1,rn(o)&&i++}),{nodeCount:e.nodes.length,edgeCount:e.edges.length,chainCount:t.length,sessionCount:n.length,linkedCommitCount:i,nodesByType:r}}function fR(e){return S.useMemo(()=>{if(!e)return{chains:[],sessions:[],stats:{nodeCount:0,edgeCount:0,chainCount:0,sessionCount:0,linkedCommitCount:0,nodesByType:{}}};const t=sR(e),n=lR(e.nodes,t),r=dR(e,t,n);return{chains:t,sessions:n,stats:r}},[e])}const hR=[{id:"story",label:"Story",path:"/story"},{id:"dag",label:"DAG",path:"/"},{id:"chains",label:"Chains",path:"/chains"},{id:"timeline",label:"Timeline",path:"/timeline"},{id:"graph",label:"Graph",path:"/graph"},{id:"roadmap",label:"Roadmap",path:"/roadmap"}],pR=({children:e,stats:t,lastUpdated:n,branches:r,selectedBranch:i,onBranchChange:o})=>{const a=ki(),l=(()=>{const c=a.pathname;return c==="/story"?"story":c==="/chains"?"chains":c==="/timeline"?"timeline":c==="/graph"?"graph":c==="/roadmap"?"roadmap":"dag"})();return u.jsxs("div",{style:ue.container,children:[u.jsx("header",{style:ue.header,children:u.jsxs("div",{style:ue.headerContent,children:[u.jsxs("div",{children:[u.jsx("h1",{style:ue.title,children:"Deciduous"}),u.jsx("p",{style:ue.subtitle,children:"Decision Graph Viewer"})]}),u.jsx("nav",{style:ue.nav,children:hR.map(c=>u.jsx(XT,{to:c.path,style:{...ue.tab,...l===c.id?ue.tabActive:{}},children:c.label},c.id))}),u.jsx("div",{style:ue.navLinks,children:u.jsx("a",{href:"https://github.com/notactuallytreyanastasio/losselot",target:"_blank",rel:"noopener noreferrer",style:ue.link,children:"GitHub"})})]})}),t&&u.jsxs("div",{style:ue.statsBar,children:[u.jsxs("div",{style:ue.stat,children:[u.jsx("div",{style:ue.statNum,children:t.nodeCount}),u.jsx("div",{style:ue.statLabel,children:"Nodes"})]}),u.jsxs("div",{style:ue.stat,children:[u.jsx("div",{style:ue.statNum,children:t.edgeCount}),u.jsx("div",{style:ue.statLabel,children:"Edges"})]}),u.jsxs("div",{style:ue.stat,children:[u.jsx("div",{style:ue.statNum,children:t.chainCount}),u.jsx("div",{style:ue.statLabel,children:"Chains"})]}),u.jsxs("div",{style:ue.stat,children:[u.jsx("div",{style:ue.statNum,children:t.sessionCount}),u.jsx("div",{style:ue.statLabel,children:"Sessions"})]}),t.linkedCommitCount>0&&u.jsxs("div",{style:ue.stat,children:[u.jsx("div",{style:ue.statNum,children:t.linkedCommitCount}),u.jsx("div",{style:ue.statLabel,children:"Commits"})]}),r&&r.length>0&&u.jsx("div",{style:{...ue.stat,marginLeft:"auto"},children:u.jsxs("select",{value:i||"",onChange:c=>o==null?void 0:o(c.target.value||null),style:ue.branchSelect,children:[u.jsx("option",{value:"",children:"All branches"}),r.map(c=>u.jsx("option",{value:c,children:c},c))]})}),n&&u.jsx("div",{style:{...ue.stat,marginLeft:r!=null&&r.length?"10px":"auto"},children:u.jsxs("div",{style:{...ue.statLabel,fontSize:"10px"},children:["Updated ",n.toLocaleTimeString()]})})]}),u.jsx("main",{style:ue.main,children:e})]})},ue={container:{minHeight:"100vh",backgroundColor:"#ffffff",color:"#24292f",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},header:{backgroundColor:"#f6f8fa",borderBottom:"1px solid #d0d7de",padding:"0 20px"},headerContent:{display:"flex",alignItems:"center",gap:"30px",maxWidth:"1800px",margin:"0 auto",padding:"15px 0"},title:{fontSize:"20px",margin:0,color:"#24292f",fontWeight:700},subtitle:{fontSize:"12px",color:"#57606a",margin:"4px 0 0 0"},nav:{display:"flex",gap:"4px",flex:1},tab:{padding:"10px 20px",fontSize:"13px",color:"#57606a",textDecoration:"none",borderRadius:"6px 6px 0 0",backgroundColor:"transparent",transition:"all 0.2s"},tabActive:{backgroundColor:"#ffffff",color:"#0969da",fontWeight:600},navLinks:{display:"flex",gap:"15px"},link:{color:"#57606a",textDecoration:"none",fontSize:"13px"},statsBar:{display:"flex",gap:"20px",padding:"12px 20px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",margin:"15px",borderRadius:"8px",maxWidth:"1800px",marginLeft:"auto",marginRight:"auto"},stat:{textAlign:"center",minWidth:"60px"},statNum:{fontSize:"20px",fontWeight:"bold",color:"#0969da"},statLabel:{fontSize:"10px",color:"#57606a",textTransform:"uppercase"},branchSelect:{backgroundColor:"#ffffff",color:"#24292f",border:"1px solid #d0d7de",borderRadius:"4px",padding:"6px 10px",fontSize:"12px",cursor:"pointer",minWidth:"120px"},main:{height:"calc(100vh - 140px)",maxWidth:"1800px",margin:"0 auto",padding:"0 15px"}},ys={goal:"#22c55e",decision:"#eab308",option:"#06b6d4",action:"#ef4444",outcome:"#a855f7",observation:"#6b7280"};function ye(e){return ys[e]||"#6b7280"}const gR={leads_to:"#3b82f6",requires:"#8b5cf6",chosen:"#22c55e",rejected:"#ef4444",blocks:"#f97316",enables:"#06b6d4"};function mR(e){return gR[e]||"#6b7280"}const vR={high:{bg:"#22c55e33",text:"#4ade80"},med:{bg:"#eab30833",text:"#fbbf24"},low:{bg:"#ef444433",text:"#f87171"}};function yR(e){return e?vR[e]:null}const ft=({type:e,size:t="md"})=>{const n=ye(e),r=["goal","decision","option"].includes(e),i={fontSize:t==="sm"?"9px":"10px",textTransform:"uppercase",padding:t==="sm"?"2px 5px":"2px 6px",borderRadius:"3px",display:"inline-block",backgroundColor:n,color:r?"#000":"#fff",fontWeight:500};return u.jsx("span",{style:i,children:e})},Uo=({confidence:e})=>{if(e==null)return null;const t=iR(e),n=yR(t);if(!n)return null;const r={fontSize:"10px",padding:"2px 6px",borderRadius:"10px",fontWeight:600,backgroundColor:n.bg,color:n.text};return u.jsxs("span",{style:r,children:[e,"%"]})},yi=({commit:e,repo:t=dm})=>{if(!e)return null;const n=Ks(e),r=fm(e,t),i={fontSize:"10px",padding:"2px 6px",borderRadius:"4px",fontWeight:500,fontFamily:"monospace",backgroundColor:"#ddf4ff",color:"#0969da",textDecoration:"none",transition:"all 0.2s"};return u.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:i,title:`View commit ${n}`,onMouseOver:o=>{o.currentTarget.style.backgroundColor="#b6e3ff",o.currentTarget.style.color="#0550ae"},onMouseOut:o=>{o.currentTarget.style.backgroundColor="#ddf4ff",o.currentTarget.style.color="#0969da"},children:n})},xs=({type:e})=>{const t=e==="chosen",n=e==="rejected",r={fontSize:"10px",padding:"2px 6px",borderRadius:"3px",backgroundColor:t?"#dafbe1":n?"#ffebe9":"#f6f8fa",color:t?"#1a7f37":n?"#cf222e":"#57606a",border:`1px solid ${t?"#1a7f37":n?"#cf222e":"#d0d7de"}`};return u.jsx("span",{style:r,children:e})},xR=({node:e,repo:t})=>{const n=vi(e),r=rn(e);return u.jsxs("span",{style:{display:"inline-flex",gap:"6px",alignItems:"center"},children:[u.jsx(ft,{type:e.node_type}),u.jsx(Uo,{confidence:n}),u.jsx(yi,{commit:r,repo:t})]})},_R=({status:e})=>{const t={pending:{bg:"#f6f8fa",text:"#57606a",border:"#d0d7de"},active:{bg:"#ddf4ff",text:"#0969da",border:"#54aeff"},completed:{bg:"#dafbe1",text:"#1a7f37",border:"#4ac26b"},rejected:{bg:"#ffebe9",text:"#cf222e",border:"#ff8182"}},n=t[e]||t.pending,r={fontSize:"10px",padding:"2px 6px",borderRadius:"10px",backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`};return u.jsx("span",{style:r,children:e})};function wR(e,t){return!e||t.length===0?null:t.find(n=>n.hash===e||n.short_hash===e)??null}const hm=({node:e,graphData:t,onSelectNode:n,onClose:r,repo:i,gitHistory:o=[]})=>{const a=i??w2(t);if(!e)return u.jsx("div",{style:Z.panel,children:u.jsxs("div",{style:Z.empty,children:[u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",style:{opacity:.3},children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M12 6v6l4 2"})]}),u.jsx("p",{style:{marginTop:"20px"},children:"Select a node to see details"})]})});const s=t.edges.filter(g=>g.to_node_id===e.id),l=t.edges.filter(g=>g.from_node_id===e.id),c=tR(e),d=nR(e),f=cm(e),h=rn(e),p=wR(h,o),v=g=>{const x=t.nodes.find(m=>m.id===g);return(x==null?void 0:x.title)||"Unknown"};return u.jsxs("div",{style:Z.panel,children:[r&&u.jsx("button",{onClick:r,style:Z.closeButton,children:""}),u.jsxs("div",{style:Z.header,children:[u.jsx(xR,{node:e,repo:i}),u.jsx("h2",{style:Z.title,children:e.title}),u.jsxs("div",{style:Z.meta,children:[u.jsxs("span",{children:["ID: ",e.id]}),u.jsx("span",{children:u.jsx(_R,{status:e.status})}),u.jsxs("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),e.description&&u.jsx("div",{style:Z.description,children:e.description}),c&&u.jsxs("div",{style:Z.section,children:[u.jsx("h3",{style:Z.sectionTitle,children:"Prompt"}),u.jsx("div",{style:Z.prompt,children:c})]}),d&&d.length>0&&u.jsxs("div",{style:Z.section,children:[u.jsx("h3",{style:Z.sectionTitle,children:"Associated Files"}),u.jsx("div",{style:Z.fileList,children:d.map((g,x)=>u.jsx("span",{style:Z.fileTag,children:g},x))})]}),f&&u.jsxs("div",{style:Z.section,children:[u.jsx("h3",{style:Z.sectionTitle,children:"Branch"}),u.jsx("span",{style:Z.branchTag,children:f})]}),h&&u.jsxs("div",{style:Z.section,children:[u.jsx("h3",{style:Z.sectionTitle,children:"Linked Commit"}),u.jsxs("div",{style:Z.commitSection,children:[u.jsx("a",{href:fm(h,a),target:"_blank",rel:"noopener noreferrer",style:Z.commitHash,children:Ks(h)}),p&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:Z.commitMessage,children:p.message}),u.jsxs("div",{style:Z.commitMeta,children:["by ",p.author,"  ",new Date(p.date).toLocaleDateString(),p.files_changed&&`  ${p.files_changed} files`]})]})]})]}),s.length>0&&u.jsxs("div",{style:Z.section,children:[u.jsxs("h3",{style:Z.sectionTitle,children:["Incoming (",s.length,")"]}),s.map(g=>u.jsxs("div",{style:Z.connection,onClick:()=>n(g.from_node_id),children:[u.jsxs("div",{style:Z.connectionHeader,children:[u.jsx(xs,{type:g.edge_type}),u.jsx("span",{style:Z.arrow,children:""}),u.jsx("span",{style:Z.connectionTitle,children:v(g.from_node_id)})]}),g.rationale&&u.jsx("div",{style:Z.connectionRationale,children:g.rationale})]},g.id))]}),l.length>0&&u.jsxs("div",{style:Z.section,children:[u.jsxs("h3",{style:Z.sectionTitle,children:["Outgoing (",l.length,")"]}),l.map(g=>u.jsxs("div",{style:Z.connection,onClick:()=>n(g.to_node_id),children:[u.jsxs("div",{style:Z.connectionHeader,children:[u.jsx(xs,{type:g.edge_type}),u.jsx("span",{style:Z.arrow,children:""}),u.jsx("span",{style:Z.connectionTitle,children:v(g.to_node_id)})]}),g.rationale&&u.jsx("div",{style:Z.connectionRationale,children:g.rationale})]},g.id))]}),u.jsxs("div",{style:Z.navLinks,children:[u.jsx("a",{href:"../decision-graph",style:Z.link,children:"Learn about the graph "}),u.jsx("a",{href:"../claude-tooling",style:Z.link,children:"See the tooling "})]})]})},Z={panel:{padding:"25px",height:"100%",overflowY:"auto",backgroundColor:"#ffffff",position:"relative"},empty:{textAlign:"center",color:"#6e7781",paddingTop:"80px"},closeButton:{position:"absolute",top:"15px",right:"15px",width:"30px",height:"30px",border:"none",background:"#f6f8fa",color:"#57606a",borderRadius:"4px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},header:{marginBottom:"20px"},title:{fontSize:"24px",margin:"12px 0 8px 0",color:"#24292f"},meta:{display:"flex",gap:"20px",fontSize:"14px",color:"#57606a",flexWrap:"wrap"},description:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"20px",borderRadius:"8px",marginBottom:"20px",lineHeight:1.6,color:"#24292f"},section:{marginTop:"20px"},sectionTitle:{fontSize:"16px",marginBottom:"12px",color:"#57606a"},connection:{padding:"12px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",marginBottom:"8px",cursor:"pointer",transition:"background-color 0.2s"},connectionHeader:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},connectionTitle:{color:"#24292f",fontSize:"13px",flex:1,minWidth:0},connectionRationale:{color:"#57606a",fontSize:"12px",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #d0d7de",lineHeight:1.4},arrow:{color:"#6e7781",flexShrink:0},navLinks:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #d0d7de"},link:{color:"#0969da",textDecoration:"none",marginRight:"20px",fontSize:"13px"},prompt:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"6px",fontSize:"14px",color:"#24292f",lineHeight:1.6,whiteSpace:"pre-wrap",fontStyle:"italic",borderLeft:"3px solid #0969da"},fileList:{display:"flex",flexWrap:"wrap",gap:"8px"},fileTag:{backgroundColor:"#ddf4ff",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",color:"#0969da",fontFamily:"monospace"},branchTag:{backgroundColor:"#dafbe1",color:"#1a7f37",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"},commitSection:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"6px",borderLeft:"3px solid #0969da"},commitHash:{fontFamily:"monospace",fontSize:"13px",color:"#0969da",textDecoration:"none",backgroundColor:"#ddf4ff",padding:"3px 8px",borderRadius:"4px"},commitMessage:{fontSize:"14px",color:"#24292f",marginTop:"10px",lineHeight:1.5,whiteSpace:"pre-wrap"},commitMeta:{fontSize:"12px",color:"#57606a",marginTop:"8px"}};function bR(e,t){if(!e||t.length===0)return null;const n=t.find(r=>r.hash===e||r.short_hash===e);return(n==null?void 0:n.message)??null}const SR=({graphData:e,chains:t,sessions:n,gitHistory:r=[]})=>{const[i,o]=S.useState("chains"),[a,s]=S.useState(null),[l,c]=S.useState(null),d=a!==null?t[a]:null,f=S.useMemo(()=>{if(!d)return new Map;const g=new Map;return d.edges.forEach(x=>g.set(x.to_node_id,x)),g},[d]),h=g=>{s(g),c(null)},p=g=>{const x=e.nodes.find(m=>m.id===g);x&&(c(x),s(null))},v=g=>{const x=e.nodes.find(m=>m.id===g);x&&c(x)};return u.jsxs("div",{style:V.container,children:[u.jsxs("div",{style:V.sidebar,children:[u.jsx("div",{style:V.viewToggle,children:["chains","sessions","all"].map(g=>u.jsx("button",{onClick:()=>o(g),style:{...V.viewBtn,...i===g?V.viewBtnActive:{}},children:g==="all"?"All Nodes":g.charAt(0).toUpperCase()+g.slice(1)},g))}),u.jsxs("div",{style:V.sidebarContent,children:[i==="chains"&&u.jsx(CR,{chains:t,selectedIndex:a,onSelect:h}),i==="sessions"&&u.jsx(kR,{sessions:n,chains:t,selectedChainIndex:a,onSelectChain:h}),i==="all"&&u.jsx(jR,{nodes:e.nodes,selectedNode:l,onSelect:p})]})]}),u.jsx("div",{style:V.detailPanel,children:d&&!l?u.jsx(ER,{chain:d,edgeMap:f,selectedNode:l,onSelectNode:v,gitHistory:r}):u.jsx(hm,{node:l,graphData:e,onSelectNode:p,gitHistory:r})})]})},CR=({chains:e,selectedIndex:t,onSelect:n})=>u.jsx("div",{style:V.nodeList,children:e.map((r,i)=>{const o=[...new Set(r.nodes.map(s=>s.node_type))],a=t===i;return u.jsxs("div",{onClick:()=>n(i),style:{...V.chainItem,...a?V.chainItemSelected:{}},children:[u.jsxs("div",{style:V.chainSummary,children:[u.jsx(ft,{type:r.root.node_type,size:"sm"}),u.jsx("span",{style:V.chainTitle,children:Oe(r.root.title,40)})]}),u.jsxs("div",{style:V.chainStats,children:[r.nodes.length," nodes  ",r.edges.length," edges"]}),u.jsx("div",{style:V.chainTypes,children:o.map(s=>u.jsx("span",{style:{...V.chainTypeDot,backgroundColor:ye(s)},title:s},s))})]},i)})}),kR=({sessions:e,chains:t,selectedChainIndex:n,onSelectChain:r})=>{const[i,o]=S.useState(new Set),a=s=>{o(l=>{const c=new Set(l);return c.has(s)?c.delete(s):c.add(s),c})};return u.jsx("div",{children:e.map((s,l)=>{const c=new Date(s.startTime),d=c.toLocaleDateString("en-US",{month:"short",day:"numeric"}),f=c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),h=i.has(l);return u.jsxs("div",{style:V.sessionGroup,children:[u.jsxs("div",{onClick:()=>a(l),style:{...V.sessionHeader,...h?V.sessionHeaderExpanded:{}},children:[u.jsx("span",{style:{...V.sessionToggle,transform:h?"rotate(90deg)":"none"},children:""}),u.jsxs("span",{style:V.sessionTitle,children:[d," @ ",f]}),u.jsxs("span",{style:V.sessionCount,children:[s.nodes.length," nodes"]})]}),h&&u.jsx("div",{style:V.chainList,children:s.chains.length>0?s.chains.map(p=>{const v=t.indexOf(p),g=[...new Set(p.nodes.map(x=>x.node_type))];return u.jsxs("div",{onClick:()=>r(v),style:{...V.chainItem,...n===v?V.chainItemSelected:{}},children:[u.jsxs("div",{style:V.chainSummary,children:[u.jsx(ft,{type:p.root.node_type,size:"sm"}),u.jsx("span",{style:V.chainTitle,children:Oe(p.root.title,35)})]}),u.jsxs("div",{style:V.chainStats,children:[p.nodes.length," nodes  ",p.edges.length," edges"]}),u.jsx("div",{style:V.chainTypes,children:g.map(x=>u.jsx("span",{style:{...V.chainTypeDot,backgroundColor:ye(x)},title:x},x))})]},v)}):u.jsx("div",{style:{color:"#666",fontSize:"12px",padding:"10px"},children:"No complete chains in this session"})})]},l)})})},jR=({nodes:e,selectedNode:t,onSelect:n})=>u.jsx("div",{style:V.nodeList,children:e.map(r=>u.jsxs("div",{onClick:()=>n(r.id),style:{...V.nodeItem,...(t==null?void 0:t.id)===r.id?V.nodeItemSelected:{}},children:[u.jsx(ft,{type:r.node_type}),u.jsx("div",{style:V.nodeTitle,children:r.title})]},r.id))}),ER=({chain:e,edgeMap:t,selectedNode:n,onSelectNode:r,gitHistory:i})=>{const o=oR(e.nodes[0].created_at,e.nodes[e.nodes.length-1].created_at);return u.jsxs("div",{style:V.chainFlow,children:[u.jsxs("div",{style:V.chainFlowHeader,children:[u.jsx(ft,{type:e.root.node_type}),u.jsx("h2",{style:V.chainFlowTitle,children:e.root.title}),u.jsxs("div",{style:V.chainFlowMeta,children:[e.nodes.length," nodes  ",e.edges.length," connections  ",o]})]}),u.jsx("div",{style:V.flowTimeline,children:e.nodes.map(a=>{const s=t.get(a.id),l=(n==null?void 0:n.id)===a.id,c=new Date(a.created_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),d=vi(a),f=rn(a),h=bR(f,i);return u.jsxs(gg.Fragment,{children:[(s==null?void 0:s.rationale)&&u.jsxs("div",{style:V.flowEdgeLabel,children:[" ",s.rationale]}),u.jsxs("div",{onClick:()=>r(a.id),style:{...V.flowNode,borderColor:l?"#0969da":"#d0d7de",backgroundColor:l?"#ddf4ff":"#ffffff"},children:[u.jsx("div",{style:{...V.flowNodeMarker,backgroundColor:ye(a.node_type),borderColor:ye(a.node_type)}}),u.jsxs("div",{style:V.flowNodeHeader,children:[u.jsx(ft,{type:a.node_type,size:"sm"}),u.jsx(Uo,{confidence:d}),u.jsx(yi,{commit:f}),u.jsx("span",{style:V.flowNodeTitle,children:a.title}),u.jsx("span",{style:V.flowNodeTime,children:c})]}),h&&u.jsxs("div",{style:V.commitMessage,children:[u.jsx("span",{style:V.commitIcon,children:""})," ",h]}),a.description&&u.jsx("div",{style:V.flowNodeDesc,children:a.description})]})]},a.id)})}),u.jsxs("div",{style:V.navLinks,children:[u.jsx("a",{href:"../decision-graph",style:V.link,children:"Learn about the graph "}),u.jsx("a",{href:"../claude-tooling",style:V.link,children:"See the tooling "})]})]})},V={container:{display:"flex",height:"100%",gap:"0"},sidebar:{width:"380px",backgroundColor:"#f6f8fa",borderRight:"1px solid #d0d7de",display:"flex",flexDirection:"column",flexShrink:0},viewToggle:{display:"flex",padding:"10px",gap:"5px",borderBottom:"1px solid #d0d7de"},viewBtn:{flex:1,padding:"8px",border:"1px solid #d0d7de",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},viewBtnActive:{backgroundColor:"#0969da",color:"#ffffff",borderColor:"#0969da"},sidebarContent:{flex:1,overflowY:"auto"},nodeList:{padding:"10px"},chainItem:{padding:"10px 12px",margin:"4px 0",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"6px",cursor:"pointer",borderLeft:"3px solid transparent"},chainItemSelected:{borderLeftColor:"#0969da",backgroundColor:"#ddf4ff"},chainSummary:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},chainTitle:{fontSize:"13px",flex:1,color:"#24292f"},chainStats:{fontSize:"10px",color:"#6e7781"},chainTypes:{display:"flex",gap:"3px",marginTop:"6px"},chainTypeDot:{width:"8px",height:"8px",borderRadius:"50%"},sessionGroup:{borderBottom:"1px solid #d0d7de"},sessionHeader:{padding:"12px 15px",backgroundColor:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},sessionHeaderExpanded:{},sessionToggle:{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6e7781",transition:"transform 0.2s"},sessionTitle:{flex:1,fontSize:"13px",fontWeight:600,color:"#24292f"},sessionCount:{fontSize:"11px",color:"#57606a",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"2px 8px",borderRadius:"10px"},chainList:{padding:"5px 10px 10px"},nodeItem:{padding:"12px",marginBottom:"8px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"6px",cursor:"pointer",borderLeft:"4px solid transparent"},nodeItemSelected:{borderLeftColor:"#0969da",backgroundColor:"#ddf4ff"},nodeTitle:{fontSize:"14px",lineHeight:1.4,marginTop:"6px",color:"#24292f"},detailPanel:{flex:1,overflowY:"auto",backgroundColor:"#ffffff"},chainFlow:{maxWidth:"700px",padding:"25px"},chainFlowHeader:{marginBottom:"25px"},chainFlowTitle:{fontSize:"20px",marginTop:"8px",marginBottom:"8px",color:"#24292f"},chainFlowMeta:{fontSize:"12px",color:"#6e7781"},flowTimeline:{position:"relative",paddingLeft:"30px"},flowEdgeLabel:{fontSize:"11px",color:"#1a7f37",margin:"-10px 0 10px 0",paddingLeft:"5px",fontWeight:500},flowNode:{position:"relative",marginBottom:"20px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #d0d7de",cursor:"pointer",transition:"all 0.2s"},flowNodeMarker:{position:"absolute",left:"-26px",top:"20px",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid"},flowNodeHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",flexWrap:"wrap"},flowNodeTitle:{fontSize:"14px",fontWeight:500,flex:1,color:"#24292f"},flowNodeTime:{fontSize:"10px",color:"#6e7781"},flowNodeDesc:{fontSize:"12px",color:"#57606a",lineHeight:1.5},commitMessage:{fontSize:"12px",color:"#0969da",backgroundColor:"#ddf4ff",padding:"6px 10px",borderRadius:"4px",marginBottom:"6px",marginTop:"4px",display:"flex",alignItems:"flex-start",gap:"6px",whiteSpace:"pre-wrap"},commitIcon:{fontSize:"11px",flexShrink:0},navLinks:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #d0d7de"},link:{color:"#0969da",textDecoration:"none",marginRight:"20px",fontSize:"13px"}},TR=({graphData:e,gitHistory:t=[]})=>{const[n,r]=S.useState("all"),[i,o]=S.useState(""),[a,s]=S.useState(null),l=S.useMemo(()=>cR(e.nodes,t),[e.nodes,t]),c=S.useMemo(()=>{let f=l;if(n==="nodes"?f=f.filter(h=>h.type==="node"):n==="commits"?f=f.filter(h=>h.type==="commit"):n==="linked"&&(f=f.filter(h=>h.type==="node"&&h.linkedCommits&&h.linkedCommits.length>0||h.type==="commit"&&h.linkedNodes&&h.linkedNodes.length>0)),i){const h=i.toLowerCase();f=f.filter(p=>{var v;return p.type==="node"?p.node.title.toLowerCase().includes(h)||(((v=p.node.description)==null?void 0:v.toLowerCase().includes(h))??!1):p.commit.message.toLowerCase().includes(h)})}return f},[l,n,i]),d=f=>{const h=e.nodes.find(p=>p.id===f);h&&s(h)};return u.jsxs("div",{style:he.container,children:[u.jsxs("div",{style:he.controls,children:[u.jsx("h2",{style:he.title,children:"Timeline"}),u.jsx("div",{style:he.filterButtons,children:["all","nodes","commits","linked"].map(f=>u.jsx("button",{onClick:()=>r(f),style:{...he.filterBtn,...n===f?he.filterBtnActive:{}},children:f==="all"?"All":f.charAt(0).toUpperCase()+f.slice(1)},f))}),u.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:f=>o(f.target.value),style:he.search})]}),u.jsx("div",{style:he.timelineContainer,children:u.jsxs("div",{style:he.timeline,children:[c.map((f,h)=>u.jsx(RR,{item:f,onSelectNode:d},h)),c.length===0&&u.jsx("div",{style:he.empty,children:"No items match your filters"})]})}),u.jsx("div",{style:he.detailPanel,children:u.jsx(hm,{node:a,graphData:e,onSelectNode:d,onClose:()=>s(null),gitHistory:t})})]})},RR=({item:e,onSelectNode:t})=>{const n=e.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric"}),r=e.timestamp.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});if(e.type==="node"&&e.node){const i=e.node,o=vi(i),a=rn(i);return u.jsxs("div",{style:he.timelineItem,onClick:()=>t(i.id),children:[u.jsx("div",{style:{...he.marker,backgroundColor:ye(i.node_type)}}),u.jsxs("div",{style:he.itemContent,children:[u.jsxs("div",{style:he.itemHeader,children:[u.jsx(ft,{type:i.node_type,size:"sm"}),u.jsx(Uo,{confidence:o}),a&&u.jsx(yi,{commit:a}),u.jsxs("span",{style:he.itemTime,children:[n," ",r]})]}),u.jsx("div",{style:he.itemTitle,children:i.title}),i.description&&u.jsx("div",{style:he.itemDesc,children:Oe(i.description,100)}),e.linkedCommits&&e.linkedCommits.length>0&&u.jsxs("div",{style:he.linked,children:["Linked to ",e.linkedCommits.length," commit(s)"]})]})]})}if(e.type==="commit"&&e.commit){const i=e.commit;return u.jsxs("div",{style:he.timelineItem,children:[u.jsx("div",{style:{...he.marker,backgroundColor:"#3b82f6"}}),u.jsxs("div",{style:he.itemContent,children:[u.jsxs("div",{style:he.itemHeader,children:[u.jsx("span",{style:he.commitBadgeSmall,children:"commit"}),u.jsx(yi,{commit:i.hash}),u.jsxs("span",{style:he.itemTime,children:[n," ",r]})]}),u.jsx("div",{style:he.itemTitle,children:i.message}),u.jsxs("div",{style:he.itemMeta,children:["by ",i.author,i.files_changed&&`  ${i.files_changed} files`]}),e.linkedNodes&&e.linkedNodes.length>0&&u.jsxs("div",{style:he.linked,children:["Linked to ",e.linkedNodes.length," decision(s)"]})]})]})}return null},he={container:{height:"100%",display:"flex",gap:"0"},controls:{width:"200px",padding:"20px",backgroundColor:"#f6f8fa",borderRight:"1px solid #d0d7de",flexShrink:0},title:{fontSize:"16px",margin:"0 0 15px 0",color:"#24292f"},filterButtons:{display:"flex",flexDirection:"column",gap:"4px"},filterBtn:{padding:"8px 12px",fontSize:"12px",border:"1px solid #d0d7de",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",textAlign:"left"},filterBtnActive:{backgroundColor:"#0969da",color:"#ffffff",borderColor:"#0969da"},search:{width:"100%",padding:"8px",marginTop:"15px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"12px"},timelineContainer:{flex:2,overflowY:"auto",padding:"20px",backgroundColor:"#ffffff"},timeline:{maxWidth:"700px",position:"relative",paddingLeft:"30px"},timelineItem:{position:"relative",marginBottom:"15px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #d0d7de",cursor:"pointer",transition:"border-color 0.2s"},marker:{position:"absolute",left:"-24px",top:"20px",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid #ffffff"},itemContent:{},itemHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",flexWrap:"wrap"},itemTime:{fontSize:"11px",color:"#6e7781",marginLeft:"auto"},itemTitle:{fontSize:"14px",color:"#24292f",marginBottom:"4px"},itemDesc:{fontSize:"12px",color:"#57606a",lineHeight:1.4},itemMeta:{fontSize:"11px",color:"#6e7781"},linked:{fontSize:"11px",color:"#1a7f37",marginTop:"8px"},commitBadgeSmall:{fontSize:"9px",padding:"2px 6px",backgroundColor:"#ddf4ff",color:"#0969da",borderRadius:"3px",textTransform:"uppercase"},detailPanel:{flex:1,minWidth:"350px",borderLeft:"1px solid #d0d7de"},empty:{textAlign:"center",color:"#6e7781",padding:"40px"}};var IR={value:()=>{}};function Wo(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ua(n)}function Ua(e){this._=e}function MR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ua.prototype=Wo.prototype={constructor:Ua,on:function(e,t){var n=this._,r=MR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=NR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=py(n[i],e.name,t);else if(t==null)for(i in n)n[i]=py(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ua(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function NR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function py(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=IR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Jp="http://www.w3.org/1999/xhtml";const gy={svg:"http://www.w3.org/2000/svg",xhtml:Jp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ys(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),gy.hasOwnProperty(t)?{space:gy[t],local:e}:e}function PR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jp&&t.documentElement.namespaceURI===Jp?t.createElement(e):t.createElementNS(n,e)}}function AR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function b2(e){var t=Ys(e);return(t.local?AR:PR)(t)}function LR(){}function pm(e){return e==null?LR:function(){return this.querySelector(e)}}function zR(e){typeof e!="function"&&(e=pm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,c,d=0;d<a;++d)(l=o[d])&&(c=e.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),s[d]=c);return new wt(r,this._parents)}function qR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OR(){return[]}function S2(e){return e==null?OR:function(){return this.querySelectorAll(e)}}function DR(e){return function(){return qR(e.apply(this,arguments))}}function BR(e){typeof e=="function"?e=DR(e):e=S2(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(e.call(l,l.__data__,c,a)),i.push(l));return new wt(r,i)}function C2(e){return function(){return this.matches(e)}}function k2(e){return function(t){return t.matches(e)}}var FR=Array.prototype.find;function $R(e){return function(){return FR.call(this.children,e)}}function UR(){return this.firstElementChild}function WR(e){return this.select(e==null?UR:$R(typeof e=="function"?e:k2(e)))}var HR=Array.prototype.filter;function GR(){return Array.from(this.children)}function VR(e){return function(){return HR.call(this.children,e)}}function KR(e){return this.selectAll(e==null?GR:VR(typeof e=="function"?e:k2(e)))}function YR(e){typeof e!="function"&&(e=C2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new wt(r,this._parents)}function j2(e){return new Array(e.length)}function QR(){return new wt(this._enter||this._groups.map(j2),this._parents)}function _s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_s.prototype={constructor:_s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function XR(e){return function(){return e}}function JR(e,t,n,r,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new _s(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function ZR(e,t,n,r,i,o,a){var s,l,c=new Map,d=t.length,f=o.length,h=new Array(d),p;for(s=0;s<d;++s)(l=t[s])&&(h[s]=p=a.call(l,l.__data__,s,t)+"",c.has(p)?i[s]=l:c.set(p,l));for(s=0;s<f;++s)p=a.call(e,o[s],s,o)+"",(l=c.get(p))?(r[s]=l,l.__data__=o[s],c.delete(p)):n[s]=new _s(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(h[s])===l&&(i[s]=l)}function eI(e){return e.__data__}function tI(e,t){if(!arguments.length)return Array.from(this,eI);var n=t?ZR:JR,r=this._parents,i=this._groups;typeof e!="function"&&(e=XR(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var d=r[c],f=i[c],h=f.length,p=nI(e.call(d,d&&d.__data__,c,r)),v=p.length,g=s[c]=new Array(v),x=a[c]=new Array(v),m=l[c]=new Array(h);n(d,f,g,x,m,p,t);for(var y=0,w=0,_,k;y<v;++y)if(_=g[y]){for(y>=w&&(w=y+1);!(k=x[w])&&++w<v;);_._next=k||null}}return a=new wt(a,r),a._enter=s,a._exit=l,a}function nI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rI(){return new wt(this._exit||this._groups.map(j2),this._parents)}function iI(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function oI(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],d=r[l],f=c.length,h=s[l]=new Array(f),p,v=0;v<f;++v)(p=c[v]||d[v])&&(h[v]=p);for(;l<i;++l)s[l]=n[l];return new wt(s,this._parents)}function aI(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function sI(e){e||(e=lI);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,d=0;d<s;++d)(c=a[d])&&(l[d]=c);l.sort(t)}return new wt(i,this._parents).order()}function lI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cI(){return Array.from(this)}function dI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function fI(){let e=0;for(const t of this)++e;return e}function hI(){return!this.node()}function pI(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function gI(e){return function(){this.removeAttribute(e)}}function mI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vI(e,t){return function(){this.setAttribute(e,t)}}function yI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _I(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wI(e,t){var n=Ys(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?mI:gI:typeof t=="function"?n.local?_I:xI:n.local?yI:vI)(n,t))}function E2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bI(e){return function(){this.style.removeProperty(e)}}function SI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CI(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function kI(e,t,n){return arguments.length>1?this.each((t==null?bI:typeof t=="function"?CI:SI)(e,t,n??"")):xi(this.node(),e)}function xi(e,t){return e.style.getPropertyValue(t)||E2(e).getComputedStyle(e,null).getPropertyValue(t)}function jI(e){return function(){delete this[e]}}function EI(e,t){return function(){this[e]=t}}function TI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function RI(e,t){return arguments.length>1?this.each((t==null?jI:typeof t=="function"?TI:EI)(e,t)):this.node()[e]}function T2(e){return e.trim().split(/^|\s+/)}function gm(e){return e.classList||new R2(e)}function R2(e){this._node=e,this._names=T2(e.getAttribute("class")||"")}R2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function I2(e,t){for(var n=gm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function M2(e,t){for(var n=gm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function II(e){return function(){I2(this,e)}}function MI(e){return function(){M2(this,e)}}function NI(e,t){return function(){(t.apply(this,arguments)?I2:M2)(this,e)}}function PI(e,t){var n=T2(e+"");if(arguments.length<2){for(var r=gm(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?NI:t?II:MI)(n,t))}function AI(){this.textContent=""}function LI(e){return function(){this.textContent=e}}function zI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qI(e){return arguments.length?this.each(e==null?AI:(typeof e=="function"?zI:LI)(e)):this.node().textContent}function OI(){this.innerHTML=""}function DI(e){return function(){this.innerHTML=e}}function BI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function FI(e){return arguments.length?this.each(e==null?OI:(typeof e=="function"?BI:DI)(e)):this.node().innerHTML}function $I(){this.nextSibling&&this.parentNode.appendChild(this)}function UI(){return this.each($I)}function WI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HI(){return this.each(WI)}function GI(e){var t=typeof e=="function"?e:b2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function VI(){return null}function KI(e,t){var n=typeof e=="function"?e:b2(e),r=t==null?VI:typeof t=="function"?t:pm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function YI(){var e=this.parentNode;e&&e.removeChild(this)}function QI(){return this.each(YI)}function XI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZI(e){return this.select(e?JI:XI)}function e6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function t6(e){return function(t){e.call(this,t,this.__data__)}}function n6(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function r6(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function i6(e,t,n){return function(){var r=this.__on,i,o=t6(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function o6(e,t,n){var r=n6(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,d;l<c;++l)for(i=0,d=s[l];i<o;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?i6:r6,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function N2(e,t,n){var r=E2(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function a6(e,t){return function(){return N2(this,e,t)}}function s6(e,t){return function(){return N2(this,e,t.apply(this,arguments))}}function l6(e,t){return this.each((typeof t=="function"?s6:a6)(e,t))}function*u6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var P2=[null];function wt(e,t){this._groups=e,this._parents=t}function Ho(){return new wt([[document.documentElement]],P2)}function c6(){return this}wt.prototype=Ho.prototype={constructor:wt,select:zR,selectAll:BR,selectChild:WR,selectChildren:KR,filter:YR,data:tI,enter:QR,exit:rI,join:iI,merge:oI,selection:c6,order:aI,sort:sI,call:uI,nodes:cI,node:dI,size:fI,empty:hI,each:pI,attr:wI,style:kI,property:RI,classed:PI,text:qI,html:FI,raise:UI,lower:HI,append:GI,insert:KI,remove:QI,clone:ZI,datum:e6,on:o6,dispatch:l6,[Symbol.iterator]:u6};function Ye(e){return typeof e=="string"?new wt([[document.querySelector(e)]],[document.documentElement]):new wt([[e]],P2)}function d6(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fn(e,t){if(e=d6(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const f6={passive:!1},Po={capture:!0,passive:!1};function Xl(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function A2(e){var t=e.document.documentElement,n=Ye(e).on("dragstart.drag",li,Po);"onselectstart"in t?n.on("selectstart.drag",li,Po):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function L2(e,t){var n=e.document.documentElement,r=Ye(e).on("dragstart.drag",null);t&&(r.on("click.drag",li,Po),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xa=e=>()=>e;function Zp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Zp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function h6(e){return!e.ctrlKey&&!e.button}function p6(){return this.parentNode}function g6(e,t){return t??{x:e.x,y:e.y}}function m6(){return navigator.maxTouchPoints||"ontouchstart"in this}function v6(){var e=h6,t=p6,n=g6,r=m6,i={},o=Wo("start","drag","end"),a=0,s,l,c,d,f=0;function h(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",x).on("touchmove.drag",m,f6).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,k){if(!(d||!e.call(this,_,k))){var E=w(this,t.call(this,_,k),_,k,"mouse");E&&(Ye(_.view).on("mousemove.drag",v,Po).on("mouseup.drag",g,Po),A2(_.view),Xl(_),c=!1,s=_.clientX,l=_.clientY,E("start",_))}}function v(_){if(li(_),!c){var k=_.clientX-s,E=_.clientY-l;c=k*k+E*E>f}i.mouse("drag",_)}function g(_){Ye(_.view).on("mousemove.drag mouseup.drag",null),L2(_.view,c),li(_),i.mouse("end",_)}function x(_,k){if(e.call(this,_,k)){var E=_.changedTouches,b=t.call(this,_,k),C=E.length,P,T;for(P=0;P<C;++P)(T=w(this,b,_,k,E[P].identifier,E[P]))&&(Xl(_),T("start",_,E[P]))}}function m(_){var k=_.changedTouches,E=k.length,b,C;for(b=0;b<E;++b)(C=i[k[b].identifier])&&(li(_),C("drag",_,k[b]))}function y(_){var k=_.changedTouches,E=k.length,b,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<E;++b)(C=i[k[b].identifier])&&(Xl(_),C("end",_,k[b]))}function w(_,k,E,b,C,P){var T=o.copy(),A=fn(P||E,k),L,F,R;if((R=n.call(_,new Zp("beforestart",{sourceEvent:E,target:h,identifier:C,active:a,x:A[0],y:A[1],dx:0,dy:0,dispatch:T}),b))!=null)return L=R.x-A[0]||0,F=R.y-A[1]||0,function $(j,q,I){var z=A,N;switch(j){case"start":i[C]=$,N=a++;break;case"end":delete i[C],--a;case"drag":A=fn(I||q,k),N=a;break}T.call(j,_,new Zp(j,{sourceEvent:q,subject:R,target:h,identifier:C,active:N,x:A[0]+L,y:A[1]+F,dx:A[0]-z[0],dy:A[1]-z[1],dispatch:T}),b)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:xa(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:xa(_),h):t},h.subject=function(_){return arguments.length?(n=typeof _=="function"?_:xa(_),h):n},h.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:xa(!!_),h):r},h.on=function(){var _=o.on.apply(o,arguments);return _===o?h:_},h.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,h):Math.sqrt(f)},h}function mm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Go(){}var Ao=.7,ws=1/Ao,ui="\\s*([+-]?\\d+)\\s*",Lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y6=/^#([0-9a-f]{3,8})$/,x6=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),_6=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),w6=new RegExp(`^rgba\\(${ui},${ui},${ui},${Lo}\\)$`),b6=new RegExp(`^rgba\\(${nn},${nn},${nn},${Lo}\\)$`),S6=new RegExp(`^hsl\\(${Lo},${nn},${nn}\\)$`),C6=new RegExp(`^hsla\\(${Lo},${nn},${nn},${Lo}\\)$`),my={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mm(Go,zo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vy,formatHex:vy,formatHex8:k6,formatHsl:j6,formatRgb:yy,toString:yy});function vy(){return this.rgb().formatHex()}function k6(){return this.rgb().formatHex8()}function j6(){return q2(this).formatHsl()}function yy(){return this.rgb().formatRgb()}function zo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xy(t):n===3?new lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_a(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_a(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x6.exec(e))?new lt(t[1],t[2],t[3],1):(t=_6.exec(e))?new lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w6.exec(e))?_a(t[1],t[2],t[3],t[4]):(t=b6.exec(e))?_a(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S6.exec(e))?by(t[1],t[2]/100,t[3]/100,1):(t=C6.exec(e))?by(t[1],t[2]/100,t[3]/100,t[4]):my.hasOwnProperty(e)?xy(my[e]):e==="transparent"?new lt(NaN,NaN,NaN,0):null}function xy(e){return new lt(e>>16&255,e>>8&255,e&255,1)}function _a(e,t,n,r){return r<=0&&(e=t=n=NaN),new lt(e,t,n,r)}function E6(e){return e instanceof Go||(e=zo(e)),e?(e=e.rgb(),new lt(e.r,e.g,e.b,e.opacity)):new lt}function eg(e,t,n,r){return arguments.length===1?E6(e):new lt(e,t,n,r??1)}function lt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mm(lt,eg,z2(Go,{brighter(e){return e=e==null?ws:Math.pow(ws,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lt(wr(this.r),wr(this.g),wr(this.b),bs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_y,formatHex:_y,formatHex8:T6,formatRgb:wy,toString:wy}));function _y(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}`}function T6(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}${vr((isNaN(this.opacity)?1:this.opacity)*255)}`}function wy(){const e=bs(this.opacity);return`${e===1?"rgb(":"rgba("}${wr(this.r)}, ${wr(this.g)}, ${wr(this.b)}${e===1?")":`, ${e})`}`}function bs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vr(e){return e=wr(e),(e<16?"0":"")+e.toString(16)}function by(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bt(e,t,n,r)}function q2(e){if(e instanceof Bt)return new Bt(e.h,e.s,e.l,e.opacity);if(e instanceof Go||(e=zo(e)),!e)return new Bt;if(e instanceof Bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bt(a,s,l,e.opacity)}function R6(e,t,n,r){return arguments.length===1?q2(e):new Bt(e,t,n,r??1)}function Bt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mm(Bt,R6,z2(Go,{brighter(e){return e=e==null?ws:Math.pow(ws,e),new Bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new Bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new lt(Jl(e>=240?e-240:e+120,i,r),Jl(e,i,r),Jl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Bt(Sy(this.h),wa(this.s),wa(this.l),bs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bs(this.opacity);return`${e===1?"hsl(":"hsla("}${Sy(this.h)}, ${wa(this.s)*100}%, ${wa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Sy(e){return e=(e||0)%360,e<0?e+360:e}function wa(e){return Math.max(0,Math.min(1,e||0))}function Jl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const O2=e=>()=>e;function I6(e,t){return function(n){return e+n*t}}function M6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function N6(e){return(e=+e)==1?D2:function(t,n){return n-t?M6(t,n,e):O2(isNaN(t)?n:t)}}function D2(e,t){var n=t-e;return n?I6(e,n):O2(isNaN(e)?t:e)}const Cy=function e(t){var n=N6(t);function r(i,o){var a=n((i=eg(i)).r,(o=eg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=D2(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function zn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(tg.source,"g");function P6(e){return function(){return e}}function A6(e){return function(t){return e(t)+""}}function L6(e,t){var n=tg.lastIndex=Zl.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=tg.exec(e))&&(i=Zl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:zn(r,i)})),n=Zl.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?A6(l[0].x):P6(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}var ky=180/Math.PI,ng={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function B2(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ky,skewX:Math.atan(l)*ky,scaleX:a,scaleY:s}}var ba;function z6(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ng:B2(t.a,t.b,t.c,t.d,t.e,t.f)}function q6(e){return e==null||(ba||(ba=document.createElementNS("http://www.w3.org/2000/svg","g")),ba.setAttribute("transform",e),!(e=ba.transform.baseVal.consolidate()))?ng:(e=e.matrix,B2(e.a,e.b,e.c,e.d,e.e,e.f))}function F2(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,d,f,h,p,v){if(c!==f||d!==h){var g=p.push("translate(",null,t,null,n);v.push({i:g-4,x:zn(c,f)},{i:g-2,x:zn(d,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function a(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:zn(c,d)})):d&&f.push(i(f)+"rotate("+d+r)}function s(c,d,f,h){c!==d?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:zn(c,d)}):d&&f.push(i(f)+"skewX("+d+r)}function l(c,d,f,h,p,v){if(c!==f||d!==h){var g=p.push(i(p)+"scale(",null,",",null,")");v.push({i:g-4,x:zn(c,f)},{i:g-2,x:zn(d,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,f,h),a(c.rotate,d.rotate,f,h),s(c.skewX,d.skewX,f,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(p){for(var v=-1,g=h.length,x;++v<g;)f[(x=h[v]).i]=x.x(p);return f.join("")}}}var O6=F2(z6,"px, ","px)","deg)"),D6=F2(q6,", ",")",")"),B6=1e-12;function jy(e){return((e=Math.exp(e))+1/e)/2}function F6(e){return((e=Math.exp(e))-1/e)/2}function $6(e){return((e=Math.exp(2*e))-1)/(e+1)}const U6=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],c=o[2],d=a[0],f=a[1],h=a[2],p=d-s,v=f-l,g=p*p+v*v,x,m;if(g<B6)m=Math.log(h/c)/t,x=function(b){return[s+b*p,l+b*v,c*Math.exp(t*b*m)]};else{var y=Math.sqrt(g),w=(h*h-c*c+r*g)/(2*c*n*y),_=(h*h-c*c-r*g)/(2*h*n*y),k=Math.log(Math.sqrt(w*w+1)-w),E=Math.log(Math.sqrt(_*_+1)-_);m=(E-k)/t,x=function(b){var C=b*m,P=jy(k),T=c/(n*y)*(P*$6(t*C+k)-F6(k));return[s+T*p,l+T*v,c*P/jy(t*C+k)]}}return x.duration=m*1e3*t/Math.SQRT2,x}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var _i=0,Yi=0,Fi=0,$2=1e3,Ss,Qi,Cs=0,Tr=0,Qs=0,qo=typeof performance=="object"&&performance.now?performance:Date,U2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vm(){return Tr||(U2(W6),Tr=qo.now()+Qs)}function W6(){Tr=0}function ks(){this._call=this._time=this._next=null}ks.prototype=ym.prototype={constructor:ks,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vm():+n)+(t==null?0:+t),!this._next&&Qi!==this&&(Qi?Qi._next=this:Ss=this,Qi=this),this._call=e,this._time=n,rg()},stop:function(){this._call&&(this._call=null,this._time=1/0,rg())}};function ym(e,t,n){var r=new ks;return r.restart(e,t,n),r}function H6(){vm(),++_i;for(var e=Ss,t;e;)(t=Tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_i}function Ey(){Tr=(Cs=qo.now())+Qs,_i=Yi=0;try{H6()}finally{_i=0,V6(),Tr=0}}function G6(){var e=qo.now(),t=e-Cs;t>$2&&(Qs-=t,Cs=e)}function V6(){for(var e,t=Ss,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ss=n);Qi=e,rg(r)}function rg(e){if(!_i){Yi&&(Yi=clearTimeout(Yi));var t=e-Tr;t>24?(e<1/0&&(Yi=setTimeout(Ey,e-qo.now()-Qs)),Fi&&(Fi=clearInterval(Fi))):(Fi||(Cs=qo.now(),Fi=setInterval(G6,$2)),_i=1,U2(Ey))}}function Ty(e,t,n){var r=new ks;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var K6=Wo("start","end","cancel","interrupt"),Y6=[],W2=0,Ry=1,ig=2,Wa=3,Iy=4,og=5,Ha=6;function Xs(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Q6(e,n,{name:t,index:r,group:i,on:K6,tween:Y6,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:W2})}function xm(e,t){var n=Wt(e,t);if(n.state>W2)throw new Error("too late; already scheduled");return n}function on(e,t){var n=Wt(e,t);if(n.state>Wa)throw new Error("too late; already running");return n}function Wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Q6(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ym(o,0,n.time);function o(c){n.state=Ry,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,h,p;if(n.state!==Ry)return l();for(d in r)if(p=r[d],p.name===n.name){if(p.state===Wa)return Ty(a);p.state===Iy?(p.state=Ha,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=Ha,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(Ty(function(){n.state===Wa&&(n.state=Iy,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ig,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ig){for(n.state=Wa,i=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function s(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=og,1),f=-1,h=i.length;++f<h;)i[f].call(e,d);n.state===og&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ha,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Ga(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>ig&&r.state<og,r.state=Ha,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function X6(e){return this.each(function(){Ga(this,e)})}function J6(e,t){var n,r;return function(){var i=on(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Z6(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=on(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function e4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Wt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?J6:Z6)(n,e,t))}function _m(e,t,n){var r=e._id;return e.each(function(){var i=on(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Wt(i,r).value[t]}}function H2(e,t){var n;return(typeof t=="number"?zn:t instanceof zo?Cy:(n=zo(t))?(t=n,Cy):L6)(e,t)}function t4(e){return function(){this.removeAttribute(e)}}function n4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function r4(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function i4(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function o4(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function a4(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function s4(e,t){var n=Ys(e),r=n==="transform"?D6:H2;return this.attrTween(e,typeof t=="function"?(n.local?a4:o4)(n,r,_m(this,"attr."+e,t)):t==null?(n.local?n4:t4)(n):(n.local?i4:r4)(n,r,t))}function l4(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function u4(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function c4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&u4(e,o)),n}return i._value=t,i}function d4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&l4(e,o)),n}return i._value=t,i}function f4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ys(e);return this.tween(n,(r.local?c4:d4)(r,t))}function h4(e,t){return function(){xm(this,e).delay=+t.apply(this,arguments)}}function p4(e,t){return t=+t,function(){xm(this,e).delay=t}}function g4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?h4:p4)(t,e)):Wt(this.node(),t).delay}function m4(e,t){return function(){on(this,e).duration=+t.apply(this,arguments)}}function v4(e,t){return t=+t,function(){on(this,e).duration=t}}function y4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m4:v4)(t,e)):Wt(this.node(),t).duration}function x4(e,t){if(typeof t!="function")throw new Error;return function(){on(this,e).ease=t}}function _4(e){var t=this._id;return arguments.length?this.each(x4(t,e)):Wt(this.node(),t).ease}function w4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;on(this,e).ease=n}}function b4(e){if(typeof e!="function")throw new Error;return this.each(w4(this._id,e))}function S4(e){typeof e!="function"&&(e=C2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Cn(r,this._parents,this._name,this._id)}function C4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],c=n[s],d=l.length,f=a[s]=new Array(d),h,p=0;p<d;++p)(h=l[p]||c[p])&&(f[p]=h);for(;s<r;++s)a[s]=t[s];return new Cn(a,this._parents,this._name,this._id)}function k4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function j4(e,t,n){var r,i,o=k4(t)?xm:on;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function E4(e,t){var n=this._id;return arguments.length<2?Wt(this.node(),n).on.on(e):this.each(j4(n,e,t))}function T4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function R4(){return this.on("end.remove",T4(this._id))}function I4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pm(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),d,f,h=0;h<l;++h)(d=s[h])&&(f=e.call(d,d.__data__,h,s))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Xs(c[h],t,n,h,c,Wt(d,n)));return new Cn(o,this._parents,t,n)}function M4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=S2(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var h=e.call(d,d.__data__,f,l),p,v=Wt(d,n),g=0,x=h.length;g<x;++g)(p=h[g])&&Xs(p,t,n,g,h,v);o.push(h),a.push(d)}return new Cn(o,a,t,n)}var N4=Ho.prototype.constructor;function P4(){return new N4(this._groups,this._parents)}function A4(e,t){var n,r,i;return function(){var o=xi(this,e),a=(this.style.removeProperty(e),xi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function G2(e){return function(){this.style.removeProperty(e)}}function L4(e,t,n){var r,i=n+"",o;return function(){var a=xi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function z4(e,t,n){var r,i,o;return function(){var a=xi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),xi(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function q4(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=on(this,e),c=l.on,d=l.value[o]==null?s||(s=G2(t)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(a,i=d),l.on=r}}function O4(e,t,n){var r=(e+="")=="transform"?O6:H2;return t==null?this.styleTween(e,A4(e,r)).on("end.style."+e,G2(e)):typeof t=="function"?this.styleTween(e,z4(e,r,_m(this,"style."+e,t))).each(q4(this._id,e)):this.styleTween(e,L4(e,r,t),n).on("end.style."+e,null)}function D4(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function B4(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&D4(e,a,n)),r}return o._value=t,o}function F4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,B4(e,t,n??""))}function $4(e){return function(){this.textContent=e}}function U4(e){return function(){var t=e(this);this.textContent=t??""}}function W4(e){return this.tween("text",typeof e=="function"?U4(_m(this,"text",e)):$4(e==null?"":e+""))}function H4(e){return function(t){this.textContent=e.call(this,t)}}function G4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&H4(i)),t}return r._value=e,r}function V4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G4(e))}function K4(){for(var e=this._name,t=this._id,n=V2(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var d=Wt(l,t);Xs(l,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Cn(r,this._parents,e,n)}function Y4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var c=on(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var Q4=0;function Cn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function V2(){return++Q4}var ln=Ho.prototype;Cn.prototype={constructor:Cn,select:I4,selectAll:M4,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:S4,merge:C4,selection:P4,transition:K4,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:E4,attr:s4,attrTween:f4,style:O4,styleTween:F4,text:W4,textTween:V4,remove:R4,tween:e4,delay:g4,duration:y4,ease:_4,easeVarying:b4,end:Y4,[Symbol.iterator]:ln[Symbol.iterator]};function X4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var J4={time:null,delay:0,duration:250,ease:X4};function Z4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function e8(e){var t,n;e instanceof Cn?(t=e._id,e=e._name):(t=V2(),(n=J4).time=vm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&Xs(l,e,t,c,a,n||Z4(l,t));return new Cn(r,this._parents,e,t)}Ho.prototype.interrupt=X6;Ho.prototype.transition=e8;const ag=Math.PI,sg=2*ag,hr=1e-6,t8=sg-hr;function K2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function n8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return K2;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class r8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?K2:n8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-n,d=a-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>hr)if(!(Math.abs(f*l-c*d)>hr)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,v=i-s,g=l*l+c*c,x=p*p+v*v,m=Math.sqrt(g),y=Math.sqrt(h),w=o*Math.tan((ag-Math.acos((g+h-x)/(2*m*y)))/2),_=w/y,k=w/m;Math.abs(_-1)>hr&&this._append`L${t+_*d},${n+_*f}`,this._append`A${o},${o},0,0,${+(f*p>d*v)},${this._x1=t+k*l},${this._y1=n+k*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>hr||Math.abs(this._y1-d)>hr)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%sg+sg),h>t8?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>hr&&this._append`A${r},${r},0,${+(h>=ag)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function i8(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,a=n.length,s,l=0,c=0;for(o=0;o<a;++o)s=n[o],l+=s.x,c+=s.y;for(l=(l/a-e)*r,c=(c/a-t)*r,o=0;o<a;++o)s=n[o],s.x-=l,s.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function o8(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Y2(this.cover(t,n),t,n,e)}function Y2(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},s=e._x0,l=e._y0,c=e._x1,d=e._y1,f,h,p,v,g,x,m,y;if(!o)return e._root=a,e;for(;o.length;)if((g=t>=(f=(s+c)/2))?s=f:c=f,(x=n>=(h=(l+d)/2))?l=h:d=h,i=o,!(o=o[m=x<<1|g]))return i[m]=a,e;if(p=+e._x.call(null,o.data),v=+e._y.call(null,o.data),t===p&&n===v)return a.next=o,i?i[m]=a:e._root=a,e;do i=i?i[m]=new Array(4):e._root=new Array(4),(g=t>=(f=(s+c)/2))?s=f:c=f,(x=n>=(h=(l+d)/2))?l=h:d=h;while((m=x<<1|g)===(y=(v>=h)<<1|p>=f));return i[y]=o,i[m]=a,e}function a8(e){var t,n,r=e.length,i,o,a=new Array(r),s=new Array(r),l=1/0,c=1/0,d=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,s[n]=o,i<l&&(l=i),i>d&&(d=i),o<c&&(c=o),o>f&&(f=o));if(l>d||c>f)return this;for(this.cover(l,c).cover(d,f),n=0;n<r;++n)Y2(this,a[n],s[n],e[n]);return this}function s8(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,s=this._root,l,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,a*=2,c){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function l8(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function u8(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function tt(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function c8(e,t,n){var r,i=this._x0,o=this._y0,a,s,l,c,d=this._x1,f=this._y1,h=[],p=this._root,v,g;for(p&&h.push(new tt(p,i,o,d,f)),n==null?n=1/0:(i=e-n,o=t-n,d=e+n,f=t+n,n*=n);v=h.pop();)if(!(!(p=v.node)||(a=v.x0)>d||(s=v.y0)>f||(l=v.x1)<i||(c=v.y1)<o))if(p.length){var x=(a+l)/2,m=(s+c)/2;h.push(new tt(p[3],x,m,l,c),new tt(p[2],a,m,x,c),new tt(p[1],x,s,l,m),new tt(p[0],a,s,x,m)),(g=(t>=m)<<1|e>=x)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-g],h[h.length-1-g]=v)}else{var y=e-+this._x.call(null,p.data),w=t-+this._y.call(null,p.data),_=y*y+w*w;if(_<n){var k=Math.sqrt(n=_);i=e-k,o=t-k,d=e+k,f=t+k,r=p.data}}return r}function d8(e){if(isNaN(d=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._x1,c=this._y1,d,f,h,p,v,g,x,m;if(!n)return this;if(n.length)for(;;){if((v=d>=(h=(a+l)/2))?a=h:l=h,(g=f>=(p=(s+c)/2))?s=p:c=p,t=n,!(n=n[x=g<<1|v]))return this;if(!n.length)break;(t[x+1&3]||t[x+2&3]||t[x+3&3])&&(r=t,m=x)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[x]=o:delete t[x],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[m]=n:this._root=n),this):(this._root=o,this)}function f8(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function h8(){return this._root}function p8(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function g8(e){var t=[],n,r=this._root,i,o,a,s,l;for(r&&t.push(new tt(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(o+s)/2,d=(a+l)/2;(i=r[3])&&t.push(new tt(i,c,d,s,l)),(i=r[2])&&t.push(new tt(i,o,d,c,l)),(i=r[1])&&t.push(new tt(i,c,a,s,d)),(i=r[0])&&t.push(new tt(i,o,a,c,d))}return this}function m8(e){var t=[],n=[],r;for(this._root&&t.push(new tt(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.x1,c=r.y1,d=(a+l)/2,f=(s+c)/2;(o=i[0])&&t.push(new tt(o,a,s,d,f)),(o=i[1])&&t.push(new tt(o,d,s,l,f)),(o=i[2])&&t.push(new tt(o,a,f,d,c)),(o=i[3])&&t.push(new tt(o,d,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function v8(e){return e[0]}function y8(e){return arguments.length?(this._x=e,this):this._x}function x8(e){return e[1]}function _8(e){return arguments.length?(this._y=e,this):this._y}function wm(e,t,n){var r=new bm(t??v8,n??x8,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function bm(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function My(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ot=wm.prototype=bm.prototype;ot.copy=function(){var e=new bm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=My(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=My(r));return e};ot.add=o8;ot.addAll=a8;ot.cover=s8;ot.data=l8;ot.extent=u8;ot.find=c8;ot.remove=d8;ot.removeAll=f8;ot.root=h8;ot.size=p8;ot.visit=g8;ot.visitAfter=m8;ot.x=y8;ot.y=_8;function br(e){return function(){return e}}function Un(e){return(e()-.5)*1e-6}function w8(e){return e.x+e.vx}function b8(e){return e.y+e.vy}function S8(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=br(e==null?1:+e));function a(){for(var c,d=t.length,f,h,p,v,g,x,m=0;m<o;++m)for(f=wm(t,w8,b8).visitAfter(s),c=0;c<d;++c)h=t[c],g=n[h.index],x=g*g,p=h.x+h.vx,v=h.y+h.vy,f.visit(y);function y(w,_,k,E,b){var C=w.data,P=w.r,T=g+P;if(C){if(C.index>h.index){var A=p-C.x-C.vx,L=v-C.y-C.vy,F=A*A+L*L;F<T*T&&(A===0&&(A=Un(r),F+=A*A),L===0&&(L=Un(r),F+=L*L),F=(T-(F=Math.sqrt(F)))/F*i,h.vx+=(A*=F)*(T=(P*=P)/(x+P)),h.vy+=(L*=F)*T,C.vx-=A*(T=1-T),C.vy-=L*T)}return}return _>p+T||E<p-T||k>v+T||b<v-T}}function s(c){if(c.data)return c.r=n[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(t){var c,d=t.length,f;for(n=new Array(d),c=0;c<d;++c)f=t[c],n[f.index]=+e(f,c,t)}}return a.initialize=function(c,d){t=c,r=d,l()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:br(+c),l(),a):e},a}function C8(e){return e.index}function Ny(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function k8(e){var t=C8,n=f,r,i=br(30),o,a,s,l,c,d=1;e==null&&(e=[]);function f(x){return 1/Math.min(s[x.source.index],s[x.target.index])}function h(x){for(var m=0,y=e.length;m<d;++m)for(var w=0,_,k,E,b,C,P,T;w<y;++w)_=e[w],k=_.source,E=_.target,b=E.x+E.vx-k.x-k.vx||Un(c),C=E.y+E.vy-k.y-k.vy||Un(c),P=Math.sqrt(b*b+C*C),P=(P-o[w])/P*x*r[w],b*=P,C*=P,E.vx-=b*(T=l[w]),E.vy-=C*T,k.vx+=b*(T=1-T),k.vy+=C*T}function p(){if(a){var x,m=a.length,y=e.length,w=new Map(a.map((k,E)=>[t(k,E,a),k])),_;for(x=0,s=new Array(m);x<y;++x)_=e[x],_.index=x,typeof _.source!="object"&&(_.source=Ny(w,_.source)),typeof _.target!="object"&&(_.target=Ny(w,_.target)),s[_.source.index]=(s[_.source.index]||0)+1,s[_.target.index]=(s[_.target.index]||0)+1;for(x=0,l=new Array(y);x<y;++x)_=e[x],l[x]=s[_.source.index]/(s[_.source.index]+s[_.target.index]);r=new Array(y),v(),o=new Array(y),g()}}function v(){if(a)for(var x=0,m=e.length;x<m;++x)r[x]=+n(e[x],x,e)}function g(){if(a)for(var x=0,m=e.length;x<m;++x)o[x]=+i(e[x],x,e)}return h.initialize=function(x,m){a=x,c=m,p()},h.links=function(x){return arguments.length?(e=x,p(),h):e},h.id=function(x){return arguments.length?(t=x,h):t},h.iterations=function(x){return arguments.length?(d=+x,h):d},h.strength=function(x){return arguments.length?(n=typeof x=="function"?x:br(+x),v(),h):n},h.distance=function(x){return arguments.length?(i=typeof x=="function"?x:br(+x),g(),h):i},h}const j8=1664525,E8=1013904223,Py=4294967296;function T8(){let e=1;return()=>(e=(j8*e+E8)%Py)/Py}function R8(e){return e.x}function I8(e){return e.y}var M8=10,N8=Math.PI*(3-Math.sqrt(5));function P8(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=ym(f),c=Wo("tick","end"),d=T8();e==null&&(e=[]);function f(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(g){var x,m=e.length,y;g===void 0&&(g=1);for(var w=0;w<g;++w)for(n+=(o-n)*i,s.forEach(function(_){_(n)}),x=0;x<m;++x)y=e[x],y.fx==null?y.x+=y.vx*=a:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=a:(y.y=y.fy,y.vy=0);return t}function p(){for(var g=0,x=e.length,m;g<x;++g){if(m=e[g],m.index=g,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=M8*Math.sqrt(.5+g),w=g*N8;m.x=y*Math.cos(w),m.y=y*Math.sin(w)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function v(g){return g.initialize&&g.initialize(e,d),g}return p(),t={tick:h,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,p(),s.forEach(v),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(a=1-g,t):1-a},randomSource:function(g){return arguments.length?(d=g,s.forEach(v),t):d},force:function(g,x){return arguments.length>1?(x==null?s.delete(g):s.set(g,v(x)),t):s.get(g)},find:function(g,x,m){var y=0,w=e.length,_,k,E,b,C;for(m==null?m=1/0:m*=m,y=0;y<w;++y)b=e[y],_=g-b.x,k=x-b.y,E=_*_+k*k,E<m&&(C=b,m=E);return C},on:function(g,x){return arguments.length>1?(c.on(g,x),t):c.on(g)}}}function A8(){var e,t,n,r,i=br(-30),o,a=1,s=1/0,l=.81;function c(p){var v,g=e.length,x=wm(e,R8,I8).visitAfter(f);for(r=p,v=0;v<g;++v)t=e[v],x.visit(h)}function d(){if(e){var p,v=e.length,g;for(o=new Array(v),p=0;p<v;++p)g=e[p],o[g.index]=+i(g,p,e)}}function f(p){var v=0,g,x,m=0,y,w,_;if(p.length){for(y=w=_=0;_<4;++_)(g=p[_])&&(x=Math.abs(g.value))&&(v+=g.value,m+=x,y+=x*g.x,w+=x*g.y);p.x=y/m,p.y=w/m}else{g=p,g.x=g.data.x,g.y=g.data.y;do v+=o[g.data.index];while(g=g.next)}p.value=v}function h(p,v,g,x){if(!p.value)return!0;var m=p.x-t.x,y=p.y-t.y,w=x-v,_=m*m+y*y;if(w*w/l<_)return _<s&&(m===0&&(m=Un(n),_+=m*m),y===0&&(y=Un(n),_+=y*y),_<a&&(_=Math.sqrt(a*_)),t.vx+=m*p.value*r/_,t.vy+=y*p.value*r/_),!0;if(p.length||_>=s)return;(p.data!==t||p.next)&&(m===0&&(m=Un(n),_+=m*m),y===0&&(y=Un(n),_+=y*y),_<a&&(_=Math.sqrt(a*_)));do p.data!==t&&(w=o[p.data.index]*r/_,t.vx+=m*w,t.vy+=y*w);while(p=p.next)}return c.initialize=function(p,v){e=p,n=v,d()},c.strength=function(p){return arguments.length?(i=typeof p=="function"?p:br(+p),d(),c):i},c.distanceMin=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.distanceMax=function(p){return arguments.length?(s=p*p,c):Math.sqrt(s)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function Dr(e){return function(){return e}}function L8(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new r8(t)}function z8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q2(e){this._context=e}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q8(e){return new Q2(e)}function O8(e){return e[0]}function D8(e){return e[1]}function B8(e,t){var n=Dr(!0),r=null,i=q8,o=null,a=L8(s);e=typeof e=="function"?e:e===void 0?O8:Dr(e),t=typeof t=="function"?t:t===void 0?D8:Dr(t);function s(l){var c,d=(l=z8(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Dr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Dr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Dr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ay(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function X2(e){this._context=e}X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ay(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ay(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F8(e){return new X2(e)}const Sa=e=>()=>e;function $8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mn(e,t,n){this.k=e,this.x=t,this.y=n}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ho=new mn(1,0,0);mn.prototype;function eu(e){e.stopImmediatePropagation()}function $i(e){e.preventDefault(),e.stopImmediatePropagation()}function U8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function W8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ly(){return this.__zoom||ho}function H8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function G8(){return navigator.maxTouchPoints||"ontouchstart"in this}function V8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function J2(){var e=U8,t=W8,n=V8,r=H8,i=G8,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=U6,c=Wo("start","zoom","end"),d,f,h,p=500,v=150,g=0,x=10;function m(R){R.property("__zoom",Ly).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(R,$,j,q){var I=R.selection?R.selection():R;I.property("__zoom",Ly),R!==I?k(R,$,j,q):I.interrupt().each(function(){E(this,arguments).event(q).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},m.scaleBy=function(R,$,j,q){m.scaleTo(R,function(){var I=this.__zoom.k,z=typeof $=="function"?$.apply(this,arguments):$;return I*z},j,q)},m.scaleTo=function(R,$,j,q){m.transform(R,function(){var I=t.apply(this,arguments),z=this.__zoom,N=j==null?_(I):typeof j=="function"?j.apply(this,arguments):j,U=z.invert(N),W=typeof $=="function"?$.apply(this,arguments):$;return n(w(y(z,W),N,U),I,a)},j,q)},m.translateBy=function(R,$,j,q){m.transform(R,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),a)},null,q)},m.translateTo=function(R,$,j,q,I){m.transform(R,function(){var z=t.apply(this,arguments),N=this.__zoom,U=q==null?_(z):typeof q=="function"?q.apply(this,arguments):q;return n(ho.translate(U[0],U[1]).scale(N.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof j=="function"?-j.apply(this,arguments):-j),z,a)},q,I)};function y(R,$){return $=Math.max(o[0],Math.min(o[1],$)),$===R.k?R:new mn($,R.x,R.y)}function w(R,$,j){var q=$[0]-j[0]*R.k,I=$[1]-j[1]*R.k;return q===R.x&&I===R.y?R:new mn(R.k,q,I)}function _(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function k(R,$,j,q){R.on("start.zoom",function(){E(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(q).end()}).tween("zoom",function(){var I=this,z=arguments,N=E(I,z).event(q),U=t.apply(I,z),W=j==null?_(U):typeof j=="function"?j.apply(I,z):j,se=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),K=I.__zoom,ke=typeof $=="function"?$.apply(I,z):$,Ee=l(K.invert(W).concat(se/K.k),ke.invert(W).concat(se/ke.k));return function(Te){if(Te===1)Te=ke;else{var Xe=Ee(Te),Rn=se/Xe[2];Te=new mn(Rn,W[0]-Xe[0]*Rn,W[1]-Xe[1]*Rn)}N.zoom(null,Te)}})}function E(R,$,j){return!j&&R.__zooming||new b(R,$)}function b(R,$){this.that=R,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,$),this.taps=0}b.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,$){return this.mouse&&R!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var $=Ye(this.that).datum();c.call(R,this.that,new $8(R,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),$)}};function C(R,...$){if(!e.apply(this,arguments))return;var j=E(this,$).event(R),q=this.__zoom,I=Math.max(o[0],Math.min(o[1],q.k*Math.pow(2,r.apply(this,arguments)))),z=fn(R);if(j.wheel)(j.mouse[0][0]!==z[0]||j.mouse[0][1]!==z[1])&&(j.mouse[1]=q.invert(j.mouse[0]=z)),clearTimeout(j.wheel);else{if(q.k===I)return;j.mouse=[z,q.invert(z)],Ga(this),j.start()}$i(R),j.wheel=setTimeout(N,v),j.zoom("mouse",n(w(y(q,I),j.mouse[0],j.mouse[1]),j.extent,a));function N(){j.wheel=null,j.end()}}function P(R,...$){if(h||!e.apply(this,arguments))return;var j=R.currentTarget,q=E(this,$,!0).event(R),I=Ye(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",se,!0),z=fn(R,j),N=R.clientX,U=R.clientY;A2(R.view),eu(R),q.mouse=[z,this.__zoom.invert(z)],Ga(this),q.start();function W(K){if($i(K),!q.moved){var ke=K.clientX-N,Ee=K.clientY-U;q.moved=ke*ke+Ee*Ee>g}q.event(K).zoom("mouse",n(w(q.that.__zoom,q.mouse[0]=fn(K,j),q.mouse[1]),q.extent,a))}function se(K){I.on("mousemove.zoom mouseup.zoom",null),L2(K.view,q.moved),$i(K),q.event(K).end()}}function T(R,...$){if(e.apply(this,arguments)){var j=this.__zoom,q=fn(R.changedTouches?R.changedTouches[0]:R,this),I=j.invert(q),z=j.k*(R.shiftKey?.5:2),N=n(w(y(j,z),q,I),t.apply(this,$),a);$i(R),s>0?Ye(this).transition().duration(s).call(k,N,q,R):Ye(this).call(m.transform,N,q,R)}}function A(R,...$){if(e.apply(this,arguments)){var j=R.touches,q=j.length,I=E(this,$,R.changedTouches.length===q).event(R),z,N,U,W;for(eu(R),N=0;N<q;++N)U=j[N],W=fn(U,this),W=[W,this.__zoom.invert(W),U.identifier],I.touch0?!I.touch1&&I.touch0[2]!==W[2]&&(I.touch1=W,I.taps=0):(I.touch0=W,z=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),z&&(I.taps<2&&(f=W[0],d=setTimeout(function(){d=null},p)),Ga(this),I.start())}}function L(R,...$){if(this.__zooming){var j=E(this,$).event(R),q=R.changedTouches,I=q.length,z,N,U,W;for($i(R),z=0;z<I;++z)N=q[z],U=fn(N,this),j.touch0&&j.touch0[2]===N.identifier?j.touch0[0]=U:j.touch1&&j.touch1[2]===N.identifier&&(j.touch1[0]=U);if(N=j.that.__zoom,j.touch1){var se=j.touch0[0],K=j.touch0[1],ke=j.touch1[0],Ee=j.touch1[1],Te=(Te=ke[0]-se[0])*Te+(Te=ke[1]-se[1])*Te,Xe=(Xe=Ee[0]-K[0])*Xe+(Xe=Ee[1]-K[1])*Xe;N=y(N,Math.sqrt(Te/Xe)),U=[(se[0]+ke[0])/2,(se[1]+ke[1])/2],W=[(K[0]+Ee[0])/2,(K[1]+Ee[1])/2]}else if(j.touch0)U=j.touch0[0],W=j.touch0[1];else return;j.zoom("touch",n(w(N,U,W),j.extent,a))}}function F(R,...$){if(this.__zooming){var j=E(this,$).event(R),q=R.changedTouches,I=q.length,z,N;for(eu(R),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),z=0;z<I;++z)N=q[z],j.touch0&&j.touch0[2]===N.identifier?delete j.touch0:j.touch1&&j.touch1[2]===N.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(N=fn(N,this),Math.hypot(f[0]-N[0],f[1]-N[1])<x)){var U=Ye(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return m.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:Sa(+R),m):r},m.filter=function(R){return arguments.length?(e=typeof R=="function"?R:Sa(!!R),m):e},m.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Sa(!!R),m):i},m.extent=function(R){return arguments.length?(t=typeof R=="function"?R:Sa([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),m):t},m.scaleExtent=function(R){return arguments.length?(o[0]=+R[0],o[1]=+R[1],m):[o[0],o[1]]},m.translateExtent=function(R){return arguments.length?(a[0][0]=+R[0][0],a[1][0]=+R[1][0],a[0][1]=+R[0][1],a[1][1]=+R[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(R){return arguments.length?(n=R,m):n},m.duration=function(R){return arguments.length?(s=+R,m):s},m.interpolate=function(R){return arguments.length?(l=R,m):l},m.on=function(){var R=c.on.apply(c,arguments);return R===c?m:R},m.clickDistance=function(R){return arguments.length?(g=(R=+R)*R,m):Math.sqrt(g)},m.tapDistance=function(R){return arguments.length?(x=+R,m):x},m}const K8=({value:e,onChange:t,showAll:n=!0})=>{const r=n?["all",...fy]:[...fy];return u.jsx("div",{style:tu.container,children:r.map(i=>u.jsx("button",{onClick:()=>t(i),style:{...tu.button,...e===i?tu.buttonActive:{},...i!=="all"?{borderLeftColor:ye(i)}:{}},children:i==="all"?"All":i.charAt(0).toUpperCase()+i.slice(1)},i))})},tu={container:{display:"flex",gap:"4px",flexWrap:"wrap"},button:{padding:"6px 12px",fontSize:"11px",border:"1px solid #d0d7de",borderLeft:"3px solid transparent",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},buttonActive:{backgroundColor:"#ddf4ff",color:"#0969da",borderColor:"#0969da"}},Y8=({graphData:e})=>{const t=S.useRef(null),n=S.useRef(null),[r,i]=S.useState(null),[o,a]=S.useState("all"),[s,l]=S.useState(""),c=S.useRef(null),d=S.useCallback(v=>{i(v)},[]),f=S.useCallback(v=>{const g=e.nodes.find(x=>x.id===v);g&&i(g)},[e.nodes]),h=S.useCallback(()=>{i(null)},[]);S.useEffect(()=>{if(!t.current||!n.current)return;const v=Ye(t.current),g=n.current,x=g.clientWidth,m=g.clientHeight;v.selectAll("*").remove();const y=v.append("g"),w=J2().scaleExtent([.1,4]).on("zoom",T=>y.attr("transform",T.transform));v.call(w);const _=e.nodes.map(T=>({...T})),k=new Map(_.map(T=>[T.id,T])),E=e.edges.map(T=>({source:k.get(T.from_node_id),target:k.get(T.to_node_id),type:T.edge_type,rationale:T.rationale})).filter(T=>T.source&&T.target),b=P8(_).force("link",k8(E).id(T=>T.id).distance(80)).force("charge",A8().strength(-200)).force("center",i8(x/2,m/2)).force("collision",S8().radius(30));c.current=b;const C=y.append("g").selectAll("line").data(E).join("line").attr("class","link").attr("stroke",T=>T.type==="chosen"?"#22c55e":T.type==="rejected"?"#ef4444":"#3b82f6").attr("stroke-width",1.5).attr("stroke-opacity",.6).attr("stroke-dasharray",T=>T.type==="rejected"?"5,5":null),P=y.append("g").selectAll(".node").data(_).join("g").attr("class","node").style("cursor","pointer").call(v6().on("start",(T,A)=>{T.active||b.alphaTarget(.3).restart(),A.fx=A.x,A.fy=A.y}).on("drag",(T,A)=>{A.fx=T.x,A.fy=T.y}).on("end",(T,A)=>{T.active||b.alphaTarget(0),A.fx=null,A.fy=null}));return P.append("circle").attr("r",T=>T.node_type==="goal"?18:T.node_type==="decision"?15:12).attr("fill",T=>ye(T.node_type)).attr("stroke","#fff").attr("stroke-width",2),P.filter(T=>T.node_type==="goal"||T.node_type==="decision").append("text").attr("dy",30).attr("text-anchor","middle").attr("fill","#57606a").attr("font-size","10px").text(T=>Oe(T.title,20)),P.on("click",(T,A)=>{d(A)}),P.append("title").text(T=>{const A=vi(T);return`${T.title}
${T.node_type}${A!==null?`  ${A}%`:""}`}),b.on("tick",()=>{C.attr("x1",T=>T.source.x).attr("y1",T=>T.source.y).attr("x2",T=>T.target.x).attr("y2",T=>T.target.y),P.attr("transform",T=>`translate(${T.x},${T.y})`)}),()=>{b.stop()}},[e,d]),S.useEffect(()=>{if(!t.current)return;const v=Ye(t.current),g=s.toLowerCase();v.selectAll(".node").style("opacity",x=>{var m;return s&&!(x.title.toLowerCase().includes(g)||(((m=x.description)==null?void 0:m.toLowerCase().includes(g))??!1))||o!=="all"&&x.node_type!==o?.15:1})},[o,s]),S.useEffect(()=>{if(!t.current)return;const v=Ye(t.current);v.selectAll(".node").classed("selected",g=>g.id===(r==null?void 0:r.id)),v.selectAll(".link").attr("stroke-width",g=>g.source.id===(r==null?void 0:r.id)||g.target.id===(r==null?void 0:r.id)?3:1.5).attr("stroke-opacity",g=>g.source.id===(r==null?void 0:r.id)||g.target.id===(r==null?void 0:r.id)?1:.6)},[r]);const p=r?uR(r.id,e):[];return u.jsxs("div",{style:pe.container,children:[u.jsxs("div",{style:pe.controls,children:[u.jsx("h2",{style:pe.title,children:"Graph Explorer"}),u.jsx(K8,{value:o,onChange:a}),u.jsx("input",{type:"text",placeholder:"Search nodes...",value:s,onChange:v=>l(v.target.value),style:pe.search}),u.jsx("div",{style:pe.legend,children:Object.entries(ys).map(([v,g])=>u.jsxs("div",{style:pe.legendItem,children:[u.jsx("div",{style:{...pe.legendDot,backgroundColor:g}}),u.jsx("span",{children:v.charAt(0).toUpperCase()+v.slice(1)})]},v))})]}),u.jsx("div",{ref:n,style:pe.svgContainer,children:u.jsx("svg",{ref:t,style:pe.svg})}),r&&u.jsxs("div",{style:pe.detailPanel,children:[u.jsx("button",{onClick:h,style:pe.closeBtn,children:""}),u.jsxs("div",{style:pe.detailHeader,children:[u.jsx(ft,{type:r.node_type}),u.jsx(Uo,{confidence:vi(r)}),u.jsx(yi,{commit:rn(r)})]}),u.jsx("h3",{style:pe.detailTitle,children:r.title}),u.jsxs("p",{style:pe.detailMeta,children:["Node #",r.id,"  ",new Date(r.created_at).toLocaleString()]}),r.description&&u.jsxs("div",{style:pe.detailSection,children:[u.jsx("h4",{style:pe.sectionTitle,children:"Description"}),u.jsx("p",{style:pe.description,children:r.description})]}),p.length>1&&u.jsxs("div",{style:pe.detailSection,children:[u.jsx("h4",{style:pe.sectionTitle,children:"Path to Root"}),p.map(v=>u.jsxs("div",{onClick:()=>f(v.id),style:pe.pathNode,children:[u.jsx(ft,{type:v.node_type,size:"sm"}),u.jsx("span",{children:Oe(v.title,35)})]},v.id))]}),u.jsx(Q8,{node:r,graphData:e,onSelectNode:f})]})]})},Q8=({node:e,graphData:t,onSelectNode:n})=>{const r=t.edges.filter(a=>a.to_node_id===e.id),i=t.edges.filter(a=>a.from_node_id===e.id),o=a=>t.nodes.find(s=>s.id===a);return u.jsxs(u.Fragment,{children:[r.length>0&&u.jsxs("div",{style:pe.detailSection,children:[u.jsxs("h4",{style:pe.sectionTitle,children:["Incoming (",r.length,")"]}),r.map(a=>{const s=o(a.from_node_id);return u.jsxs("div",{onClick:()=>n(a.from_node_id),style:pe.connection,children:[u.jsx(ft,{type:(s==null?void 0:s.node_type)||"observation",size:"sm"}),u.jsx("span",{children:Oe((s==null?void 0:s.title)||"Unknown",30)})]},a.id)})]}),i.length>0&&u.jsxs("div",{style:pe.detailSection,children:[u.jsxs("h4",{style:pe.sectionTitle,children:["Outgoing (",i.length,")"]}),i.map(a=>{const s=o(a.to_node_id);return u.jsxs("div",{onClick:()=>n(a.to_node_id),style:pe.connection,children:[u.jsx(xs,{type:a.edge_type}),u.jsx(ft,{type:(s==null?void 0:s.node_type)||"observation",size:"sm"}),u.jsx("span",{children:Oe((s==null?void 0:s.title)||"Unknown",25)}),a.rationale&&u.jsx("span",{style:pe.rationale,children:a.rationale})]},a.id)})]})]})},pe={container:{height:"100%",display:"flex",position:"relative",backgroundColor:"#ffffff"},controls:{position:"absolute",top:"20px",left:"20px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"8px",zIndex:10,maxWidth:"250px"},title:{fontSize:"16px",margin:"0 0 12px 0",color:"#24292f"},search:{width:"100%",padding:"8px 12px",marginTop:"12px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"13px"},legend:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"6px"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#57606a"},legendDot:{width:"10px",height:"10px",borderRadius:"50%"},svgContainer:{flex:1,height:"100%"},svg:{width:"100%",height:"100%"},detailPanel:{position:"absolute",top:"20px",right:"20px",bottom:"20px",width:"350px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",padding:"20px",overflowY:"auto",zIndex:10},closeBtn:{position:"absolute",top:"10px",right:"10px",width:"28px",height:"28px",border:"none",background:"#f6f8fa",color:"#57606a",borderRadius:"4px",fontSize:"18px",cursor:"pointer"},detailHeader:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},detailTitle:{fontSize:"16px",margin:"0 0 8px 0",color:"#24292f"},detailMeta:{fontSize:"12px",color:"#6e7781",margin:0},detailSection:{marginTop:"20px"},sectionTitle:{fontSize:"12px",color:"#57606a",margin:"0 0 10px 0",textTransform:"uppercase"},description:{fontSize:"13px",color:"#57606a",lineHeight:1.5,margin:0},pathNode:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"4px",marginBottom:"6px",cursor:"pointer",fontSize:"12px",color:"#24292f"},connection:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"4px",marginBottom:"6px",cursor:"pointer",fontSize:"12px",color:"#24292f"},rationale:{color:"#6e7781",fontSize:"11px",marginLeft:"auto"}};function Sm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nu,zy;function X8(){if(zy)return nu;zy=1;function e(){this.__data__=[],this.size=0}return nu=e,nu}var ru,qy;function ji(){if(qy)return ru;qy=1;function e(t,n){return t===n||t!==t&&n!==n}return ru=e,ru}var iu,Oy;function Js(){if(Oy)return iu;Oy=1;var e=ji();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return iu=t,iu}var ou,Dy;function J8(){if(Dy)return ou;Dy=1;var e=Js(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return ou=r,ou}var au,By;function Z8(){if(By)return au;By=1;var e=Js();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return au=t,au}var su,Fy;function e5(){if(Fy)return su;Fy=1;var e=Js();function t(n){return e(this.__data__,n)>-1}return su=t,su}var lu,$y;function t5(){if($y)return lu;$y=1;var e=Js();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return lu=t,lu}var uu,Uy;function Zs(){if(Uy)return uu;Uy=1;var e=X8(),t=J8(),n=Z8(),r=e5(),i=t5();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,uu=o,uu}var cu,Wy;function n5(){if(Wy)return cu;Wy=1;var e=Zs();function t(){this.__data__=new e,this.size=0}return cu=t,cu}var du,Hy;function r5(){if(Hy)return du;Hy=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return du=e,du}var fu,Gy;function i5(){if(Gy)return fu;Gy=1;function e(t){return this.__data__.get(t)}return fu=e,fu}var hu,Vy;function o5(){if(Vy)return hu;Vy=1;function e(t){return this.__data__.has(t)}return hu=e,hu}var pu,Ky;function Z2(){if(Ky)return pu;Ky=1;var e=typeof ta=="object"&&ta&&ta.Object===Object&&ta;return pu=e,pu}var gu,Yy;function Ht(){if(Yy)return gu;Yy=1;var e=Z2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return gu=n,gu}var mu,Qy;function Ei(){if(Qy)return mu;Qy=1;var e=Ht(),t=e.Symbol;return mu=t,mu}var vu,Xy;function a5(){if(Xy)return vu;Xy=1;var e=Ei(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(s?a[i]=l:delete a[i]),d}return vu=o,vu}var yu,Jy;function s5(){if(Jy)return yu;Jy=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return yu=n,yu}var xu,Zy;function Nr(){if(Zy)return xu;Zy=1;var e=Ei(),t=a5(),n=s5(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return xu=a,xu}var _u,ex;function Nt(){if(ex)return _u;ex=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return _u=e,_u}var wu,tx;function Vo(){if(tx)return wu;tx=1;var e=Nr(),t=Nt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return wu=a,wu}var bu,nx;function l5(){if(nx)return bu;nx=1;var e=Ht(),t=e["__core-js_shared__"];return bu=t,bu}var Su,rx;function u5(){if(rx)return Su;rx=1;var e=l5(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Su=n,Su}var Cu,ix;function eC(){if(ix)return Cu;ix=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Cu=n,Cu}var ku,ox;function c5(){if(ox)return ku;ox=1;var e=Vo(),t=u5(),n=Nt(),r=eC(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?d:o;return p.test(r(h))}return ku=f,ku}var ju,ax;function d5(){if(ax)return ju;ax=1;function e(t,n){return t==null?void 0:t[n]}return ju=e,ju}var Eu,sx;function Pr(){if(sx)return Eu;sx=1;var e=c5(),t=d5();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Eu=n,Eu}var Tu,lx;function Cm(){if(lx)return Tu;lx=1;var e=Pr(),t=Ht(),n=e(t,"Map");return Tu=n,Tu}var Ru,ux;function el(){if(ux)return Ru;ux=1;var e=Pr(),t=e(Object,"create");return Ru=t,Ru}var Iu,cx;function f5(){if(cx)return Iu;cx=1;var e=el();function t(){this.__data__=e?e(null):{},this.size=0}return Iu=t,Iu}var Mu,dx;function h5(){if(dx)return Mu;dx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Mu=e,Mu}var Nu,fx;function p5(){if(fx)return Nu;fx=1;var e=el(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return Nu=i,Nu}var Pu,hx;function g5(){if(hx)return Pu;hx=1;var e=el(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Pu=r,Pu}var Au,px;function m5(){if(px)return Au;px=1;var e=el(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Au=n,Au}var Lu,gx;function v5(){if(gx)return Lu;gx=1;var e=f5(),t=h5(),n=p5(),r=g5(),i=m5();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lu=o,Lu}var zu,mx;function y5(){if(mx)return zu;mx=1;var e=v5(),t=Zs(),n=Cm();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return zu=r,zu}var qu,vx;function x5(){if(vx)return qu;vx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return qu=e,qu}var Ou,yx;function tl(){if(yx)return Ou;yx=1;var e=x5();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ou=t,Ou}var Du,xx;function _5(){if(xx)return Du;xx=1;var e=tl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Du=t,Du}var Bu,_x;function w5(){if(_x)return Bu;_x=1;var e=tl();function t(n){return e(this,n).get(n)}return Bu=t,Bu}var Fu,wx;function b5(){if(wx)return Fu;wx=1;var e=tl();function t(n){return e(this,n).has(n)}return Fu=t,Fu}var $u,bx;function S5(){if(bx)return $u;bx=1;var e=tl();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return $u=t,$u}var Uu,Sx;function km(){if(Sx)return Uu;Sx=1;var e=y5(),t=_5(),n=w5(),r=b5(),i=S5();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Uu=o,Uu}var Wu,Cx;function C5(){if(Cx)return Wu;Cx=1;var e=Zs(),t=Cm(),n=km(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return Wu=i,Wu}var Hu,kx;function nl(){if(kx)return Hu;kx=1;var e=Zs(),t=n5(),n=r5(),r=i5(),i=o5(),o=C5();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Hu=a,Hu}var Gu,jx;function jm(){if(jx)return Gu;jx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Gu=e,Gu}var Vu,Ex;function tC(){if(Ex)return Vu;Ex=1;var e=Pr(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Vu=t,Vu}var Ku,Tx;function rl(){if(Tx)return Ku;Tx=1;var e=tC();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Ku=t,Ku}var Yu,Rx;function il(){if(Rx)return Yu;Rx=1;var e=rl(),t=ji(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var l=o[a];(!(r.call(o,a)&&t(l,s))||s===void 0&&!(a in o))&&e(o,a,s)}return Yu=i,Yu}var Qu,Ix;function Ko(){if(Ix)return Qu;Ix=1;var e=il(),t=rl();function n(r,i,o,a){var s=!o;o||(o={});for(var l=-1,c=i.length;++l<c;){var d=i[l],f=a?a(o[d],r[d],d,o,r):void 0;f===void 0&&(f=r[d]),s?t(o,d,f):e(o,d,f)}return o}return Qu=n,Qu}var Xu,Mx;function k5(){if(Mx)return Xu;Mx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Xu=e,Xu}var Ju,Nx;function an(){if(Nx)return Ju;Nx=1;function e(t){return t!=null&&typeof t=="object"}return Ju=e,Ju}var Zu,Px;function j5(){if(Px)return Zu;Px=1;var e=Nr(),t=an(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Zu=r,Zu}var ec,Ax;function Yo(){if(Ax)return ec;Ax=1;var e=j5(),t=an(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return ec=o,ec}var tc,Lx;function Ae(){if(Lx)return tc;Lx=1;var e=Array.isArray;return tc=e,tc}var Xi={exports:{}},nc,zx;function E5(){if(zx)return nc;zx=1;function e(){return!1}return nc=e,nc}Xi.exports;var qx;function Ti(){return qx||(qx=1,function(e,t){var n=Ht(),r=E5(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c}(Xi,Xi.exports)),Xi.exports}var rc,Ox;function ol(){if(Ox)return rc;Ox=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return rc=n,rc}var ic,Dx;function Em(){if(Dx)return ic;Dx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return ic=t,ic}var oc,Bx;function T5(){if(Bx)return oc;Bx=1;var e=Nr(),t=Em(),n=an(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",b="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",T="[object Uint32Array]",A={};A[y]=A[w]=A[_]=A[k]=A[E]=A[b]=A[C]=A[P]=A[T]=!0,A[r]=A[i]=A[x]=A[o]=A[m]=A[a]=A[s]=A[l]=A[c]=A[d]=A[f]=A[h]=A[p]=A[v]=A[g]=!1;function L(F){return n(F)&&t(F.length)&&!!A[e(F)]}return oc=L,oc}var ac,Fx;function al(){if(Fx)return ac;Fx=1;function e(t){return function(n){return t(n)}}return ac=e,ac}var Ji={exports:{}};Ji.exports;var $x;function Tm(){return $x||($x=1,function(e,t){var n=Z2(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Ji,Ji.exports)),Ji.exports}var sc,Ux;function Qo(){if(Ux)return sc;Ux=1;var e=T5(),t=al(),n=Tm(),r=n&&n.isTypedArray,i=r?t(r):e;return sc=i,sc}var lc,Wx;function nC(){if(Wx)return lc;Wx=1;var e=k5(),t=Yo(),n=Ae(),r=Ti(),i=ol(),o=Qo(),a=Object.prototype,s=a.hasOwnProperty;function l(c,d){var f=n(c),h=!f&&t(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&o(c),g=f||h||p||v,x=g?e(c.length,String):[],m=x.length;for(var y in c)(d||s.call(c,y))&&!(g&&(y=="length"||p&&(y=="offset"||y=="parent")||v&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&x.push(y);return x}return lc=l,lc}var uc,Hx;function sl(){if(Hx)return uc;Hx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return uc=t,uc}var cc,Gx;function rC(){if(Gx)return cc;Gx=1;function e(t,n){return function(r){return t(n(r))}}return cc=e,cc}var dc,Vx;function R5(){if(Vx)return dc;Vx=1;var e=rC(),t=e(Object.keys,Object);return dc=t,dc}var fc,Kx;function Rm(){if(Kx)return fc;Kx=1;var e=sl(),t=R5(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return fc=i,fc}var hc,Yx;function En(){if(Yx)return hc;Yx=1;var e=Vo(),t=Em();function n(r){return r!=null&&t(r.length)&&!e(r)}return hc=n,hc}var pc,Qx;function ur(){if(Qx)return pc;Qx=1;var e=nC(),t=Rm(),n=En();function r(i){return n(i)?e(i):t(i)}return pc=r,pc}var gc,Xx;function I5(){if(Xx)return gc;Xx=1;var e=Ko(),t=ur();function n(r,i){return r&&e(i,t(i),r)}return gc=n,gc}var mc,Jx;function M5(){if(Jx)return mc;Jx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return mc=e,mc}var vc,Zx;function N5(){if(Zx)return vc;Zx=1;var e=Nt(),t=sl(),n=M5(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),l=[];for(var c in a)c=="constructor"&&(s||!i.call(a,c))||l.push(c);return l}return vc=o,vc}var yc,e0;function Ar(){if(e0)return yc;e0=1;var e=nC(),t=N5(),n=En();function r(i){return n(i)?e(i,!0):t(i)}return yc=r,yc}var xc,t0;function P5(){if(t0)return xc;t0=1;var e=Ko(),t=Ar();function n(r,i){return r&&e(i,t(i),r)}return xc=n,xc}var Zi={exports:{}};Zi.exports;var n0;function iC(){return n0||(n0=1,function(e,t){var n=Ht(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var f=c.length,h=s?s(f):new c.constructor(f);return c.copy(h),h}e.exports=l}(Zi,Zi.exports)),Zi.exports}var _c,r0;function oC(){if(r0)return _c;r0=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return _c=e,_c}var wc,i0;function aC(){if(i0)return wc;i0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return wc=e,wc}var bc,o0;function sC(){if(o0)return bc;o0=1;function e(){return[]}return bc=e,bc}var Sc,a0;function Im(){if(a0)return Sc;a0=1;var e=aC(),t=sC(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Sc=o,Sc}var Cc,s0;function A5(){if(s0)return Cc;s0=1;var e=Ko(),t=Im();function n(r,i){return e(r,t(r),i)}return Cc=n,Cc}var kc,l0;function Mm(){if(l0)return kc;l0=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return kc=e,kc}var jc,u0;function ll(){if(u0)return jc;u0=1;var e=rC(),t=e(Object.getPrototypeOf,Object);return jc=t,jc}var Ec,c0;function lC(){if(c0)return Ec;c0=1;var e=Mm(),t=ll(),n=Im(),r=sC(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Ec=o,Ec}var Tc,d0;function L5(){if(d0)return Tc;d0=1;var e=Ko(),t=lC();function n(r,i){return e(r,t(r),i)}return Tc=n,Tc}var Rc,f0;function uC(){if(f0)return Rc;f0=1;var e=Mm(),t=Ae();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return Rc=n,Rc}var Ic,h0;function cC(){if(h0)return Ic;h0=1;var e=uC(),t=Im(),n=ur();function r(i){return e(i,n,t)}return Ic=r,Ic}var Mc,p0;function z5(){if(p0)return Mc;p0=1;var e=uC(),t=lC(),n=Ar();function r(i){return e(i,n,t)}return Mc=r,Mc}var Nc,g0;function q5(){if(g0)return Nc;g0=1;var e=Pr(),t=Ht(),n=e(t,"DataView");return Nc=n,Nc}var Pc,m0;function O5(){if(m0)return Pc;m0=1;var e=Pr(),t=Ht(),n=e(t,"Promise");return Pc=n,Pc}var Ac,v0;function dC(){if(v0)return Ac;v0=1;var e=Pr(),t=Ht(),n=e(t,"Set");return Ac=n,Ac}var Lc,y0;function D5(){if(y0)return Lc;y0=1;var e=Pr(),t=Ht(),n=e(t,"WeakMap");return Lc=n,Lc}var zc,x0;function Ri(){if(x0)return zc;x0=1;var e=q5(),t=Cm(),n=O5(),r=dC(),i=D5(),o=Nr(),a=eC(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(e),v=a(t),g=a(n),x=a(r),m=a(i),y=o;return(e&&y(new e(new ArrayBuffer(1)))!=h||t&&y(new t)!=s||n&&y(n.resolve())!=c||r&&y(new r)!=d||i&&y(new i)!=f)&&(y=function(w){var _=o(w),k=_==l?w.constructor:void 0,E=k?a(k):"";if(E)switch(E){case p:return h;case v:return s;case g:return c;case x:return d;case m:return f}return _}),zc=y,zc}var qc,_0;function B5(){if(_0)return qc;_0=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return qc=n,qc}var Oc,w0;function fC(){if(w0)return Oc;w0=1;var e=Ht(),t=e.Uint8Array;return Oc=t,Oc}var Dc,b0;function Nm(){if(b0)return Dc;b0=1;var e=fC();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Dc=t,Dc}var Bc,S0;function F5(){if(S0)return Bc;S0=1;var e=Nm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Bc=t,Bc}var Fc,C0;function $5(){if(C0)return Fc;C0=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Fc=t,Fc}var $c,k0;function U5(){if(k0)return $c;k0=1;var e=Ei(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return $c=r,$c}var Uc,j0;function hC(){if(j0)return Uc;j0=1;var e=Nm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Uc=t,Uc}var Wc,E0;function W5(){if(E0)return Wc;E0=1;var e=Nm(),t=F5(),n=$5(),r=U5(),i=hC(),o="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",w="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",b="[object Uint32Array]";function C(P,T,A){var L=P.constructor;switch(T){case p:return e(P);case o:case a:return new L(+P);case v:return t(P,A);case g:case x:case m:case y:case w:case _:case k:case E:case b:return i(P,A);case s:return new L;case l:case f:return new L(P);case c:return n(P);case d:return new L;case h:return r(P)}}return Wc=C,Wc}var Hc,T0;function pC(){if(T0)return Hc;T0=1;var e=Nt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Hc=n,Hc}var Gc,R0;function gC(){if(R0)return Gc;R0=1;var e=pC(),t=ll(),n=sl();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Gc=r,Gc}var Vc,I0;function H5(){if(I0)return Vc;I0=1;var e=Ri(),t=an(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Vc=r,Vc}var Kc,M0;function G5(){if(M0)return Kc;M0=1;var e=H5(),t=al(),n=Tm(),r=n&&n.isMap,i=r?t(r):e;return Kc=i,Kc}var Yc,N0;function V5(){if(N0)return Yc;N0=1;var e=Ri(),t=an(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Yc=r,Yc}var Qc,P0;function K5(){if(P0)return Qc;P0=1;var e=V5(),t=al(),n=Tm(),r=n&&n.isSet,i=r?t(r):e;return Qc=i,Qc}var Xc,A0;function mC(){if(A0)return Xc;A0=1;var e=nl(),t=jm(),n=il(),r=I5(),i=P5(),o=iC(),a=oC(),s=A5(),l=L5(),c=cC(),d=z5(),f=Ri(),h=B5(),p=W5(),v=gC(),g=Ae(),x=Ti(),m=G5(),y=Nt(),w=K5(),_=ur(),k=Ar(),E=1,b=2,C=4,P="[object Arguments]",T="[object Array]",A="[object Boolean]",L="[object Date]",F="[object Error]",R="[object Function]",$="[object GeneratorFunction]",j="[object Map]",q="[object Number]",I="[object Object]",z="[object RegExp]",N="[object Set]",U="[object String]",W="[object Symbol]",se="[object WeakMap]",K="[object ArrayBuffer]",ke="[object DataView]",Ee="[object Float32Array]",Te="[object Float64Array]",Xe="[object Int8Array]",Rn="[object Int16Array]",Mi="[object Int32Array]",yl="[object Uint8Array]",Jo="[object Uint8ClampedArray]",Zo="[object Uint16Array]",Ni="[object Uint32Array]",fe={};fe[P]=fe[T]=fe[K]=fe[ke]=fe[A]=fe[L]=fe[Ee]=fe[Te]=fe[Xe]=fe[Rn]=fe[Mi]=fe[j]=fe[q]=fe[I]=fe[z]=fe[N]=fe[U]=fe[W]=fe[yl]=fe[Jo]=fe[Zo]=fe[Ni]=!0,fe[F]=fe[R]=fe[se]=!1;function qr(ie,At,O,oe,X,Re){var we,Je=At&E,J=At&b,Lt=At&C;if(O&&(we=X?O(ie,oe,X,Re):O(ie)),we!==void 0)return we;if(!y(ie))return ie;var pt=g(ie);if(pt){if(we=h(ie),!Je)return a(ie,we)}else{var ee=f(ie),Vt=ee==R||ee==$;if(x(ie))return o(ie,Je);if(ee==I||ee==P||Vt&&!X){if(we=J||Vt?{}:v(ie),!Je)return J?l(ie,i(we,ie)):s(ie,r(we,ie))}else{if(!fe[ee])return X?ie:{};we=p(ie,ee,Je)}}Re||(Re=new e);var Ct=Re.get(ie);if(Ct)return Ct;Re.set(ie,we),w(ie)?ie.forEach(function(He){we.add(qr(He,At,O,He,ie,Re))}):m(ie)&&ie.forEach(function(He,gt){we.set(gt,qr(He,At,O,gt,ie,Re))});var Kt=Lt?J?d:c:J?k:_,sn=pt?void 0:Kt(ie);return t(sn||ie,function(He,gt){sn&&(gt=He,He=ie[gt]),n(we,gt,qr(He,At,O,gt,ie,Re))}),we}return Xc=qr,Xc}var Jc,L0;function Y5(){if(L0)return Jc;L0=1;var e=mC(),t=4;function n(r){return e(r,t)}return Jc=n,Jc}var Zc,z0;function Pm(){if(z0)return Zc;z0=1;function e(t){return function(){return t}}return Zc=e,Zc}var ed,q0;function Q5(){if(q0)return ed;q0=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++o];if(r(a[c],c,a)===!1)break}return n}}return ed=e,ed}var td,O0;function Am(){if(O0)return td;O0=1;var e=Q5(),t=e();return td=t,td}var nd,D0;function Lm(){if(D0)return nd;D0=1;var e=Am(),t=ur();function n(r,i){return r&&e(r,i,t)}return nd=n,nd}var rd,B0;function X5(){if(B0)return rd;B0=1;var e=En();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return rd=t,rd}var id,F0;function ul(){if(F0)return id;F0=1;var e=Lm(),t=X5(),n=t(e);return id=n,id}var od,$0;function Lr(){if($0)return od;$0=1;function e(t){return t}return od=e,od}var ad,U0;function vC(){if(U0)return ad;U0=1;var e=Lr();function t(n){return typeof n=="function"?n:e}return ad=t,ad}var sd,W0;function yC(){if(W0)return sd;W0=1;var e=jm(),t=ul(),n=vC(),r=Ae();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return sd=i,sd}var ld,H0;function xC(){return H0||(H0=1,ld=yC()),ld}var ud,G0;function J5(){if(G0)return ud;G0=1;var e=ul();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return ud=t,ud}var cd,V0;function Z5(){if(V0)return cd;V0=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return cd=t,cd}var dd,K0;function e3(){if(K0)return dd;K0=1;function e(t){return this.__data__.has(t)}return dd=e,dd}var fd,Y0;function _C(){if(Y0)return fd;Y0=1;var e=km(),t=Z5(),n=e3();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,fd=r,fd}var hd,Q0;function t3(){if(Q0)return hd;Q0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return hd=e,hd}var pd,X0;function wC(){if(X0)return pd;X0=1;function e(t,n){return t.has(n)}return pd=e,pd}var gd,J0;function bC(){if(J0)return gd;J0=1;var e=_C(),t=t3(),n=wC(),r=1,i=2;function o(a,s,l,c,d,f){var h=l&r,p=a.length,v=s.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),x=f.get(s);if(g&&x)return g==s&&x==a;var m=-1,y=!0,w=l&i?new e:void 0;for(f.set(a,s),f.set(s,a);++m<p;){var _=a[m],k=s[m];if(c)var E=h?c(k,_,m,s,a,f):c(_,k,m,a,s,f);if(E!==void 0){if(E)continue;y=!1;break}if(w){if(!t(s,function(b,C){if(!n(w,C)&&(_===b||d(_,b,l,c,f)))return w.push(C)})){y=!1;break}}else if(!(_===k||d(_,k,l,c,f))){y=!1;break}}return f.delete(a),f.delete(s),y}return gd=o,gd}var md,Z0;function n3(){if(Z0)return md;Z0=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return md=e,md}var vd,e1;function zm(){if(e1)return vd;e1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return vd=e,vd}var yd,t1;function r3(){if(t1)return yd;t1=1;var e=Ei(),t=fC(),n=ji(),r=bC(),i=n3(),o=zm(),a=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",x="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",w=e?e.prototype:void 0,_=w?w.valueOf:void 0;function k(E,b,C,P,T,A,L){switch(C){case y:if(E.byteLength!=b.byteLength||E.byteOffset!=b.byteOffset)return!1;E=E.buffer,b=b.buffer;case m:return!(E.byteLength!=b.byteLength||!A(new t(E),new t(b)));case l:case c:case h:return n(+E,+b);case d:return E.name==b.name&&E.message==b.message;case p:case g:return E==b+"";case f:var F=i;case v:var R=P&a;if(F||(F=o),E.size!=b.size&&!R)return!1;var $=L.get(E);if($)return $==b;P|=s,L.set(E,b);var j=r(F(E),F(b),P,T,A,L);return L.delete(E),j;case x:if(_)return _.call(E)==_.call(b)}return!1}return yd=k,yd}var xd,n1;function i3(){if(n1)return xd;n1=1;var e=cC(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,c,d){var f=s&t,h=e(o),p=h.length,v=e(a),g=v.length;if(p!=g&&!f)return!1;for(var x=p;x--;){var m=h[x];if(!(f?m in a:r.call(a,m)))return!1}var y=d.get(o),w=d.get(a);if(y&&w)return y==a&&w==o;var _=!0;d.set(o,a),d.set(a,o);for(var k=f;++x<p;){m=h[x];var E=o[m],b=a[m];if(l)var C=f?l(b,E,m,a,o,d):l(E,b,m,o,a,d);if(!(C===void 0?E===b||c(E,b,s,l,d):C)){_=!1;break}k||(k=m=="constructor")}if(_&&!k){var P=o.constructor,T=a.constructor;P!=T&&"constructor"in o&&"constructor"in a&&!(typeof P=="function"&&P instanceof P&&typeof T=="function"&&T instanceof T)&&(_=!1)}return d.delete(o),d.delete(a),_}return xd=i,xd}var _d,r1;function o3(){if(r1)return _d;r1=1;var e=nl(),t=bC(),n=r3(),r=i3(),i=Ri(),o=Ae(),a=Ti(),s=Qo(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,x,m,y,w,_){var k=o(g),E=o(x),b=k?d:i(g),C=E?d:i(x);b=b==c?f:b,C=C==c?f:C;var P=b==f,T=C==f,A=b==C;if(A&&a(g)){if(!a(x))return!1;k=!0,P=!1}if(A&&!P)return _||(_=new e),k||s(g)?t(g,x,m,y,w,_):n(g,x,b,m,y,w,_);if(!(m&l)){var L=P&&p.call(g,"__wrapped__"),F=T&&p.call(x,"__wrapped__");if(L||F){var R=L?g.value():g,$=F?x.value():x;return _||(_=new e),w(R,$,m,y,_)}}return A?(_||(_=new e),r(g,x,m,y,w,_)):!1}return _d=v,_d}var wd,i1;function SC(){if(i1)return wd;i1=1;var e=o3(),t=an();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return wd=n,wd}var bd,o1;function a3(){if(o1)return bd;o1=1;var e=nl(),t=SC(),n=1,r=2;function i(o,a,s,l){var c=s.length,d=c,f=!l;if(o==null)return!d;for(o=Object(o);c--;){var h=s[c];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++c<d;){h=s[c];var p=h[0],v=o[p],g=h[1];if(f&&h[2]){if(v===void 0&&!(p in o))return!1}else{var x=new e;if(l)var m=l(v,g,p,o,a,x);if(!(m===void 0?t(g,v,n|r,l,x):m))return!1}}return!0}return bd=i,bd}var Sd,a1;function CC(){if(a1)return Sd;a1=1;var e=Nt();function t(n){return n===n&&!e(n)}return Sd=t,Sd}var Cd,s1;function s3(){if(s1)return Cd;s1=1;var e=CC(),t=ur();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Cd=n,Cd}var kd,l1;function kC(){if(l1)return kd;l1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return kd=e,kd}var jd,u1;function l3(){if(u1)return jd;u1=1;var e=a3(),t=s3(),n=kC();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return jd=r,jd}var Ed,c1;function Ii(){if(c1)return Ed;c1=1;var e=Nr(),t=an(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ed=r,Ed}var Td,d1;function qm(){if(d1)return Td;d1=1;var e=Ae(),t=Ii(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Td=i,Td}var Rd,f1;function u3(){if(f1)return Rd;f1=1;var e=km(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=r.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,Rd=n,Rd}var Id,h1;function c3(){if(h1)return Id;h1=1;var e=u3(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Id=n,Id}var Md,p1;function d3(){if(p1)return Md;p1=1;var e=c3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,c){o.push(l?c.replace(n,"$1"):s||a)}),o});return Md=r,Md}var Nd,g1;function cl(){if(g1)return Nd;g1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Nd=e,Nd}var Pd,m1;function f3(){if(m1)return Pd;m1=1;var e=Ei(),t=cl(),n=Ae(),r=Ii(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Pd=a,Pd}var Ad,v1;function jC(){if(v1)return Ad;v1=1;var e=f3();function t(n){return n==null?"":e(n)}return Ad=t,Ad}var Ld,y1;function dl(){if(y1)return Ld;y1=1;var e=Ae(),t=qm(),n=d3(),r=jC();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return Ld=i,Ld}var zd,x1;function Xo(){if(x1)return zd;x1=1;var e=Ii();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return zd=t,zd}var qd,_1;function fl(){if(_1)return qd;_1=1;var e=dl(),t=Xo();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return qd=n,qd}var Od,w1;function h3(){if(w1)return Od;w1=1;var e=fl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Od=t,Od}var Dd,b1;function p3(){if(b1)return Dd;b1=1;function e(t,n){return t!=null&&n in Object(t)}return Dd=e,Dd}var Bd,S1;function EC(){if(S1)return Bd;S1=1;var e=dl(),t=Yo(),n=Ae(),r=ol(),i=Em(),o=Xo();function a(s,l,c){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var p=o(l[d]);if(!(h=s!=null&&c(s,p)))break;s=s[p]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&r(p,f)&&(n(s)||t(s)))}return Bd=a,Bd}var Fd,C1;function TC(){if(C1)return Fd;C1=1;var e=p3(),t=EC();function n(r,i){return r!=null&&t(r,i,e)}return Fd=n,Fd}var $d,k1;function g3(){if(k1)return $d;k1=1;var e=SC(),t=h3(),n=TC(),r=qm(),i=CC(),o=kC(),a=Xo(),s=1,l=2;function c(d,f){return r(d)&&i(f)?o(a(d),f):function(h){var p=t(h,d);return p===void 0&&p===f?n(h,d):e(f,p,s|l)}}return $d=c,$d}var Ud,j1;function RC(){if(j1)return Ud;j1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Ud=e,Ud}var Wd,E1;function m3(){if(E1)return Wd;E1=1;var e=fl();function t(n){return function(r){return e(r,n)}}return Wd=t,Wd}var Hd,T1;function v3(){if(T1)return Hd;T1=1;var e=RC(),t=m3(),n=qm(),r=Xo();function i(o){return n(o)?e(r(o)):t(o)}return Hd=i,Hd}var Gd,R1;function Tn(){if(R1)return Gd;R1=1;var e=l3(),t=g3(),n=Lr(),r=Ae(),i=v3();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Gd=o,Gd}var Vd,I1;function IC(){if(I1)return Vd;I1=1;var e=aC(),t=J5(),n=Tn(),r=Ae();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return Vd=i,Vd}var Kd,M1;function y3(){if(M1)return Kd;M1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Kd=n,Kd}var Yd,N1;function MC(){if(N1)return Yd;N1=1;var e=y3(),t=EC();function n(r,i){return r!=null&&t(r,i,e)}return Yd=n,Yd}var Qd,P1;function x3(){if(P1)return Qd;P1=1;var e=Rm(),t=Ri(),n=Yo(),r=Ae(),i=En(),o=Ti(),a=sl(),s=Qo(),l="[object Map]",c="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||s(p)||n(p)))return!p.length;var v=t(p);if(v==l||v==c)return!p.size;if(a(p))return!e(p).length;for(var g in p)if(f.call(p,g))return!1;return!0}return Qd=h,Qd}var Xd,A1;function NC(){if(A1)return Xd;A1=1;function e(t){return t===void 0}return Xd=e,Xd}var Jd,L1;function PC(){if(L1)return Jd;L1=1;var e=ul(),t=En();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,c){a[++o]=i(s,l,c)}),a}return Jd=n,Jd}var Zd,z1;function AC(){if(z1)return Zd;z1=1;var e=cl(),t=Tn(),n=PC(),r=Ae();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Zd=i,Zd}var ef,q1;function _3(){if(q1)return ef;q1=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return ef=e,ef}var tf,O1;function w3(){if(O1)return tf;O1=1;function e(t,n,r,i,o){return o(t,function(a,s,l){r=i?(i=!1,a):n(r,a,s,l)}),r}return tf=e,tf}var nf,D1;function LC(){if(D1)return nf;D1=1;var e=_3(),t=ul(),n=Tn(),r=w3(),i=Ae();function o(a,s,l){var c=i(a)?e:r,d=arguments.length<3;return c(a,n(s,4),l,d,t)}return nf=o,nf}var rf,B1;function b3(){if(B1)return rf;B1=1;var e=Nr(),t=Ae(),n=an(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return rf=i,rf}var of,F1;function S3(){if(F1)return of;F1=1;var e=RC(),t=e("length");return of=t,of}var af,$1;function C3(){if($1)return af;$1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(c){return s.test(c)}return af=l,af}var sf,U1;function k3(){if(U1)return sf;U1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=c+"?",g="["+o+"]?",x="(?:"+p+"(?:"+[d,f,h].join("|")+")"+g+v+")*",m=g+v+x,y="(?:"+[d+s+"?",s,f,h,a].join("|")+")",w=RegExp(l+"(?="+l+")|"+y+m,"g");function _(k){for(var E=w.lastIndex=0;w.test(k);)++E;return E}return sf=_,sf}var lf,W1;function j3(){if(W1)return lf;W1=1;var e=S3(),t=C3(),n=k3();function r(i){return t(i)?n(i):e(i)}return lf=r,lf}var uf,H1;function E3(){if(H1)return uf;H1=1;var e=Rm(),t=Ri(),n=En(),r=b3(),i=j3(),o="[object Map]",a="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var c=t(l);return c==o||c==a?l.size:e(l).length}return uf=s,uf}var cf,G1;function T3(){if(G1)return cf;G1=1;var e=jm(),t=pC(),n=Lm(),r=Tn(),i=ll(),o=Ae(),a=Ti(),s=Vo(),l=Nt(),c=Qo();function d(f,h,p){var v=o(f),g=v||a(f)||c(f);if(h=r(h,4),p==null){var x=f&&f.constructor;g?p=v?new x:[]:l(f)?p=s(x)?t(i(f)):{}:p={}}return(g?e:n)(f,function(m,y,w){return h(p,m,y,w)}),p}return cf=d,cf}var df,V1;function R3(){if(V1)return df;V1=1;var e=Ei(),t=Yo(),n=Ae(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return df=i,df}var ff,K1;function Om(){if(K1)return ff;K1=1;var e=Mm(),t=R3();function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var d=r[l];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return ff=n,ff}var hf,Y1;function I3(){if(Y1)return hf;Y1=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return hf=e,hf}var pf,Q1;function zC(){if(Q1)return pf;Q1=1;var e=I3(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(c),e(r,this,d)}}return pf=n,pf}var gf,X1;function M3(){if(X1)return gf;X1=1;var e=Pm(),t=tC(),n=Lr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return gf=r,gf}var mf,J1;function N3(){if(J1)return mf;J1=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return mf=r,mf}var vf,Z1;function qC(){if(Z1)return vf;Z1=1;var e=M3(),t=N3(),n=t(e);return vf=n,vf}var yf,e_;function hl(){if(e_)return yf;e_=1;var e=Lr(),t=zC(),n=qC();function r(i,o){return n(t(i,o,e),i+"")}return yf=r,yf}var xf,t_;function OC(){if(t_)return xf;t_=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return xf=e,xf}var _f,n_;function P3(){if(n_)return _f;n_=1;function e(t){return t!==t}return _f=e,_f}var wf,r_;function A3(){if(r_)return wf;r_=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return wf=e,wf}var bf,i_;function L3(){if(i_)return bf;i_=1;var e=OC(),t=P3(),n=A3();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return bf=r,bf}var Sf,o_;function z3(){if(o_)return Sf;o_=1;var e=L3();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Sf=t,Sf}var Cf,a_;function q3(){if(a_)return Cf;a_=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Cf=e,Cf}var kf,s_;function O3(){if(s_)return kf;s_=1;function e(){}return kf=e,kf}var jf,l_;function D3(){if(l_)return jf;l_=1;var e=dC(),t=O3(),n=zm(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return jf=i,jf}var Ef,u_;function B3(){if(u_)return Ef;u_=1;var e=_C(),t=z3(),n=q3(),r=wC(),i=D3(),o=zm(),a=200;function s(l,c,d){var f=-1,h=t,p=l.length,v=!0,g=[],x=g;if(d)v=!1,h=n;else if(p>=a){var m=c?null:i(l);if(m)return o(m);v=!1,h=r,x=new e}else x=c?[]:g;e:for(;++f<p;){var y=l[f],w=c?c(y):y;if(y=d||y!==0?y:0,v&&w===w){for(var _=x.length;_--;)if(x[_]===w)continue e;c&&x.push(w),g.push(y)}else h(x,w,d)||(x!==g&&x.push(w),g.push(y))}return g}return Ef=s,Ef}var Tf,c_;function DC(){if(c_)return Tf;c_=1;var e=En(),t=an();function n(r){return t(r)&&e(r)}return Tf=n,Tf}var Rf,d_;function F3(){if(d_)return Rf;d_=1;var e=Om(),t=hl(),n=B3(),r=DC(),i=t(function(o){return n(e(o,1,r,!0))});return Rf=i,Rf}var If,f_;function $3(){if(f_)return If;f_=1;var e=cl();function t(n,r){return e(r,function(i){return n[i]})}return If=t,If}var Mf,h_;function BC(){if(h_)return Mf;h_=1;var e=$3(),t=ur();function n(r){return r==null?[]:e(r,t(r))}return Mf=n,Mf}var Nf,p_;function Pt(){if(p_)return Nf;p_=1;var e;if(typeof Sm=="function")try{e={clone:Y5(),constant:Pm(),each:xC(),filter:IC(),has:MC(),isArray:Ae(),isEmpty:x3(),isFunction:Vo(),isUndefined:NC(),keys:ur(),map:AC(),reduce:LC(),size:E3(),transform:T3(),union:F3(),values:BC()}}catch{}return e||(e=window._),Nf=e,Nf}var Pf,g_;function Dm(){if(g_)return Pf;g_=1;var e=Pt();Pf=i;var t="\0",n="\0",r="";function i(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._in[f])})},i.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._out[f])})},i.prototype.setNodes=function(d,f){var h=arguments,p=this;return e.each(d,function(v){h.length>1?p.setNode(v,f):p.setNode(v)}),this},i.prototype.setNode=function(d,f){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return e.has(this._nodes,d)},i.prototype.removeNode=function(d){var f=this;if(e.has(this._nodes,d)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(p){f.setParent(p)}),delete this._children[d]),e.each(e.keys(this._in[d]),h),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var f=this._parent[d];if(f!==n)return f}},i.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var f=this._children[d];if(f)return e.keys(f)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var f=this._preds[d];if(f)return e.keys(f)},i.prototype.successors=function(d){var f=this._sucs[d];if(f)return e.keys(f)},i.prototype.neighbors=function(d){var f=this.predecessors(d);if(f)return e.union(f,this.successors(d))},i.prototype.isLeaf=function(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0},i.prototype.filterNodes=function(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(g,x){d(x)&&f.setNode(x,g)}),e.each(this._edgeObjs,function(g){f.hasNode(g.v)&&f.hasNode(g.w)&&f.setEdge(g,h.edge(g))});var p={};function v(g){var x=h.parent(g);return x===void 0||f.hasNode(x)?(p[g]=x,x):x in p?p[x]:v(x)}return this._isCompound&&e.each(f.nodes(),function(g){f.setParent(g,v(g))}),f},i.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(d,f){var h=this,p=arguments;return e.reduce(d,function(v,g){return p.length>1?h.setEdge(v,g,f):h.setEdge(v,g),g}),this},i.prototype.setEdge=function(){var d,f,h,p,v=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(d=g.v,f=g.w,h=g.name,arguments.length===2&&(p=arguments[1],v=!0)):(d=g,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],v=!0)),d=""+d,f=""+f,e.isUndefined(h)||(h=""+h);var x=s(this._isDirected,d,f,h);if(e.has(this._edgeLabels,x))return v&&(this._edgeLabels[x]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[x]=v?p:this._defaultEdgeLabelFn(d,f,h);var m=l(this._isDirected,d,f,h);return d=m.v,f=m.w,Object.freeze(m),this._edgeObjs[x]=m,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][x]=m,this._out[d][x]=m,this._edgeCount++,this},i.prototype.edge=function(d,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(d,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(d,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h),v=this._edgeObjs[p];return v&&(d=v.v,f=v.w,delete this._edgeLabels[p],delete this._edgeObjs[p],a(this._preds[f],d),a(this._sucs[d],f),delete this._in[f][p],delete this._out[d][p],this._edgeCount--),this},i.prototype.inEdges=function(d,f){var h=this._in[d];if(h){var p=e.values(h);return f?e.filter(p,function(v){return v.v===f}):p}},i.prototype.outEdges=function(d,f){var h=this._out[d];if(h){var p=e.values(h);return f?e.filter(p,function(v){return v.w===f}):p}},i.prototype.nodeEdges=function(d,f){var h=this.inEdges(d,f);if(h)return h.concat(this.outEdges(d,f))};function o(d,f){d[f]?d[f]++:d[f]=1}function a(d,f){--d[f]||delete d[f]}function s(d,f,h,p){var v=""+f,g=""+h;if(!d&&v>g){var x=v;v=g,g=x}return v+r+g+r+(e.isUndefined(p)?t:p)}function l(d,f,h,p){var v=""+f,g=""+h;if(!d&&v>g){var x=v;v=g,g=x}var m={v,w:g};return p&&(m.name=p),m}function c(d,f){return s(d,f.v,f.w,f.name)}return Pf}var Af,m_;function U3(){return m_||(m_=1,Af="2.1.8"),Af}var Lf,v_;function W3(){return v_||(v_=1,Lf={Graph:Dm(),version:U3()}),Lf}var zf,y_;function H3(){if(y_)return zf;y_=1;var e=Pt(),t=Dm();zf={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var l=a.node(s),c=a.parent(s),d={v:s};return e.isUndefined(l)||(d.value=l),e.isUndefined(c)||(d.parent=c),d})}function i(a){return e.map(a.edges(),function(s){var l=a.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(l)||(c.value=l),c})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(a.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return zf}var qf,x_;function G3(){if(x_)return qf;x_=1;var e=Pt();qf=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return qf}var Of,__;function FC(){if(__)return Of;__=1;var e=Pt();Of=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},Of}var Df,w_;function $C(){if(w_)return Df;w_=1;var e=Pt(),t=FC();Df=r;var n=e.constant(1);function r(o,a,s,l){return i(o,String(a),s||n,l||function(c){return o.outEdges(c)})}function i(o,a,s,l){var c={},d=new t,f,h,p=function(v){var g=v.v!==f?v.v:v.w,x=c[g],m=s(v),y=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+m);y<x.distance&&(x.distance=y,x.predecessor=f,d.decrease(g,y))};for(o.nodes().forEach(function(v){var g=v===a?0:Number.POSITIVE_INFINITY;c[v]={distance:g},d.add(v,g)});d.size()>0&&(f=d.removeMin(),h=c[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return c}return Df}var Bf,b_;function V3(){if(b_)return Bf;b_=1;var e=$C(),t=Pt();Bf=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return Bf}var Ff,S_;function UC(){if(S_)return Ff;S_=1;var e=Pt();Ff=t;function t(n){var r=0,i=[],o={},a=[];function s(l){var c=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(o,h)?o[h].onStack&&(c.lowlink=Math.min(c.lowlink,o[h].index)):(s(h),c.lowlink=Math.min(c.lowlink,o[h].lowlink))}),c.lowlink===c.index){var d=[],f;do f=i.pop(),o[f].onStack=!1,d.push(f);while(l!==f);a.push(d)}}return n.nodes().forEach(function(l){e.has(o,l)||s(l)}),a}return Ff}var $f,C_;function K3(){if(C_)return $f;C_=1;var e=Pt(),t=UC();$f=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return $f}var Uf,k_;function Y3(){if(k_)return Uf;k_=1;var e=Pt();Uf=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},l=i.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(d){c!==d&&(s[c][d]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(d){var f=d.v===c?d.w:d.v,h=o(d);s[c][f]={distance:h,predecessor:c}})}),l.forEach(function(c){var d=s[c];l.forEach(function(f){var h=s[f];l.forEach(function(p){var v=h[c],g=d[p],x=h[p],m=v.distance+g.distance;m<x.distance&&(x.distance=m,x.predecessor=g.predecessor)})})}),s}return Uf}var Wf,j_;function WC(){if(j_)return Wf;j_=1;var e=Pt();Wf=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),s),delete o[l],a.push(l))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Wf}var Hf,E_;function Q3(){if(E_)return Hf;E_=1;var e=WC();Hf=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Hf}var Gf,T_;function HC(){if(T_)return Gf;T_=1;var e=Pt();Gf=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,o==="post",l,a,s)}),s}function n(r,i,o,a,s,l){e.has(a,i)||(a[i]=!0,o||l.push(i),e.each(s(i),function(c){n(r,c,o,a,s,l)}),o&&l.push(i))}return Gf}var Vf,R_;function X3(){if(R_)return Vf;R_=1;var e=HC();Vf=t;function t(n,r){return e(n,r,"post")}return Vf}var Kf,I_;function J3(){if(I_)return Kf;I_=1;var e=HC();Kf=t;function t(n,r){return e(n,r,"pre")}return Kf}var Yf,M_;function Z3(){if(M_)return Yf;M_=1;var e=Pt(),t=Dm(),n=FC();Yf=r;function r(i,o){var a=new t,s={},l=new n,c;function d(h){var p=h.v===c?h.w:h.v,v=l.priority(p);if(v!==void 0){var g=o(h);g<v&&(s[p]=c,l.decrease(p,g))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),e.has(s,c))a.setEdge(c,s[c]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(c).forEach(d)}return a}return Yf}var Qf,N_;function eM(){return N_||(N_=1,Qf={components:G3(),dijkstra:$C(),dijkstraAll:V3(),findCycles:K3(),floydWarshall:Y3(),isAcyclic:Q3(),postorder:X3(),preorder:J3(),prim:Z3(),tarjan:UC(),topsort:WC()}),Qf}var Xf,P_;function tM(){if(P_)return Xf;P_=1;var e=W3();return Xf={Graph:e.Graph,json:H3(),alg:eM(),version:e.version},Xf}var js;if(typeof Sm=="function")try{js=tM()}catch{}js||(js=window.graphlib);var Gt=js,Jf,A_;function nM(){if(A_)return Jf;A_=1;var e=mC(),t=1,n=4;function r(i){return e(i,t|n)}return Jf=r,Jf}var Zf,L_;function pl(){if(L_)return Zf;L_=1;var e=ji(),t=En(),n=ol(),r=Nt();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return Zf=i,Zf}var eh,z_;function rM(){if(z_)return eh;z_=1;var e=hl(),t=ji(),n=pl(),r=Ar(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,l){s=Object(s);var c=-1,d=l.length,f=d>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(d=1);++c<d;)for(var h=l[c],p=r(h),v=-1,g=p.length;++v<g;){var x=p[v],m=s[x];(m===void 0||t(m,i[x])&&!o.call(s,x))&&(s[x]=h[x])}return s});return eh=a,eh}var th,q_;function iM(){if(q_)return th;q_=1;var e=Tn(),t=En(),n=ur();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(f){return c(l[f],f,l)}}var d=i(o,a,s);return d>-1?l[c?o[d]:d]:void 0}}return th=r,th}var nh,O_;function oM(){if(O_)return nh;O_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return nh=t,nh}var rh,D_;function aM(){if(D_)return rh;D_=1;var e=oM(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return rh=n,rh}var ih,B_;function sM(){if(B_)return ih;B_=1;var e=aM(),t=Nt(),n=Ii(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?r:+c}return ih=l,ih}var oh,F_;function GC(){if(F_)return oh;F_=1;var e=sM(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return oh=r,oh}var ah,$_;function lM(){if($_)return ah;$_=1;var e=GC();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ah=t,ah}var sh,U_;function uM(){if(U_)return sh;U_=1;var e=OC(),t=Tn(),n=lM(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(o,t(a,3),c)}return sh=i,sh}var lh,W_;function cM(){if(W_)return lh;W_=1;var e=iM(),t=uM(),n=e(t);return lh=n,lh}var uh,H_;function VC(){if(H_)return uh;H_=1;var e=Om();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return uh=t,uh}var ch,G_;function dM(){if(G_)return ch;G_=1;var e=Am(),t=vC(),n=Ar();function r(i,o){return i==null?i:e(i,t(o),n)}return ch=r,ch}var dh,V_;function fM(){if(V_)return dh;V_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return dh=e,dh}var fh,K_;function hM(){if(K_)return fh;K_=1;var e=rl(),t=Lm(),n=Tn();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,c){e(a,l,o(s,l,c))}),a}return fh=r,fh}var hh,Y_;function Bm(){if(Y_)return hh;Y_=1;var e=Ii();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return hh=t,hh}var ph,Q_;function pM(){if(Q_)return ph;Q_=1;function e(t,n){return t>n}return ph=e,ph}var gh,X_;function gM(){if(X_)return gh;X_=1;var e=Bm(),t=pM(),n=Lr();function r(i){return i&&i.length?e(i,n,t):void 0}return gh=r,gh}var mh,J_;function KC(){if(J_)return mh;J_=1;var e=rl(),t=ji();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return mh=n,mh}var vh,Z_;function mM(){if(Z_)return vh;Z_=1;var e=Nr(),t=ll(),n=an(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return vh=c,vh}var yh,ew;function YC(){if(ew)return yh;ew=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return yh=e,yh}var xh,tw;function vM(){if(tw)return xh;tw=1;var e=Ko(),t=Ar();function n(r){return e(r,t(r))}return xh=n,xh}var _h,nw;function yM(){if(nw)return _h;nw=1;var e=KC(),t=iC(),n=hC(),r=oC(),i=gC(),o=Yo(),a=Ae(),s=DC(),l=Ti(),c=Vo(),d=Nt(),f=mM(),h=Qo(),p=YC(),v=vM();function g(x,m,y,w,_,k,E){var b=p(x,y),C=p(m,y),P=E.get(C);if(P){e(x,y,P);return}var T=k?k(b,C,y+"",x,m,E):void 0,A=T===void 0;if(A){var L=a(C),F=!L&&l(C),R=!L&&!F&&h(C);T=C,L||F||R?a(b)?T=b:s(b)?T=r(b):F?(A=!1,T=t(C,!0)):R?(A=!1,T=n(C,!0)):T=[]:f(C)||o(C)?(T=b,o(b)?T=v(b):(!d(b)||c(b))&&(T=i(C))):A=!1}A&&(E.set(C,T),_(T,C,w,k,E),E.delete(C)),e(x,y,T)}return _h=g,_h}var wh,rw;function xM(){if(rw)return wh;rw=1;var e=nl(),t=KC(),n=Am(),r=yM(),i=Nt(),o=Ar(),a=YC();function s(l,c,d,f,h){l!==c&&n(c,function(p,v){if(h||(h=new e),i(p))r(l,c,v,d,s,f,h);else{var g=f?f(a(l,v),p,v+"",l,c,h):void 0;g===void 0&&(g=p),t(l,v,g)}},o)}return wh=s,wh}var bh,iw;function _M(){if(iw)return bh;iw=1;var e=hl(),t=pl();function n(r){return e(function(i,o){var a=-1,s=o.length,l=s>1?o[s-1]:void 0,c=s>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&t(o[0],o[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++a<s;){var d=o[a];d&&r(i,d,a,l)}return i})}return bh=n,bh}var Sh,ow;function wM(){if(ow)return Sh;ow=1;var e=xM(),t=_M(),n=t(function(r,i,o){e(r,i,o)});return Sh=n,Sh}var Ch,aw;function QC(){if(aw)return Ch;aw=1;function e(t,n){return t<n}return Ch=e,Ch}var kh,sw;function bM(){if(sw)return kh;sw=1;var e=Bm(),t=QC(),n=Lr();function r(i){return i&&i.length?e(i,n,t):void 0}return kh=r,kh}var jh,lw;function SM(){if(lw)return jh;lw=1;var e=Bm(),t=Tn(),n=QC();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return jh=r,jh}var Eh,uw;function CM(){if(uw)return Eh;uw=1;var e=Ht(),t=function(){return e.Date.now()};return Eh=t,Eh}var Th,cw;function kM(){if(cw)return Th;cw=1;var e=il(),t=dl(),n=ol(),r=Nt(),i=Xo();function o(a,s,l,c){if(!r(a))return a;s=t(s,a);for(var d=-1,f=s.length,h=f-1,p=a;p!=null&&++d<f;){var v=i(s[d]),g=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return a;if(d!=h){var x=p[v];g=c?c(x,v,p):void 0,g===void 0&&(g=r(x)?x:n(s[d+1])?[]:{})}e(p,v,g),p=p[v]}return a}return Th=o,Th}var Rh,dw;function jM(){if(dw)return Rh;dw=1;var e=fl(),t=kM(),n=dl();function r(i,o,a){for(var s=-1,l=o.length,c={};++s<l;){var d=o[s],f=e(i,d);a(f,d)&&t(c,n(d,i),f)}return c}return Rh=r,Rh}var Ih,fw;function EM(){if(fw)return Ih;fw=1;var e=jM(),t=TC();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return Ih=n,Ih}var Mh,hw;function TM(){if(hw)return Mh;hw=1;var e=VC(),t=zC(),n=qC();function r(i){return n(t(i,void 0,e),i+"")}return Mh=r,Mh}var Nh,pw;function RM(){if(pw)return Nh;pw=1;var e=EM(),t=TM(),n=t(function(r,i){return r==null?{}:e(r,i)});return Nh=n,Nh}var Ph,gw;function IM(){if(gw)return Ph;gw=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=r,r+=o;return c}return Ph=n,Ph}var Ah,mw;function MM(){if(mw)return Ah;mw=1;var e=IM(),t=pl(),n=GC();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Ah=r,Ah}var Lh,vw;function NM(){if(vw)return Lh;vw=1;var e=MM(),t=e();return Lh=t,Lh}var zh,yw;function PM(){if(yw)return zh;yw=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return zh=e,zh}var qh,xw;function AM(){if(xw)return qh;xw=1;var e=Ii();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,c=r===null,d=r===r,f=e(r);if(!c&&!f&&!s&&n>r||s&&l&&d&&!c&&!f||o&&l&&d||!i&&d||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!d)return-1}return 0}return qh=t,qh}var Oh,_w;function LM(){if(_w)return Oh;_w=1;var e=AM();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,c=i.length;++o<l;){var d=e(a[o],s[o]);if(d){if(o>=c)return d;var f=i[o];return d*(f=="desc"?-1:1)}}return n.index-r.index}return Oh=t,Oh}var Dh,ww;function zM(){if(ww)return Dh;ww=1;var e=cl(),t=fl(),n=Tn(),r=PC(),i=PM(),o=al(),a=LM(),s=Lr(),l=Ae();function c(d,f,h){f.length?f=e(f,function(g){return l(g)?function(x){return t(x,g.length===1?g[0]:g)}:g}):f=[s];var p=-1;f=e(f,o(n));var v=r(d,function(g,x,m){var y=e(f,function(w){return w(g)});return{criteria:y,index:++p,value:g}});return i(v,function(g,x){return a(g,x,h)})}return Dh=c,Dh}var Bh,bw;function qM(){if(bw)return Bh;bw=1;var e=Om(),t=zM(),n=hl(),r=pl(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return Bh=i,Bh}var Fh,Sw;function OM(){if(Sw)return Fh;Sw=1;var e=jC(),t=0;function n(r){var i=++t;return e(r)+i}return Fh=n,Fh}var $h,Cw;function DM(){if(Cw)return $h;Cw=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var l=i<a?n[i]:void 0;r(s,t[i],l)}return s}return $h=e,$h}var Uh,kw;function BM(){if(kw)return Uh;kw=1;var e=il(),t=DM();function n(r,i){return t(r||[],i||[],e)}return Uh=n,Uh}var Es;if(typeof Sm=="function")try{Es={cloneDeep:nM(),constant:Pm(),defaults:rM(),each:xC(),filter:IC(),find:cM(),flatten:VC(),forEach:yC(),forIn:dM(),has:MC(),isUndefined:NC(),last:fM(),map:AC(),mapValues:hM(),max:gM(),merge:wM(),min:bM(),minBy:SM(),now:CM(),pick:RM(),range:NM(),reduce:LC(),sortBy:qM(),uniqueId:OM(),values:BC(),zipObject:BM()}}catch{}Es||(Es=window._);var _e=Es,FM=gl;function gl(){var e={};e._next=e._prev=e,this._sentinel=e}gl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return XC(t),t};gl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&XC(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};gl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,$M)),n=n._prev;return"["+e.join(", ")+"]"};function XC(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function $M(e,t){if(e!=="_next"&&e!=="_prev")return t}var vn=_e,UM=Gt.Graph,WM=FM,HM=VM,GM=vn.constant(1);function VM(e,t){if(e.nodeCount()<=1)return[];var n=YM(e,t||GM),r=KM(n.graph,n.buckets,n.zeroIdx);return vn.flatten(vn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function KM(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)Wh(e,t,n,a);for(;a=i.dequeue();)Wh(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(Wh(e,t,n,a,!0));break}}}return r}function Wh(e,t,n,r,i){var o=i?[]:void 0;return vn.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),l=e.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,lg(t,n,l)}),vn.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),l=a.w,c=e.node(l);c.in-=s,lg(t,n,c)}),e.removeNode(r.v),o}function YM(e,t){var n=new UM,r=0,i=0;vn.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),vn.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,c=t(s),d=l+c;n.setEdge(s.v,s.w,d),i=Math.max(i,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var o=vn.range(i+r+3).map(function(){return new WM}),a=r+1;return vn.forEach(n.nodes(),function(s){lg(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function lg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var yr=_e,QM=HM,XM={run:JM,undo:eN};function JM(e){var t=e.graph().acyclicer==="greedy"?QM(e,n(e)):ZM(e);yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function ZM(e){var t=[],n={},r={};function i(o){yr.has(r,o)||(r[o]=!0,n[o]=!0,yr.forEach(e.outEdges(o),function(a){yr.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return yr.forEach(e.nodes(),i),t}function eN(e){yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ce=_e,JC=Gt.Graph,ht={addDummyNode:ZC,simplify:tN,asNonCompoundGraph:nN,successorWeights:rN,predecessorWeights:iN,intersectRect:oN,buildLayerMatrix:aN,normalizeRanks:sN,removeEmptyRanks:lN,addBorderNode:uN,maxRank:ek,partition:cN,time:dN,notime:fN};function ZC(e,t,n,r){var i;do i=ce.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function tN(e){var t=new JC().setGraph(e.graph());return ce.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ce.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function nN(e){var t=new JC({multigraph:e.isMultigraph()}).setGraph(e.graph());return ce.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ce.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function rN(e){var t=ce.map(e.nodes(),function(n){var r={};return ce.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ce.zipObject(e.nodes(),t)}function iN(e){var t=ce.map(e.nodes(),function(n){var r={};return ce.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ce.zipObject(e.nodes(),t)}function oN(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,c=s):(i<0&&(a=-a),l=a,c=a*o/i),{x:n+l,y:r+c}}function aN(e){var t=ce.map(ce.range(ek(e)+1),function(){return[]});return ce.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ce.isUndefined(i)||(t[i][r.order]=n)}),t}function sN(e){var t=ce.min(ce.map(e.nodes(),function(n){return e.node(n).rank}));ce.forEach(e.nodes(),function(n){var r=e.node(n);ce.has(r,"rank")&&(r.rank-=t)})}function lN(e){var t=ce.min(ce.map(e.nodes(),function(o){return e.node(o).rank})),n=[];ce.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;ce.forEach(n,function(o,a){ce.isUndefined(o)&&a%i!==0?--r:r&&ce.forEach(o,function(s){e.node(s).rank+=r})})}function uN(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),ZC(e,"border",i,t)}function ek(e){return ce.max(ce.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ce.isUndefined(n))return n}))}function cN(e,t){var n={lhs:[],rhs:[]};return ce.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function dN(e,t){var n=ce.now();try{return t()}finally{console.log(e+" time: "+(ce.now()-n)+"ms")}}function fN(e,t){return t()}var tk=_e,hN=ht,pN={run:gN,undo:vN};function gN(e){e.graph().dummyChains=[],tk.forEach(e.edges(),function(t){mN(e,t)})}function mN(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),l=s.labelRank;if(o!==r+1){e.removeEdge(t);var c,d,f;for(f=0,++r;r<o;++f,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},c=hN.addDummyNode(e,"edge",d,"_d"),r===l&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:s.weight},a)}}function vN(e){tk.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ca=_e,ml={longestPath:yN,slack:xN};function yN(e){var t={};function n(r){var i=e.node(r);if(Ca.has(t,r))return i.rank;t[r]=!0;var o=Ca.min(Ca.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ca.forEach(e.sources(),n)}function xN(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Ts=_e,_N=Gt.Graph,Rs=ml.slack,nk=wN;function wN(e){var t=new _N({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;bN(t,e)<r;)i=SN(t,e),o=t.hasNode(i.v)?Rs(e,i):-Rs(e,i),CN(t,e,o);return t}function bN(e,t){function n(r){Ts.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!Rs(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Ts.forEach(e.nodes(),n),e.nodeCount()}function SN(e,t){return Ts.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Rs(t,n)})}function CN(e,t,n){Ts.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var kn=_e,kN=nk,jN=ml.slack,EN=ml.longestPath,TN=Gt.alg.preorder,RN=Gt.alg.postorder,IN=ht.simplify,MN=zr;zr.initLowLimValues=$m;zr.initCutValues=Fm;zr.calcCutValue=rk;zr.leaveEdge=ok;zr.enterEdge=ak;zr.exchangeEdges=sk;function zr(e){e=IN(e),EN(e);var t=kN(e);$m(t),Fm(t,e);for(var n,r;n=ok(t);)r=ak(t,e,n),sk(t,e,n,r)}function Fm(e,t){var n=RN(e,e.nodes());n=n.slice(0,n.length-1),kn.forEach(n,function(r){NN(e,t,r)})}function NN(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=rk(e,t,n)}function rk(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,kn.forEach(t.nodeEdges(n),function(l){var c=l.v===n,d=c?l.w:l.v;if(d!==i){var f=c===o,h=t.edge(l).weight;if(s+=f?h:-h,AN(e,n,d)){var p=e.edge(n,d).cutvalue;s+=f?-p:p}}}),s}function $m(e,t){arguments.length<2&&(t=e.nodes()[0]),ik(e,{},1,t)}function ik(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,kn.forEach(e.neighbors(r),function(s){kn.has(t,s)||(n=ik(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function ok(e){return kn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function ak(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var c=kn.filter(t.edges(),function(d){return l===jw(e,e.node(d.v),s)&&l!==jw(e,e.node(d.w),s)});return kn.minBy(c,function(d){return jN(t,d)})}function sk(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),$m(e),Fm(e,t),PN(e,t)}function PN(e,t){var n=kn.find(e.nodes(),function(i){return!t.node(i).parent}),r=TN(e,n);r=r.slice(1),kn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function AN(e,t,n){return e.hasEdge(t,n)}function jw(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var LN=ml,lk=LN.longestPath,zN=nk,qN=MN,ON=DN;function DN(e){switch(e.graph().ranker){case"network-simplex":Ew(e);break;case"tight-tree":FN(e);break;case"longest-path":BN(e);break;default:Ew(e)}}var BN=lk;function FN(e){lk(e),zN(e)}function Ew(e){qN(e)}var ug=_e,$N=UN;function UN(e){var t=HN(e);ug.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=WN(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,c=a[l],d=!0;n!==i.w;){if(r=e.node(n),d){for(;(c=a[l])!==s&&e.node(c).maxRank<r.rank;)l++;c===s&&(d=!1)}if(!d){for(;l<a.length-1&&e.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function WN(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,c;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||s>t[l].lim));for(c=l,l=r;(l=e.parent(l))!==c;)o.push(l);return{path:i.concat(o.reverse()),lca:c}}function HN(e){var t={},n=0;function r(i){var o=n;ug.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return ug.forEach(e.children(),r),t}var yn=_e,cg=ht,GN={run:VN,cleanup:QN};function VN(e){var t=cg.addDummyNode(e,"root",{},"_root"),n=KN(e),r=yn.max(yn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,yn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=YN(e)+1;yn.forEach(e.children(),function(a){uk(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function uk(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=cg.addBorderNode(e,"_bt"),c=cg.addBorderNode(e,"_bb"),d=e.node(a);e.setParent(l,a),d.borderTop=l,e.setParent(c,a),d.borderBottom=c,yn.forEach(s,function(f){uk(e,t,n,r,i,o,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,v=h.borderBottom?h.borderBottom:f,g=h.borderTop?r:2*r,x=p!==v?1:i-o[a]+1;e.setEdge(l,p,{weight:g,minlen:x,nestingEdge:!0}),e.setEdge(v,c,{weight:g,minlen:x,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}function KN(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&yn.forEach(o,function(a){n(a,i+1)}),t[r]=i}return yn.forEach(e.children(),function(r){n(r,1)}),t}function YN(e){return yn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function QN(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,yn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Hh=_e,XN=ht,JN=ZN;function ZN(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Hh.forEach(r,t),Hh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Tw(e,"borderLeft","_bl",n,i,o),Tw(e,"borderRight","_br",n,i,o)}}Hh.forEach(e.children(),t)}function Tw(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=XN.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var Zt=_e,eP={adjust:tP,undo:nP};function tP(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&ck(e)}function nP(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&rP(e),(t==="lr"||t==="rl")&&(iP(e),ck(e))}function ck(e){Zt.forEach(e.nodes(),function(t){Rw(e.node(t))}),Zt.forEach(e.edges(),function(t){Rw(e.edge(t))})}function Rw(e){var t=e.width;e.width=e.height,e.height=t}function rP(e){Zt.forEach(e.nodes(),function(t){Gh(e.node(t))}),Zt.forEach(e.edges(),function(t){var n=e.edge(t);Zt.forEach(n.points,Gh),Zt.has(n,"y")&&Gh(n)})}function Gh(e){e.y=-e.y}function iP(e){Zt.forEach(e.nodes(),function(t){Vh(e.node(t))}),Zt.forEach(e.edges(),function(t){var n=e.edge(t);Zt.forEach(n.points,Vh),Zt.has(n,"x")&&Vh(n)})}function Vh(e){var t=e.x;e.x=e.y,e.y=t}var un=_e,oP=aP;function aP(e){var t={},n=un.filter(e.nodes(),function(s){return!e.children(s).length}),r=un.max(un.map(n,function(s){return e.node(s).rank})),i=un.map(un.range(r+1),function(){return[]});function o(s){if(!un.has(t,s)){t[s]=!0;var l=e.node(s);i[l.rank].push(s),un.forEach(e.successors(s),o)}}var a=un.sortBy(n,function(s){return e.node(s).rank});return un.forEach(a,o),i}var Mn=_e,sP=lP;function lP(e,t){for(var n=0,r=1;r<t.length;++r)n+=uP(e,t[r-1],t[r]);return n}function uP(e,t,n){for(var r=Mn.zipObject(n,Mn.map(n,function(c,d){return d})),i=Mn.flatten(Mn.map(t,function(c){return Mn.sortBy(Mn.map(e.outEdges(c),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Mn.map(new Array(a),function(){return 0}),l=0;return Mn.forEach(i.forEach(function(c){var d=c.pos+o;s[d]+=c.weight;for(var f=0;d>0;)d%2&&(f+=s[d+1]),d=d-1>>1,s[d]+=c.weight;l+=c.weight*f})),l}var Iw=_e,cP=dP;function dP(e,t){return Iw.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Iw.reduce(r,function(o,a){var s=e.edge(a),l=e.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var vt=_e,fP=hP;function hP(e,t){var n={};vt.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};vt.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),vt.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!vt.isUndefined(o)&&!vt.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=vt.filter(n,function(i){return!i.indegree});return pP(r)}function pP(e){var t=[];function n(o){return function(a){a.merged||(vt.isUndefined(a.barycenter)||vt.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&gP(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),vt.forEach(i.in.reverse(),n(i)),vt.forEach(i.out,r(i))}return vt.map(vt.filter(t,function(o){return!o.merged}),function(o){return vt.pick(o,["vs","i","barycenter","weight"])})}function gP(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var eo=_e,mP=ht,vP=yP;function yP(e,t){var n=mP.partition(e,function(d){return eo.has(d,"barycenter")}),r=n.lhs,i=eo.sortBy(n.rhs,function(d){return-d.i}),o=[],a=0,s=0,l=0;r.sort(xP(!!t)),l=Mw(o,i,l),eo.forEach(r,function(d){l+=d.vs.length,o.push(d.vs),a+=d.barycenter*d.weight,s+=d.weight,l=Mw(o,i,l)});var c={vs:eo.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function Mw(e,t,n){for(var r;t.length&&(r=eo.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function xP(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Dn=_e,_P=cP,wP=fP,bP=vP,SP=dk;function dk(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=Dn.filter(i,function(v){return v!==a&&v!==s}));var c=_P(e,i);Dn.forEach(c,function(v){if(e.children(v.v).length){var g=dk(e,v.v,n,r);l[v.v]=g,Dn.has(g,"barycenter")&&kP(v,g)}});var d=wP(c,n);CP(d,l);var f=bP(d,r);if(a&&(f.vs=Dn.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(s)[0]);Dn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function CP(e,t){Dn.forEach(e,function(n){n.vs=Dn.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function kP(e,t){Dn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var to=_e,jP=Gt.Graph,EP=TP;function TP(e,t,n){var r=RP(e),i=new jP({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return to.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),to.forEach(e[n](o),function(l){var c=l.v===o?l.w:l.v,d=i.edge(c,o),f=to.isUndefined(d)?0:d.weight;i.setEdge(c,o,{weight:e.edge(l).weight+f})}),to.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function RP(e){for(var t;e.hasNode(t=to.uniqueId("_root")););return t}var IP=_e,MP=NP;function NP(e,t,n){var r={},i;IP.forEach(n,function(o){for(var a=e.parent(o),s,l;a;){if(s=e.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=s}})}var Zn=_e,PP=oP,AP=sP,LP=SP,zP=EP,qP=MP,OP=Gt.Graph,Nw=ht,DP=BP;function BP(e){var t=Nw.maxRank(e),n=Pw(e,Zn.range(1,t+1),"inEdges"),r=Pw(e,Zn.range(t-1,-1,-1),"outEdges"),i=PP(e);Aw(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){FP(s%2?n:r,s%4>=2),i=Nw.buildLayerMatrix(e);var c=AP(e,i);c<o&&(l=0,a=Zn.cloneDeep(i),o=c)}Aw(e,a)}function Pw(e,t,n){return Zn.map(t,function(r){return zP(e,r,n)})}function FP(e,t){var n=new OP;Zn.forEach(e,function(r){var i=r.graph().root,o=LP(r,i,n,t);Zn.forEach(o.vs,function(a,s){r.node(a).order=s}),qP(r,n,o.vs)})}function Aw(e,t){Zn.forEach(t,function(n){Zn.forEach(n,function(r,i){e.node(r).order=i})})}var Q=_e,$P=Gt.Graph,UP=ht,WP={positionX:tA};function HP(e,t){var n={};function r(i,o){var a=0,s=0,l=i.length,c=Q.last(o);return Q.forEach(o,function(d,f){var h=VP(e,d),p=h?e.node(h).order:l;(h||d===c)&&(Q.forEach(o.slice(s,f+1),function(v){Q.forEach(e.predecessors(v),function(g){var x=e.node(g),m=x.order;(m<a||p<m)&&!(x.dummy&&e.node(v).dummy)&&fk(n,g,v)})}),s=f+1,a=p)}),o}return Q.reduce(t,r),n}function GP(e,t){var n={};function r(o,a,s,l,c){var d;Q.forEach(Q.range(a,s),function(f){d=o[f],e.node(d).dummy&&Q.forEach(e.predecessors(d),function(h){var p=e.node(h);p.dummy&&(p.order<l||p.order>c)&&fk(n,h,d)})})}function i(o,a){var s=-1,l,c=0;return Q.forEach(a,function(d,f){if(e.node(d).dummy==="border"){var h=e.predecessors(d);h.length&&(l=e.node(h[0]).order,r(a,c,f,s,l),c=f,s=l)}r(a,c,a.length,l,o.length)}),a}return Q.reduce(t,i),n}function VP(e,t){if(e.node(t).dummy)return Q.find(e.predecessors(t),function(n){return e.node(n).dummy})}function fk(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function KP(e,t,n){if(t>n){var r=t;t=n,n=r}return Q.has(e[t],n)}function YP(e,t,n,r){var i={},o={},a={};return Q.forEach(t,function(s){Q.forEach(s,function(l,c){i[l]=l,o[l]=l,a[l]=c})}),Q.forEach(t,function(s){var l=-1;Q.forEach(s,function(c){var d=r(c);if(d.length){d=Q.sortBy(d,function(g){return a[g]});for(var f=(d.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var v=d[h];o[c]===c&&l<a[v]&&!KP(n,c,v)&&(o[v]=c,o[c]=i[c]=i[v],l=a[v])}}})}),{root:i,align:o}}function QP(e,t,n,r,i){var o={},a=XP(e,t,n,i),s=i?"borderLeft":"borderRight";function l(f,h){for(var p=a.nodes(),v=p.pop(),g={};v;)g[v]?f(v):(g[v]=!0,p.push(v),p=p.concat(h(v))),v=p.pop()}function c(f){o[f]=a.inEdges(f).reduce(function(h,p){return Math.max(h,o[p.v]+a.edge(p))},0)}function d(f){var h=a.outEdges(f).reduce(function(v,g){return Math.min(v,o[g.w]-a.edge(g))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==s&&(o[f]=Math.max(o[f],h))}return l(c,a.predecessors.bind(a)),l(d,a.successors.bind(a)),Q.forEach(r,function(f){o[f]=o[n[f]]}),o}function XP(e,t,n,r){var i=new $P,o=e.graph(),a=nA(o.nodesep,o.edgesep,r);return Q.forEach(t,function(s){var l;Q.forEach(s,function(c){var d=n[c];if(i.setNode(d),l){var f=n[l],h=i.edge(f,d);i.setEdge(f,d,Math.max(a(e,c,l),h||0))}l=c})}),i}function JP(e,t){return Q.minBy(Q.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Q.forIn(n,function(o,a){var s=rA(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function ZP(e,t){var n=Q.values(t),r=Q.min(n),i=Q.max(n);Q.forEach(["u","d"],function(o){Q.forEach(["l","r"],function(a){var s=o+a,l=e[s],c;if(l!==t){var d=Q.values(l);c=a==="l"?r-Q.min(d):i-Q.max(d),c&&(e[s]=Q.mapValues(l,function(f){return f+c}))}})})}function eA(e,t){return Q.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=Q.sortBy(Q.map(e,r));return(i[1]+i[2])/2})}function tA(e){var t=UP.buildLayerMatrix(e),n=Q.merge(HP(e,t),GP(e,t)),r={},i;Q.forEach(["u","d"],function(a){i=a==="u"?t:Q.values(t).reverse(),Q.forEach(["l","r"],function(s){s==="r"&&(i=Q.map(i,function(f){return Q.values(f).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),c=YP(e,i,n,l),d=QP(e,i,c.root,c.align,s==="r");s==="r"&&(d=Q.mapValues(d,function(f){return-f})),r[a+s]=d})});var o=JP(e,r);return ZP(r,o),eA(r,e.graph().align)}function nA(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),l=0,c;if(l+=a.width/2,Q.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(a.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,Q.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function rA(e,t){return e.node(t).width}var no=_e,hk=ht,iA=WP.positionX,oA=aA;function aA(e){e=hk.asNonCompoundGraph(e),sA(e),no.forEach(iA(e),function(t,n){e.node(n).x=t})}function sA(e){var t=hk.buildLayerMatrix(e),n=e.graph().ranksep,r=0;no.forEach(t,function(i){var o=no.max(no.map(i,function(a){return e.node(a).height}));no.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var te=_e,Lw=XM,zw=pN,lA=ON,uA=ht.normalizeRanks,cA=$N,dA=ht.removeEmptyRanks,qw=GN,fA=JN,Ow=eP,hA=DP,pA=oA,rr=ht,gA=Gt.Graph,mA=vA;function vA(e,t){var n=t&&t.debugTiming?rr.time:rr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return TA(e)});n("  runLayout",function(){yA(r,n)}),n("  updateInputGraph",function(){xA(e,r)})})}function yA(e,t){t("    makeSpaceForEdgeLabels",function(){RA(e)}),t("    removeSelfEdges",function(){OA(e)}),t("    acyclic",function(){Lw.run(e)}),t("    nestingGraph.run",function(){qw.run(e)}),t("    rank",function(){lA(rr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){IA(e)}),t("    removeEmptyRanks",function(){dA(e)}),t("    nestingGraph.cleanup",function(){qw.cleanup(e)}),t("    normalizeRanks",function(){uA(e)}),t("    assignRankMinMax",function(){MA(e)}),t("    removeEdgeLabelProxies",function(){NA(e)}),t("    normalize.run",function(){zw.run(e)}),t("    parentDummyChains",function(){cA(e)}),t("    addBorderSegments",function(){fA(e)}),t("    order",function(){hA(e)}),t("    insertSelfEdges",function(){DA(e)}),t("    adjustCoordinateSystem",function(){Ow.adjust(e)}),t("    position",function(){pA(e)}),t("    positionSelfEdges",function(){BA(e)}),t("    removeBorderNodes",function(){qA(e)}),t("    normalize.undo",function(){zw.undo(e)}),t("    fixupEdgeLabelCoords",function(){LA(e)}),t("    undoCoordinateSystem",function(){Ow.undo(e)}),t("    translateGraph",function(){PA(e)}),t("    assignNodeIntersects",function(){AA(e)}),t("    reversePoints",function(){zA(e)}),t("    acyclic.undo",function(){Lw.undo(e)})}function xA(e,t){te.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),te.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,te.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var _A=["nodesep","edgesep","ranksep","marginx","marginy"],wA={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},bA=["acyclicer","ranker","rankdir","align"],SA=["width","height"],CA={width:0,height:0},kA=["minlen","weight","width","height","labeloffset"],jA={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},EA=["labelpos"];function TA(e){var t=new gA({multigraph:!0,compound:!0}),n=Yh(e.graph());return t.setGraph(te.merge({},wA,Kh(n,_A),te.pick(n,bA))),te.forEach(e.nodes(),function(r){var i=Yh(e.node(r));t.setNode(r,te.defaults(Kh(i,SA),CA)),t.setParent(r,e.parent(r))}),te.forEach(e.edges(),function(r){var i=Yh(e.edge(r));t.setEdge(r,te.merge({},jA,Kh(i,kA),te.pick(i,EA)))}),t}function RA(e){var t=e.graph();t.ranksep/=2,te.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function IA(e){te.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};rr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function MA(e){var t=0;te.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=te.max(t,r.maxRank))}),e.graph().maxRank=t}function NA(e){te.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function PA(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(c){var d=c.x,f=c.y,h=c.width,p=c.height;t=Math.min(t,d-h/2),n=Math.max(n,d+h/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}te.forEach(e.nodes(),function(c){l(e.node(c))}),te.forEach(e.edges(),function(c){var d=e.edge(c);te.has(d,"x")&&l(d)}),t-=a,r-=s,te.forEach(e.nodes(),function(c){var d=e.node(c);d.x-=t,d.y-=r}),te.forEach(e.edges(),function(c){var d=e.edge(c);te.forEach(d.points,function(f){f.x-=t,f.y-=r}),te.has(d,"x")&&(d.x-=t),te.has(d,"y")&&(d.y-=r)}),o.width=n-t+a,o.height=i-r+s}function AA(e){te.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(rr.intersectRect(r,o)),n.points.push(rr.intersectRect(i,a))})}function LA(e){te.forEach(e.edges(),function(t){var n=e.edge(t);if(te.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function zA(e){te.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function qA(e){te.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(te.last(n.borderLeft)),a=e.node(te.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),te.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function OA(e){te.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function DA(e){var t=rr.buildLayerMatrix(e);te.forEach(t,function(n){var r=0;te.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,te.forEach(a.selfEdges,function(s){rr.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function BA(e){te.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function Kh(e,t){return te.mapValues(te.pick(e,t),Number)}function Yh(e){var t={};return te.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var ka=_e,FA=ht,$A=Gt.Graph,UA={debugOrdering:WA};function WA(e){var t=FA.buildLayerMatrix(e),n=new $A({compound:!0,multigraph:!0}).setGraph({});return ka.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),ka.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),ka.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),ka.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var HA="0.8.5",GA={graphlib:Gt,layout:mA,debug:UA,util:{time:ht.time,notime:ht.notime},version:HA};const Dw=Jw(GA);function VA(e,t){const[n,r]=S.useState(e);return S.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function KA(e){const t=new Map;for(const n of e)t.set(n.hash,n),t.set(n.short_hash,n),n.hash.length>=7&&t.set(n.hash.slice(0,7),n);return t}const YA=({nodes:e,gitHistory:t=[],onSelectNode:n,onHighlightNodes:r,placeholder:i="Search nodes, commits, prompts...",query:o,onQueryChange:a,sortOrder:s="newest",onSortOrderChange:l})=>{const[c,d]=S.useState(""),f=o!==void 0,h=f?o:c,p=f?a||(()=>{}):d,[v,g]=S.useState(!1),[x,m]=S.useState(0),y=S.useRef(null),w=S.useRef(null),_=VA(h,150),k=S.useMemo(()=>KA(t),[t]),E=S.useMemo(()=>{var j,q,I,z;if(!_||_.length<2)return[];const L=_.toLowerCase(),F=[],R=new Set;for(const N of e){const U=nr(N.metadata_json);if(N.title.toLowerCase().includes(L)&&(R.has(N.id)||(F.push({node:N,matchType:"title",matchText:N.title}),R.add(N.id))),(j=N.description)!=null&&j.toLowerCase().includes(L)&&(R.has(N.id)||(F.push({node:N,matchType:"description",matchText:N.description}),R.add(N.id))),U!=null&&U.commit){const W=k.get(U.commit)||k.get(U.commit.slice(0,7)),se=((q=W==null?void 0:W.message)==null?void 0:q.toLowerCase())||"";(U.commit.toLowerCase().includes(L)||se.includes(L))&&(R.has(N.id)||(F.push({node:N,matchType:"commit",matchText:(W==null?void 0:W.message)||U.commit,commitInfo:W}),R.add(N.id)))}if((I=U==null?void 0:U.prompt)!=null&&I.toLowerCase().includes(L)&&(R.has(N.id)||(F.push({node:N,matchType:"prompt",matchText:U.prompt}),R.add(N.id))),(z=U==null?void 0:U.files)!=null&&z.some(W=>W.toLowerCase().includes(L))&&!R.has(N.id)){const W=U.files.find(se=>se.toLowerCase().includes(L))||"";F.push({node:N,matchType:"files",matchText:W}),R.add(N.id)}}const $={outcome:0,goal:1,action:2,option:3,decision:4,observation:5};return F.sort((N,U)=>{if(N.matchType==="title"&&U.matchType!=="title")return-1;if(U.matchType==="title"&&N.matchType!=="title")return 1;const W=$[N.node.node_type]??99,se=$[U.node.node_type]??99;if(W!==se)return W-se;const K=new Date(N.node.updated_at).getTime(),ke=new Date(U.node.updated_at).getTime();return s==="oldest"?K-ke:ke-K})},[_,e,k,s]),b=S.useMemo(()=>E.slice(0,15),[E]);S.useEffect(()=>{const L=new Set(E.map(F=>F.node.id));r(L)},[E,r]),S.useEffect(()=>{m(0)},[b]);const C=S.useCallback(L=>{var F,R;if(b.length)switch(L.key){case"ArrowDown":L.preventDefault(),m($=>Math.min($+1,b.length-1));break;case"ArrowUp":L.preventDefault(),m($=>Math.max($-1,0));break;case"Enter":L.preventDefault(),b[x]&&(n(b[x].node),p(""),(F=y.current)==null||F.blur());break;case"Escape":L.preventDefault(),p(""),(R=y.current)==null||R.blur();break}},[b,x,n]);S.useEffect(()=>{if(w.current&&b.length>0){const L=w.current.children[x];L==null||L.scrollIntoView({block:"nearest"})}},[x,b.length]);const P=S.useCallback(L=>{var F;n(L.node),p(""),(F=y.current)==null||F.blur()},[n]),T=v&&b.length>0,A=L=>{switch(L){case"title":return"Title";case"description":return"Desc";case"commit":return"Commit";case"prompt":return"Prompt";case"files":return"File"}};return u.jsxs("div",{style:Ne.container,children:[u.jsxs("div",{style:Ne.inputWrapper,children:[u.jsx("svg",{style:Ne.searchIcon,viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"})}),u.jsx("input",{ref:y,type:"text",value:h,onChange:L=>p(L.target.value),onFocus:()=>g(!0),onBlur:()=>setTimeout(()=>g(!1),200),onKeyDown:C,placeholder:i,style:Ne.input,"aria-label":"Search nodes","aria-expanded":T,"aria-controls":"search-results",role:"combobox"}),h&&u.jsx("button",{onClick:()=>p(""),style:Ne.clearBtn,"aria-label":"Clear search",children:""})]}),T&&u.jsxs("div",{ref:w,id:"search-results",style:Ne.dropdown,role:"listbox",children:[b.map((L,F)=>u.jsxs("div",{onClick:()=>P(L),style:{...Ne.resultItem,...F===x?Ne.resultItemSelected:{}},role:"option","aria-selected":F===x,children:[u.jsxs("div",{style:Ne.resultLeft,children:[u.jsx("div",{style:{...Ne.nodeTypeDot,backgroundColor:ye(L.node.node_type)}}),u.jsxs("span",{style:Ne.nodeId,children:["#",L.node.id]}),u.jsx("span",{style:Ne.resultTitle,children:Oe(L.node.title,35)})]}),u.jsxs("div",{style:Ne.resultRight,children:[u.jsx("span",{style:Ne.matchLabel,children:A(L.matchType)}),L.matchType==="commit"&&L.commitInfo&&u.jsx("span",{style:Ne.commitHash,children:Ks(L.commitInfo.hash)})]})]},`${L.node.id}-${L.matchType}`)),u.jsxs("div",{style:Ne.dropdownFooter,children:[u.jsx("span",{style:Ne.footerHint,children:E.length>15?`Showing 15 of ${E.length}  All ${E.length} highlighted`:" navigate  Enter select  Esc close"}),l&&u.jsx("button",{onClick:L=>{L.preventDefault(),L.stopPropagation(),l(s==="newest"?"oldest":"newest")},style:Ne.sortToggle,title:`Sort by ${s==="newest"?"oldest":"newest"} first`,children:s==="newest"?" Newest":" Oldest"})]})]}),v&&h.length>=2&&E.length===0&&u.jsx("div",{style:Ne.dropdown,children:u.jsx("div",{style:Ne.noResults,children:"No matching nodes found"})})]})},Ne={container:{position:"relative",flex:1,maxWidth:"400px",minWidth:"200px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},searchIcon:{position:"absolute",left:"10px",width:"16px",height:"16px",color:"#57606a",pointerEvents:"none"},input:{width:"100%",padding:"8px 32px 8px 34px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",fontSize:"13px",color:"#24292f",outline:"none",transition:"border-color 0.15s, background-color 0.15s"},clearBtn:{position:"absolute",right:"8px",width:"20px",height:"20px",padding:0,backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#57606a",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},dropdown:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",maxHeight:"400px",overflowY:"auto",zIndex:1e3},resultItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",transition:"background-color 0.1s"},resultItemSelected:{backgroundColor:"#f6f8fa"},resultLeft:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},nodeTypeDot:{width:"8px",height:"8px",borderRadius:"50%",flexShrink:0},nodeId:{fontSize:"11px",color:"#6e7781",fontFamily:"monospace",flexShrink:0},resultTitle:{fontSize:"13px",color:"#24292f",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},resultRight:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0,marginLeft:"8px"},matchLabel:{fontSize:"10px",color:"#57606a",backgroundColor:"#f6f8fa",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},commitHash:{fontSize:"11px",color:"#0969da",fontFamily:"monospace",backgroundColor:"#ddf4ff",padding:"2px 6px",borderRadius:"4px"},dropdownFooter:{padding:"8px 12px",backgroundColor:"#f6f8fa",borderTop:"1px solid #d0d7de",display:"flex",justifyContent:"space-between",alignItems:"center"},footerHint:{fontSize:"11px",color:"#6e7781"},sortToggle:{fontSize:"11px",color:"#0969da",backgroundColor:"#ddf4ff",border:"1px solid #0969da33",borderRadius:"4px",padding:"2px 8px",cursor:"pointer",fontWeight:500,transition:"background-color 0.15s"},noResults:{padding:"16px",textAlign:"center",color:"#57606a",fontSize:"13px"}},QA=380,pk=12,Nn=10,Bw=55,Fw=QA+pk*2,XA=768;function JA(e){if(!e.metadata_json)return null;try{const t=JSON.parse(e.metadata_json);return typeof t.confidence=="number"?t.confidence:null}catch{return null}}const ZA=({nodes:e,selectedNode:t,onSelectNode:n,onClose:r})=>{if(!t)return null;const i=e.find(o=>o.node.id===t.id);return i?u.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"#fff",borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 -4px 20px rgba(0,0,0,0.15)",zIndex:100,padding:"16px 20px 24px",maxHeight:"50vh",overflowY:"auto"},children:[u.jsx("div",{style:{width:40,height:4,backgroundColor:"#d0d7de",borderRadius:2,margin:"0 auto 16px"}}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[u.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:i.color}}),u.jsx("span",{style:{backgroundColor:i.color+"20",color:i.color,padding:"4px 10px",borderRadius:4,fontSize:11,fontWeight:600},children:t.node_type.toUpperCase()}),u.jsxs("span",{style:{color:"#6e7781",fontFamily:"monospace",fontSize:13},children:["#",t.id]}),u.jsx("button",{onClick:r,style:{marginLeft:"auto",background:"none",border:"none",fontSize:24,color:"#6e7781",cursor:"pointer",padding:4},children:""})]}),u.jsx("h3",{style:{margin:"0 0 8px",fontSize:16,color:"#24292f"},children:t.title}),t.description&&u.jsx("p",{style:{margin:"0 0 16px",fontSize:14,color:"#57606a",lineHeight:1.5},children:t.description}),u.jsx("button",{onClick:()=>n(t),style:{width:"100%",padding:"12px 16px",backgroundColor:"#0969da",color:"#fff",border:"none",borderRadius:8,fontSize:14,fontWeight:500,cursor:"pointer"},children:"View Full Details"}),e.length>1&&u.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid #d0d7de"},children:[u.jsxs("div",{style:{fontSize:12,color:"#6e7781",marginBottom:8},children:["Other matches (",e.length-1,")"]}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:e.filter(o=>o.node.id!==t.id).slice(0,6).map(o=>u.jsxs("button",{onClick:()=>n(o.node),style:{padding:"6px 10px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:6,fontSize:12,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:[u.jsx("span",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:o.color}}),"#",o.node.id]},o.node.id))})]})]}):null};function eL(e,t,n){const r=[],i=[],o=new Map(t.map(d=>[d.id,d])),a=[e],s=new Set([e]);for(;a.length>0;){const d=a.shift(),f=n.filter(h=>h.to_node_id===d);for(const h of f)if(!s.has(h.from_node_id)){s.add(h.from_node_id);const p=o.get(h.from_node_id);p&&(r.push(p),a.push(h.from_node_id))}}const l=[e],c=new Set([e]);for(;l.length>0;){const d=l.shift(),f=n.filter(h=>h.from_node_id===d);for(const h of f)if(!c.has(h.to_node_id)){c.add(h.to_node_id);const p=o.get(h.to_node_id);p&&(i.push(p),l.push(h.to_node_id))}}return{ancestors:r,descendants:i}}const $w={goal:0,outcome:1,decision:2,option:3,action:4,observation:5},tL=({callout:e,isHovered:t,onHover:n,onExpand:r,onNavigate:i,onOpenModal:o})=>{const a=JA(e.node);return u.jsxs("div",{style:{backgroundColor:"#fff",border:`1px solid ${t?e.color:"#d0d7de"}`,borderLeft:`4px solid ${e.color}`,borderRadius:8,padding:12,marginBottom:10,cursor:"pointer",boxShadow:t?"0 4px 12px rgba(0,0,0,0.12)":"0 1px 3px rgba(0,0,0,0.08)",transition:"all 0.15s"},onMouseEnter:()=>n(e.node.id),onMouseLeave:()=>n(null),onClick:()=>r(e.node.id),children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8,flexWrap:"wrap"},children:[u.jsx("span",{style:{backgroundColor:e.color+"20",color:e.color,padding:"3px 8px",borderRadius:4,fontSize:10,fontWeight:600,cursor:"pointer"},onClick:s=>{s.stopPropagation(),o(e.node)},title:"Click to open modal and snap to node",children:e.node.node_type.toUpperCase()}),a!==null&&u.jsxs("span",{style:{backgroundColor:a>=80?"#dcfce7":a>=50?"#fef3c7":"#fee2e2",color:a>=80?"#16a34a":a>=50?"#d97706":"#dc2626",padding:"3px 8px",borderRadius:4,fontSize:10,fontWeight:600},children:[a,"%"]}),u.jsxs("span",{style:{color:"#6e7781",fontFamily:"monospace",fontSize:11},children:["#",e.node.id]}),u.jsx("button",{onClick:s=>{s.stopPropagation(),i(e.node),r(e.node.id)},style:{marginLeft:"auto",padding:"4px 10px",backgroundColor:t?"#0969da":"#f6f8fa",color:t?"#fff":"#57606a",border:`1px solid ${t?"#0969da":"#d0d7de"}`,borderRadius:4,fontSize:11,fontWeight:500,cursor:"pointer",transition:"all 0.15s"},title:"View node chain",children:"Chain"})]}),u.jsx("div",{style:{fontSize:13,fontWeight:600,color:"#24292f",marginBottom:6},children:Oe(e.node.title,50)}),u.jsxs("div",{style:{display:"flex",gap:12,fontSize:11,color:"#6e7781"},children:[u.jsxs("span",{children:[u.jsx("strong",{style:{color:"#57606a"},children:"INCOMING"})," (",e.connections.incoming.length,")"]}),u.jsxs("span",{children:[u.jsx("strong",{style:{color:"#57606a"},children:"OUTGOING"})," (",e.connections.outgoing.length,")"]})]}),e.connections.incoming.length>0&&u.jsxs("div",{style:{marginTop:8,padding:"6px 8px",backgroundColor:"#f6f8fa",borderRadius:4,fontSize:11},children:[u.jsx("span",{style:{backgroundColor:ye(e.connections.incoming[0].node.node_type)+"20",color:ye(e.connections.incoming[0].node.node_type),padding:"1px 6px",borderRadius:3,fontSize:9,fontWeight:600,marginRight:6,cursor:"pointer"},onClick:s=>{s.stopPropagation(),o(e.connections.incoming[0].node)},title:"Click to open modal and snap to node",children:e.connections.incoming[0].node.node_type.toUpperCase()}),u.jsx("span",{style:{color:"#24292f"},children:Oe(e.connections.incoming[0].node.title,35)}),e.connections.incoming.length>1&&u.jsxs("span",{style:{color:"#9ca3af",marginLeft:8},children:["+",e.connections.incoming.length-1]})]})]})},nL=({nodes:e,edges:t,highlightedNodeIds:n,visibilityMap:r,containerWidth:i,containerHeight:o,onSelectNode:a,onNavigateToNode:s})=>{const[l,c]=S.useState(null),[d,f]=S.useState(null),[h,p]=S.useState(!1),[v,g]=S.useState(null),[x,m]=S.useState(""),y=S.useRef(null),w=S.useRef(null),[_,k]=S.useState({width:0,height:0});S.useEffect(()=>{const j=()=>{if(w.current){const q=w.current.getBoundingClientRect();k({width:q.width,height:q.height})}};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const E=_.width>0?_.width:i,b=_.height>0?_.height:o;S.useEffect(()=>{m("")},[v]);const C=j=>e.find(q=>q.id===j),P=j=>{s&&s(j)},T=j=>{a(j),s&&s(j)};S.useEffect(()=>{const j=()=>p(window.innerWidth<XA);return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const A=S.useMemo(()=>{const j=[];return e.forEach(q=>{if(!n.has(q.id))return;const I=r.get(q.id);if(!I||I.visibility!=="too-small")return;const z=t.filter(W=>W.to_node_id===q.id),N=t.filter(W=>W.from_node_id===q.id),U={incoming:z.map(W=>({node:C(W.from_node_id),edgeType:W.edge_type,rationale:W.rationale})).filter(W=>W.node),outgoing:N.map(W=>({node:C(W.to_node_id),edgeType:W.edge_type,rationale:W.rationale})).filter(W=>W.node)};j.push({node:q,nodeX:I.screenX+I.screenWidth/2,nodeY:I.screenY+I.screenHeight/2,color:ye(q.node_type),connections:U})}),j.sort((q,I)=>q.nodeY-I.nodeY)},[e,t,n,r]),L=v!==null?C(v):null;if(A.length===0&&!L)return null;if(h)return u.jsxs(u.Fragment,{children:[u.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:40},children:A.map(j=>u.jsxs("g",{children:[u.jsxs("circle",{cx:j.nodeX,cy:j.nodeY,r:Nn+6,fill:j.color,fillOpacity:.3,children:[u.jsx("animate",{attributeName:"r",values:`${Nn+4};${Nn+10};${Nn+4}`,dur:"2s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fill-opacity",values:"0.3;0.1;0.3",dur:"2s",repeatCount:"indefinite"})]}),u.jsx("circle",{cx:j.nodeX,cy:j.nodeY,r:Nn+4,fill:j.color,stroke:"#fff",strokeWidth:2,style:{pointerEvents:"auto",cursor:"pointer"},onClick:()=>f(j.node)}),u.jsxs("text",{x:j.nodeX,y:j.nodeY+Nn+16,fill:j.color,fontSize:"11",fontWeight:"600",textAnchor:"middle",style:{pointerEvents:"none"},children:["#",j.node.id]})]},j.node.id))}),u.jsx(ZA,{nodes:A,selectedNode:d,onSelectNode:a,onClose:()=>f(null)})]});const F=L?(()=>{const j=eL(v,e,t),q=(N,U)=>{const W=$w[N.node_type]??99,se=$w[U.node_type]??99;return W-se},I=x.toLowerCase().trim(),z=N=>{var U;return I?N.title.toLowerCase().includes(I)||N.node_type.toLowerCase().includes(I)||((U=N.description)==null?void 0:U.toLowerCase().includes(I))||String(N.id).includes(I):!0};return{ancestors:[...j.ancestors].filter(z).sort(q),descendants:[...j.descendants].filter(z).sort(q),totalAncestors:j.ancestors.length,totalDescendants:j.descendants.length}})():null,R=E>0?E-Fw:0,$=E>0&&b>0;return u.jsx("div",{ref:w,style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},children:$?u.jsxs(u.Fragment,{children:[u.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:40},children:A.map(j=>{const q=l===j.node.id,I=R,z=Math.min(Math.max(j.nodeY,Bw+40),b-40);return u.jsxs("g",{children:[u.jsx("path",{d:`M ${j.nodeX} ${j.nodeY}
                    Q ${j.nodeX+(I-j.nodeX)*.5} ${j.nodeY}
                      ${I} ${z}`,stroke:j.color,strokeWidth:q?3:2,strokeOpacity:q?.9:.5,fill:"none",strokeDasharray:q?"none":"8,4"}),u.jsx("circle",{cx:j.nodeX,cy:j.nodeY,r:q?Nn+3:Nn,fill:j.color,stroke:"#fff",strokeWidth:2,style:{pointerEvents:"auto",cursor:"pointer",transition:"r 0.15s"},onMouseEnter:()=>c(j.node.id),onMouseLeave:()=>c(null),onClick:()=>P(j.node)})]},j.node.id)})}),A.length>0&&u.jsxs("div",{ref:y,style:{position:"absolute",top:Bw,right:0,width:Fw,bottom:0,backgroundColor:"rgba(246, 248, 250, 0.95)",borderLeft:"1px solid #d0d7de",zIndex:41,display:"flex",flexDirection:"column",pointerEvents:"auto"},children:[u.jsx("div",{style:{padding:"10px 12px",borderBottom:"1px solid #d0d7de",backgroundColor:"#fff",flexShrink:0},children:u.jsxs("span",{style:{fontSize:12,fontWeight:600,color:"#57606a"},children:[A.length," match",A.length!==1?"es":""," found"]})}),u.jsx("div",{style:{flex:1,overflowY:"auto",padding:pk},children:A.map(j=>u.jsx(tL,{callout:j,isHovered:l===j.node.id,onHover:c,onExpand:g,onNavigate:P,onOpenModal:T},j.node.id))})]}),L&&F&&u.jsxs("div",{style:{position:"absolute",bottom:16,left:16,width:380,height:"50%",minHeight:300,maxHeight:"calc(100vh - 160px)",backgroundColor:"#fff",borderRadius:10,display:"flex",flexDirection:"column",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"1px solid #d0d7de",zIndex:50,pointerEvents:"auto",resize:"vertical",overflow:"hidden"},children:[u.jsxs("div",{style:{padding:16,borderBottom:"1px solid #e5e7eb",flexShrink:0},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[u.jsx("span",{style:{backgroundColor:ye(L.node_type)+"20",color:ye(L.node_type),padding:"3px 8px",borderRadius:4,fontSize:10,fontWeight:600,cursor:"pointer"},onClick:()=>T(L),title:"Click to open modal",children:L.node_type.toUpperCase()}),u.jsxs("span",{style:{fontWeight:600,fontSize:14},children:["#",L.id]})]}),u.jsx("button",{onClick:()=>g(null),style:{background:"none",border:"none",fontSize:20,cursor:"pointer",color:"#6e7781",padding:0,lineHeight:1},children:""})]}),u.jsx("h3",{style:{margin:"0 0 12px",fontSize:14,fontWeight:600,lineHeight:1.3},children:Oe(L.title,50)}),u.jsx("button",{onClick:()=>{s&&s(L)},style:{width:"100%",padding:"8px 12px",backgroundColor:"#0969da",color:"#fff",border:"none",borderRadius:6,fontSize:13,fontWeight:500,cursor:"pointer",marginBottom:12},children:"Go to Node"}),u.jsx("input",{type:"text",value:x,onChange:j=>m(j.target.value),placeholder:"Filter chain...",style:{width:"100%",padding:"6px 10px",fontSize:12,border:"1px solid #d0d7de",borderRadius:6,backgroundColor:"#f6f8fa",outline:"none",boxSizing:"border-box"}})]}),u.jsxs("div",{style:{flex:1,overflowY:"auto",padding:16},children:[u.jsxs("div",{style:{marginBottom:16},children:[u.jsxs("div",{style:{fontSize:11,color:"#6e7781",fontWeight:600,marginBottom:6},children:["UPSTREAM ",x?`(${F.ancestors.length}/${F.totalAncestors})`:`(${F.ancestors.length})`]}),F.ancestors.length===0?u.jsx("div",{style:{color:"#9ca3af",fontSize:12,fontStyle:"italic"},children:x&&F.totalAncestors>0?"No matches":"Root node"}):u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[F.ancestors.slice(0,x?15:5).map(j=>u.jsxs("div",{onClick:()=>{s&&s(j),g(j.id)},style:{display:"flex",alignItems:"center",gap:6,padding:"6px 8px",backgroundColor:"#f6f8fa",borderRadius:4,cursor:"pointer",fontSize:12},children:[u.jsx("span",{style:{backgroundColor:ye(j.node_type)+"20",color:ye(j.node_type),padding:"1px 5px",borderRadius:3,fontSize:9,fontWeight:600,cursor:"pointer"},onClick:q=>{q.stopPropagation(),T(j)},title:"Click to open modal",children:j.node_type.slice(0,3).toUpperCase()}),u.jsx("span",{style:{color:"#24292f",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Oe(j.title,30)})]},j.id)),F.ancestors.length>(x?15:5)&&u.jsxs("div",{style:{fontSize:11,color:"#6e7781"},children:["+",F.ancestors.length-(x?15:5)," more"]})]})]}),u.jsxs("div",{style:{padding:"8px 10px",backgroundColor:ye(L.node_type)+"15",borderLeft:`3px solid ${ye(L.node_type)}`,borderRadius:4,marginBottom:16,fontSize:12},children:[u.jsx("div",{style:{fontSize:10,color:"#6e7781",marginBottom:2},children:"CURRENT"}),u.jsx("div",{style:{fontWeight:600},children:Oe(L.title,35)})]}),u.jsxs("div",{children:[u.jsxs("div",{style:{fontSize:11,color:"#6e7781",fontWeight:600,marginBottom:6},children:["DOWNSTREAM ",x?`(${F.descendants.length}/${F.totalDescendants})`:`(${F.descendants.length})`]}),F.descendants.length===0?u.jsx("div",{style:{color:"#9ca3af",fontSize:12,fontStyle:"italic"},children:x&&F.totalDescendants>0?"No matches":"Leaf node"}):u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[F.descendants.slice(0,x?15:5).map(j=>u.jsxs("div",{onClick:()=>{s&&s(j),g(j.id)},style:{display:"flex",alignItems:"center",gap:6,padding:"6px 8px",backgroundColor:"#f6f8fa",borderRadius:4,cursor:"pointer",fontSize:12},children:[u.jsx("span",{style:{backgroundColor:ye(j.node_type)+"20",color:ye(j.node_type),padding:"1px 5px",borderRadius:3,fontSize:9,fontWeight:600,cursor:"pointer"},onClick:q=>{q.stopPropagation(),T(j)},title:"Click to open modal",children:j.node_type.slice(0,3).toUpperCase()}),u.jsx("span",{style:{color:"#24292f",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Oe(j.title,30)})]},j.id)),F.descendants.length>(x?15:5)&&u.jsxs("div",{style:{fontSize:11,color:"#6e7781"},children:["+",F.descendants.length-(x?15:5)," more"]})]})]})]})]})]}):null})},ja=150,Ea=100,Ta=10,rL=({nodes:e,highlightedNodeIds:t,visibilityMap:n,nodePositions:r,graphBounds:i,viewportBounds:o,zoom:a,onNavigateToNode:s})=>{const[l,c]=S.useState(!1),d=S.useMemo(()=>{const v=i.maxX-i.minX,g=i.maxY-i.minY;if(v===0||g===0)return 1;const x=(ja-Ta*2)/v,m=(Ea-Ta*2)/g;return Math.min(x,m)},[i]),f=S.useMemo(()=>e.filter(v=>{if(!t.has(v.id))return!1;const g=n.get(v.id);return(g==null?void 0:g.visibility)==="off-screen"}),[e,t,n]),h=(v,g)=>({x:Ta+(v-i.minX)*d,y:Ta+(g-i.minY)*d}),p=S.useMemo(()=>{const v=h(-o.x/a,-o.y/a);return{x:v.x,y:v.y,width:o.width/a*d,height:o.height/a*d}},[o,a,d,i]);return f.length===0?null:l?u.jsx("div",{style:Ze.collapsedContainer,children:u.jsxs("button",{onClick:()=>c(!1),style:Ze.expandBtn,title:"Show off-screen matches",children:[u.jsx("span",{style:Ze.expandIcon,children:""}),u.jsx("span",{style:Ze.collapsedCount,children:f.length})]})}):u.jsxs("div",{style:Ze.container,children:[u.jsxs("div",{style:Ze.header,children:[u.jsx("span",{style:Ze.title,children:"OFF-SCREEN MATCHES"}),u.jsx("span",{style:Ze.count,children:f.length}),u.jsx("button",{onClick:()=>c(!0),style:Ze.collapseBtn,title:"Collapse minimap",children:""})]}),u.jsxs("svg",{width:ja,height:Ea,style:Ze.svg,children:[u.jsx("rect",{x:0,y:0,width:ja,height:Ea,fill:"#f6f8fa",rx:4}),e.map(v=>{const g=r.get(v.id);if(!g)return null;const{x,y:m}=h(g.x,g.y),y=t.has(v.id);return u.jsx("circle",{cx:x,cy:m,r:y?4:1.5,fill:y?ye(v.node_type):"#d0d7de",opacity:y?1:.5},v.id)}),u.jsx("rect",{x:Math.max(0,p.x),y:Math.max(0,p.y),width:Math.min(p.width,ja-p.x),height:Math.min(p.height,Ea-p.y),fill:"none",stroke:"#0969da",strokeWidth:1.5,rx:2})]}),u.jsxs("div",{style:Ze.list,children:[f.slice(0,5).map(v=>u.jsxs("div",{style:Ze.listItem,onClick:()=>s(v),children:[u.jsx("div",{style:{...Ze.dot,backgroundColor:ye(v.node_type)}}),u.jsxs("span",{style:Ze.nodeId,children:["#",v.id]})]},v.id)),f.length>5&&u.jsxs("div",{style:Ze.moreText,children:["+",f.length-5," more"]})]})]})},Ze={container:{position:"absolute",bottom:"20px",left:"220px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",zIndex:45,overflow:"hidden"},collapsedContainer:{position:"absolute",bottom:"20px",left:"220px",zIndex:45},expandBtn:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",backgroundColor:"#fff",border:"1px solid #d0d7de",borderRadius:"8px",cursor:"pointer",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"background-color 0.15s"},expandIcon:{fontSize:"14px",color:"#57606a"},collapsedCount:{fontSize:"12px",fontWeight:600,color:"#cf222e",backgroundColor:"#ffebe9",padding:"2px 8px",borderRadius:"10px"},header:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderBottom:"1px solid #d0d7de",backgroundColor:"#f6f8fa"},title:{fontSize:"10px",fontWeight:600,color:"#57606a",letterSpacing:"0.5px"},count:{fontSize:"11px",fontWeight:600,color:"#cf222e",backgroundColor:"#ffebe9",padding:"2px 6px",borderRadius:"10px"},collapseBtn:{marginLeft:"auto",padding:"2px 6px",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",color:"#57606a",transition:"background-color 0.15s"},svg:{display:"block"},list:{padding:"8px",borderTop:"1px solid #d0d7de",maxHeight:"100px",overflowY:"auto"},listItem:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 6px",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.1s"},dot:{width:"8px",height:"8px",borderRadius:"50%",flexShrink:0},nodeId:{fontSize:"11px",color:"#24292f",fontFamily:"monospace"},moreText:{fontSize:"10px",color:"#57606a",padding:"4px 6px",fontStyle:"italic"}},Uw=45;function iL(e,t,n,r){const[i,o]=S.useState(new Map),a=S.useRef(!1),s=S.useCallback(()=>{if(!e.current)return;const p=e.current.getBoundingClientRect(),v=p.width,g=p.height,x=new Map;t.forEach((m,y)=>{const w=m.x*n+r.x,_=m.y*n+r.y,k=m.width*n,E=m.height*n,b=w-k/2,C=_-E/2,P=50,T=b+k>=-P&&b<=v+P&&C+E>=-P&&C<=g+P,A=k>=Uw&&E>=Uw;let L;T?A?L="visible":L="too-small":L="off-screen",x.set(y,{visibility:L,screenX:b,screenY:C,screenWidth:k,screenHeight:E})}),o(x)},[e,t,n,r]);S.useEffect(()=>{if(a.current)return;a.current=!0;const h=setTimeout(()=>{s(),a.current=!1},50);return()=>{clearTimeout(h),a.current=!1}},[s]);const l=S.useCallback(h=>{var p;return((p=i.get(h))==null?void 0:p.visibility)??"off-screen"},[i]);let c=0,d=0,f=0;return i.forEach(h=>{switch(h.visibility){case"visible":c++;break;case"too-small":d++;break;case"off-screen":f++;break}}),{visibilityMap:i,getVisibility:l,updateVisibility:s,visibleCount:c,tooSmallCount:d,offScreenCount:f}}const Um=1e3;function Ww(){if(typeof window>"u")return gk();const e=new URLSearchParams(window.location.search),t=e.get("node"),n=e.get("search")||e.get("q"),r=e.get("sort"),i=e.get("view"),o=e.get("chains"),a=e.get("focus"),s=e.get("fullscreen");return{selectedNodeId:t?parseInt(t,10):null,searchQuery:n||"",searchSort:r==="oldest"||r==="newest"?r:"newest",viewMode:i==="all"||i==="single"||i==="recent"?i:"recent",recentChainCount:o?parseInt(o,10):Um,focusChainIndex:a?parseInt(a,10):null,isFullscreen:s==="1"||s==="true"}}function gk(){return{selectedNodeId:null,searchQuery:"",searchSort:"newest",viewMode:"recent",recentChainCount:Um,focusChainIndex:null,isFullscreen:typeof window<"u"&&window.innerWidth>=768}}function mk(e){const t=new URLSearchParams;return e.selectedNodeId!==null&&t.set("node",String(e.selectedNodeId)),e.searchQuery&&t.set("search",e.searchQuery),e.searchSort!=="newest"&&t.set("sort",e.searchSort),e.viewMode!=="recent"&&t.set("view",e.viewMode),e.recentChainCount!==Um&&t.set("chains",String(e.recentChainCount)),e.focusChainIndex!==null&&t.set("focus",String(e.focusChainIndex)),e.isFullscreen&&t.set("fullscreen","1"),t.toString()}function oL(e){if(typeof window>"u")return;const t=mk(e),n=t?`${window.location.pathname}?${t}`:window.location.pathname;window.history.replaceState({},"",n)}function aL(){const[e,t]=S.useState(gk);S.useEffect(()=>{const f=Ww();t(f)},[]),S.useEffect(()=>{oL(e)},[e]),S.useEffect(()=>{const f=()=>{t(Ww())};return window.addEventListener("popstate",f),()=>window.removeEventListener("popstate",f)},[]);const n=S.useCallback(f=>{t(h=>({...h,selectedNodeId:f}))},[]),r=S.useCallback(f=>{t(h=>({...h,searchQuery:f}))},[]),i=S.useCallback(f=>{t(h=>({...h,searchSort:f}))},[]),o=S.useCallback(f=>{t(h=>({...h,viewMode:f}))},[]),a=S.useCallback(f=>{t(h=>({...h,recentChainCount:f}))},[]),s=S.useCallback(f=>{t(h=>({...h,focusChainIndex:f}))},[]),l=S.useCallback(f=>{t(h=>({...h,isFullscreen:f}))},[]),c=S.useCallback(()=>{if(typeof window>"u")return"";const f=mk(e);return f?`${window.location.origin}${window.location.pathname}?${f}`:`${window.location.origin}${window.location.pathname}`},[e]),d=S.useCallback(async()=>{const f=c();try{await navigator.clipboard.writeText(f)}catch{const p=document.createElement("textarea");p.value=f,document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p)}},[c]);return{state:e,setSelectedNodeId:n,setSearchQuery:r,setSearchSort:i,setViewMode:o,setRecentChainCount:a,setFocusChainIndex:s,setIsFullscreen:l,copyLinkToClipboard:d,getShareableUrl:c}}function sL(e,t){return!e||t.length===0?null:t.find(n=>n.hash===e||n.short_hash===e||n.hash.startsWith(e))??null}const Qh=1e3;function Hw(e){return Math.max(...e.nodes.map(t=>new Date(t.updated_at).getTime()))}function lL(e){return[...e].sort((t,n)=>Hw(n)-Hw(t))}const uL=({graphData:e,chains:t,gitHistory:n=[]})=>{const r=S.useRef(null),i=S.useRef(null),[o,a]=S.useState(1),{state:s,setSelectedNodeId:l,setSearchQuery:c,setSearchSort:d,setViewMode:f,setRecentChainCount:h,setFocusChainIndex:p,copyLinkToClipboard:v}=aL(),g=S.useMemo(()=>s.selectedNodeId===null?null:e.nodes.find(O=>O.id===s.selectedNodeId)??null,[s.selectedNodeId,e.nodes]),[x,m]=S.useState(typeof window<"u"&&window.innerWidth<768),[y,w]=S.useState(x);S.useEffect(()=>{const O=()=>{const oe=window.innerWidth<768;m(oe),oe&&w(!0)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[_,k]=S.useState(new Set),[E,b]=S.useState(new Map),[C,P]=S.useState({x:0,y:0}),[T,A]=S.useState({width:0,height:0});S.useEffect(()=>{const O=()=>{i.current&&A({width:i.current.clientWidth,height:i.current.clientHeight})};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[L,F]=S.useState({minX:0,maxX:1e3,minY:0,maxY:1e3}),[R,$]=S.useState(new Set),j=S.useCallback(O=>{$(oe=>{const X=new Set(oe);return X.has(O)?X.delete(O):X.add(O),X})},[]),{visibilityMap:q}=iL(r,E,o,C),I=S.useRef(null),z=S.useMemo(()=>lL(t),[t]),N=S.useMemo(()=>z.filter(O=>O.root.node_type==="goal"),[z]),U=S.useMemo(()=>s.viewMode==="single"&&s.focusChainIndex!==null?[t[s.focusChainIndex]].filter(Boolean):s.viewMode==="recent"?N.slice(0,s.recentChainCount):z,[s.viewMode,s.focusChainIndex,t,N,z,s.recentChainCount]),W=S.useMemo(()=>{const O=new Set;return U.forEach(oe=>{oe.nodes.forEach(X=>O.add(X.id))}),O},[U]),se=S.useMemo(()=>{if(R.size===0)return e;const O=e.nodes.filter(ee=>!R.has(ee.node_type)),oe=new Set(O.map(ee=>ee.id)),X=new Map,Re=new Map;e.edges.forEach(ee=>{X.has(ee.from_node_id)||X.set(ee.from_node_id,[]),X.get(ee.from_node_id).push(ee.to_node_id),Re.has(ee.to_node_id)||Re.set(ee.to_node_id,[]),Re.get(ee.to_node_id).push(ee.from_node_id)});const we=(ee,Vt)=>{const Ct=[],Kt=new Set,sn=[ee];for(;sn.length>0;){const He=sn.shift();if(Kt.has(He))continue;Kt.add(He);const gt=X.get(He)||[];for(const cr of gt)oe.has(cr)?Ct.push(cr):sn.push(cr)}return Ct},Je=[],J=new Set;O.forEach(ee=>{we(ee.id).forEach(Ct=>{const Kt=`${ee.id}-${Ct}`;J.has(Kt)||(J.add(Kt),Je.push({id:-1,from_node_id:ee.id,to_node_id:Ct,from_change_id:null,to_change_id:null,edge_type:"transitive",weight:null,rationale:null,created_at:new Date().toISOString()}))})});const Lt=e.edges.filter(ee=>oe.has(ee.from_node_id)&&oe.has(ee.to_node_id)),pt=[...Lt];return Lt.forEach(ee=>J.add(`${ee.from_node_id}-${ee.to_node_id}`)),Je.forEach(ee=>{const Vt=`${ee.from_node_id}-${ee.to_node_id}`;J.has(Vt)||pt.push(ee)}),{...e,nodes:O,edges:pt}},[e,R]),K=N.length-(s.viewMode==="recent"?s.recentChainCount:0),ke=S.useCallback(O=>{l(O),e.nodes.find(X=>X.id===O)&&setTimeout(()=>{const X=E.get(O);if(X&&r.current&&i.current&&I.current){const Re=Ye(r.current),we=i.current.clientWidth,Je=i.current.clientHeight,J=1.2,Lt=we/2-X.x*J,pt=Je/2-X.y*J;Re.transition().duration(500).call(I.current.transform,ho.translate(Lt,pt).scale(J))}},50)},[l,e.nodes,E]),[Ee,Te]=S.useState(!1),[Xe,Rn]=S.useState(""),Mi=S.useCallback((O=1)=>{h(Math.min(s.recentChainCount+O,N.length)),Te(!1),Rn("")},[s.recentChainCount,N.length,h]),yl=S.useCallback((O=1)=>{h(Math.max(s.recentChainCount-O,1))},[s.recentChainCount,h]),Jo=S.useCallback(()=>{const O=parseInt(Xe,10);O>0&&Mi(O)},[Xe,Mi]),Zo=S.useCallback(()=>{f("all")},[f]),Ni=S.useCallback(()=>{f("recent"),h(Qh),p(null)},[f,h,p]),fe=S.useCallback(()=>{w(O=>!O)},[]);S.useEffect(()=>{const O=oe=>{oe.key==="Escape"&&g&&l(null)};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[g,l]),S.useEffect(()=>{const O=i.current;if(!O)return;const oe=X=>{X.ctrlKey&&X.preventDefault()};return O.addEventListener("wheel",oe,{passive:!1}),()=>O.removeEventListener("wheel",oe)},[]);const qr=S.useCallback(O=>{O===null?(f("recent"),p(null)):(f("single"),p(O))},[f,p]),ie=S.useCallback(O=>{if(!r.current||!i.current||!I.current)return;const oe=Ye(r.current),X=i.current,Re=X.clientWidth,we=X.clientHeight,Je=E.get(O.id);if(!Je)return;const J=1.2,Lt=Re/2-Je.x*J,pt=we/2-Je.y*J;oe.transition().duration(500).call(I.current.transform,ho.translate(Lt,pt).scale(J))},[E]),At=S.useCallback(O=>{l(O.id),ie(O)},[l,ie]);return S.useEffect(()=>{if(!r.current||!i.current)return;const O=Ye(r.current),oe=i.current,X=oe.clientWidth,Re=oe.clientHeight;O.selectAll("*").remove();const we=se.nodes.filter(Y=>W.has(Y.id)),Je=se.edges.filter(Y=>W.has(Y.from_node_id)&&W.has(Y.to_node_id));if(we.length===0)return;const J=new Dw.graphlib.Graph;J.setGraph({rankdir:"TB",nodesep:80,ranksep:100,marginx:50,marginy:50}),J.setDefaultEdgeLabel(()=>({})),we.forEach(Y=>{J.setNode(String(Y.id),{width:150,height:60,node:Y})}),Je.forEach(Y=>{J.setEdge(String(Y.from_node_id),String(Y.to_node_id),{edge:Y})}),Dw.layout(J);const Lt=new Map;let pt=1/0,ee=-1/0,Vt=1/0,Ct=-1/0;J.nodes().forEach(Y=>{const re=J.node(Y);Lt.set(parseInt(Y),{x:re.x,y:re.y,width:re.width,height:re.height}),pt=Math.min(pt,re.x-re.width/2),ee=Math.max(ee,re.x+re.width/2),Vt=Math.min(Vt,re.y-re.height/2),Ct=Math.max(Ct,re.y+re.height/2)}),b(Lt),F({minX:pt,maxX:ee,minY:Vt,maxY:Ct}),A({width:X,height:Re});const Kt=J.graph().width||X,sn=J.graph().height||Re,He=O.append("g"),gt=J2().scaleExtent([.1,3]).on("zoom",Y=>{He.attr("transform",Y.transform),a(Y.transform.k),P({x:Y.transform.x,y:Y.transform.y})});I.current=gt,O.call(gt);const cr=Math.min((X-100)/Kt,(Re-100)/sn,1),yk=(X-Kt*cr)/2,xk=(Re-sn*cr)/2;O.call(gt.transform,ho.translate(yk,xk).scale(cr)),He.append("g").selectAll(".edge").data(J.edges()).join("g").attr("class","edge").each(function(Y){const re=J.edge(Y),ea=re.edge,_k=B8().x(Sl=>Sl.x).y(Sl=>Sl.y).curve(F8),_l=ea.edge_type;let wl=null;_l==="rejected"?wl="5,5":_l==="transitive"&&(wl="3,6");const bl=_l==="transitive";Ye(this).append("path").attr("d",_k(re.points)).attr("fill","none").attr("stroke",bl?"#9ca3af":mR(ea.edge_type)).attr("stroke-width",bl?1.5:2).attr("stroke-opacity",bl?.5:.6).attr("stroke-dasharray",wl).attr("marker-end","url(#arrowhead)")});const Hm=O.append("defs");Hm.append("marker").attr("id","arrowhead").attr("viewBox","-5 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M-5,-5L5,0L-5,5Z").attr("fill","#666");const Gm=Hm.append("filter").attr("id","search-glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");Gm.append("feGaussianBlur").attr("stdDeviation","4").attr("result","coloredBlur");const Vm=Gm.append("feMerge");Vm.append("feMergeNode").attr("in","coloredBlur"),Vm.append("feMergeNode").attr("in","SourceGraphic");const xl=He.append("g").selectAll(".node").data(J.nodes()).join("g").attr("class","node").attr("transform",Y=>{const re=J.node(Y);return`translate(${re.x-re.width/2},${re.y-re.height/2})`}).style("cursor","pointer").on("click",(Y,re)=>{const ea=J.node(re).node;At(ea)});return xl.append("rect").attr("width",Y=>J.node(Y).width).attr("height",Y=>J.node(Y).height).attr("rx",8).attr("fill",Y=>{const re=J.node(Y).node;return ye(re.node_type)}).attr("fill-opacity",Y=>{const re=J.node(Y).node;return _.has(re.id)?.5:.2}).attr("stroke",Y=>{const re=J.node(Y).node;return _.has(re.id)?"#f59e0b":ye(re.node_type)}).attr("stroke-width",Y=>{const re=J.node(Y).node;return _.has(re.id)?4:2}).attr("filter",Y=>{const re=J.node(Y).node;return _.has(re.id)?"url(#search-glow)":null}),xl.append("text").attr("x",10).attr("y",18).attr("fill","#666").attr("font-size","10px").text(Y=>`#${Y}`),xl.append("text").attr("x",Y=>J.node(Y).width/2).attr("y",38).attr("text-anchor","middle").attr("fill","#24292f").attr("font-size","12px").text(Y=>{const re=J.node(Y).node;return Oe(re.title,20)}),()=>{O.on(".zoom",null)}},[e,se,W,At,_]),u.jsxs("div",{style:{...H.container,...H.fullscreenContainer},children:[u.jsxs("div",{style:{...H.topBar,...H.fullscreenTopBar,...x?H.topBarMobile:{}},children:[u.jsx("div",{style:{...H.topBarLeft,...x?H.topBarLeftMobile:{}},children:u.jsx(YA,{nodes:e.nodes,gitHistory:n,onSelectNode:At,onHighlightNodes:k,placeholder:"Search nodes, commits...",query:s.searchQuery,onQueryChange:c,sortOrder:s.searchSort,onSortOrderChange:d})}),u.jsxs("div",{style:{...H.topBarCenter,...x?H.topBarCenterMobile:{}},children:[s.viewMode==="recent"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>yl(1),style:{...H.topBarBtnDanger,...s.recentChainCount<=1?H.topBarBtnDisabled:{}},disabled:s.recentChainCount<=1,title:s.recentChainCount<=1?"Already showing minimum":"Show one fewer goal chain",children:"1 Chain"}),u.jsx("button",{onClick:()=>Mi(1),style:{...H.topBarBtn,...K<=0?H.topBarBtnDisabled:{}},disabled:K<=0,title:K<=0?"All chains shown":"Show one more goal chain",children:"+1 Chain"}),Ee?u.jsxs("div",{style:H.expandInputRow,children:[u.jsx("input",{type:"number",min:"1",max:K,value:Xe,onChange:O=>Rn(O.target.value),onKeyDown:O=>O.key==="Enter"&&Jo(),placeholder:String(K),style:H.topBarInput,autoFocus:!0}),u.jsx("button",{onClick:Jo,style:H.topBarBtn,children:"Add"})]}):u.jsx("button",{onClick:()=>Te(!0),style:{...H.topBarBtn,...K<=0?H.topBarBtnDisabled:{}},disabled:K<=0,title:K<=0?"All chains shown":"Add a specific number of chains",children:"+N..."}),u.jsxs("button",{onClick:Zo,style:{...H.topBarBtnSecondary,...K<=0?H.topBarBtnDisabled:{}},disabled:K<=0,title:K<=0?"All chains shown":"Show all goal chains in the graph",children:["Show All (",N.length,")"]}),s.recentChainCount>Qh&&u.jsxs("button",{onClick:Ni,style:H.topBarBtnSecondary,children:["Reset to ",Qh]})]}),s.viewMode==="all"&&u.jsx("button",{onClick:Ni,style:H.topBarBtn,children:"Show Recent Only"}),s.viewMode==="single"&&u.jsx("button",{onClick:Ni,style:H.topBarBtn,children:"Back to Recent"}),u.jsxs("select",{value:s.focusChainIndex??"",onChange:O=>qr(O.target.value?Number(O.target.value):null),style:H.topBarSelect,title:"Jump to a specific goal chain",children:[u.jsx("option",{value:"",children:"Jump to Chain..."}),N.map(O=>u.jsx("option",{value:t.indexOf(O),children:Oe(O.root.title,30)},O.root.id))]})]}),u.jsxs("div",{style:{...H.topBarRight,...x?H.topBarRightMobile:{}},children:[_.size>0&&u.jsxs(u.Fragment,{children:[u.jsxs("span",{style:H.matchCount,children:[_.size," matches"]}),u.jsx("span",{style:H.topBarStatDivider,children:""})]}),u.jsxs("span",{style:H.topBarStat,children:[W.size," nodes"]}),u.jsx("span",{style:H.topBarStatDivider,children:""}),u.jsxs("span",{style:H.topBarStat,children:[U.length," chains"]}),u.jsx("button",{onClick:async()=>{await v()},style:H.copyLinkBtn,title:"Copy shareable link to clipboard",children:" Copy Link"})]}),!x&&u.jsx("div",{style:H.floatingLegend,children:Object.entries(ys).map(([O,oe])=>u.jsxs("div",{style:H.floatingLegendItem,title:O,children:[u.jsx("div",{style:{...H.floatingLegendDot,backgroundColor:oe}}),u.jsx("span",{style:H.floatingLegendLabel,children:O.slice(0,3)})]},O))})]}),s.viewMode==="recent"&&K>0&&u.jsxs("div",{style:H.hiddenIndicator,children:[u.jsxs("span",{style:H.hiddenIndicatorText,children:["+ ",K," older goal chain",K!==1?"s":""," not shown"]}),u.jsx("button",{onClick:Zo,style:H.hiddenIndicatorBtn,children:"Show all"})]}),!x&&u.jsxs("div",{style:{...H.controls,...y?H.controlsCollapsed:{},...H.controlsFullscreen},children:[u.jsx("button",{onClick:fe,style:H.collapseBtn,title:y?"Show controls":"Hide controls",children:y?"":""}),!y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:H.legend,children:[u.jsx("div",{style:H.legendTitle,children:"Node Types"}),u.jsx("div",{style:H.filterHint,children:"Click to hide/show"}),Object.entries(ys).map(([O,oe])=>{const X=R.has(O);return u.jsxs("div",{style:{...H.legendItem,opacity:X?.4:1,cursor:"pointer"},onClick:()=>j(O),title:X?`Show ${O} nodes`:`Hide ${O} nodes`,children:[u.jsx("input",{type:"checkbox",checked:!X,onChange:()=>j(O),style:{marginRight:6,cursor:"pointer"}}),u.jsx("div",{style:{...H.legendDot,backgroundColor:oe,opacity:X?.3:1}}),u.jsx("span",{style:{textDecoration:X?"line-through":"none"},children:O})]},O)}),R.size>0&&u.jsx("button",{onClick:()=>$(new Set),style:H.showAllBtn,children:"Show all types"})]}),u.jsxs("div",{style:H.zoomInfo,children:["Zoom: ",Math.round(o*100),"%"]})]})]}),u.jsxs("div",{ref:i,style:H.svgContainer,children:[u.jsx("svg",{ref:r,style:H.svg}),_.size>0&&u.jsx(nL,{nodes:se.nodes,edges:se.edges,highlightedNodeIds:_,visibilityMap:q,containerWidth:T.width,containerHeight:T.height,onSelectNode:At,onNavigateToNode:ie}),_.size>0&&u.jsx(rL,{nodes:e.nodes,highlightedNodeIds:_,visibilityMap:q,nodePositions:E,graphBounds:L,viewportBounds:{x:C.x,y:C.y,width:T.width,height:T.height},zoom:o,onNavigateToNode:ie})]}),g&&u.jsx("div",{style:H.modalBackdrop,onClick:()=>l(null),children:u.jsxs("div",{style:H.modal,onClick:O=>O.stopPropagation(),children:[u.jsxs("div",{style:H.modalHeader,children:[u.jsxs("div",{style:H.modalHeaderLeft,children:[u.jsx(ft,{type:g.node_type}),u.jsx(Uo,{confidence:vi(g)}),u.jsx(yi,{commit:rn(g)})]}),u.jsx("button",{onClick:()=>l(null),style:H.modalCloseBtn,children:""})]}),u.jsx("h2",{style:H.modalTitle,children:g.title}),u.jsxs("p",{style:H.modalMeta,children:["Node #",g.id,"  Created ",new Date(g.created_at).toLocaleString()]}),(()=>{const O=rn(g),oe=sL(O,n);if(!O)return null;const X=w2(e);return u.jsxs("div",{style:H.commitSection,children:[u.jsx("a",{href:fm(O,X),target:"_blank",rel:"noopener noreferrer",style:H.commitLink,children:Ks(O)}),oe?u.jsxs(u.Fragment,{children:[u.jsx("div",{style:H.commitMessage,children:oe.message}),u.jsxs("div",{style:H.commitMeta,children:["by ",oe.author,"  ",new Date(oe.date).toLocaleDateString(),oe.files_changed&&`  ${oe.files_changed} files changed`]})]}):u.jsx("div",{style:H.commitMeta,children:"Commit details not available"})]})})(),g.description&&u.jsx("div",{style:H.modalSection,children:u.jsx("p",{style:H.modalDescription,children:g.description})}),u.jsx(cL,{node:g,graphData:e,onSelectNode:ke}),u.jsx("div",{style:H.modalFooter,children:u.jsx("span",{style:H.modalHint,children:"Click connected nodes to navigate  Click outside or  to close"})})]})})]})},cL=({node:e,graphData:t,onSelectNode:n})=>{const r=t.edges.filter(a=>a.to_node_id===e.id),i=t.edges.filter(a=>a.from_node_id===e.id),o=a=>t.nodes.find(s=>s.id===a);return u.jsxs(u.Fragment,{children:[r.length>0&&u.jsxs("div",{style:H.detailSection,children:[u.jsxs("h4",{style:H.sectionTitle,children:["Incoming (",r.length,")"]}),r.map(a=>{const s=o(a.from_node_id);return u.jsxs("div",{onClick:()=>n(a.from_node_id),style:H.connection,children:[u.jsx(ft,{type:(s==null?void 0:s.node_type)||"observation",size:"sm"}),u.jsx("span",{children:Oe((s==null?void 0:s.title)||"Unknown",25)})]},a.id)})]}),i.length>0&&u.jsxs("div",{style:H.detailSection,children:[u.jsxs("h4",{style:H.sectionTitle,children:["Outgoing (",i.length,")"]}),i.map(a=>{const s=o(a.to_node_id);return u.jsxs("div",{onClick:()=>n(a.to_node_id),style:H.connection,children:[u.jsx(xs,{type:a.edge_type}),u.jsx(ft,{type:(s==null?void 0:s.node_type)||"observation",size:"sm"}),u.jsx("span",{children:Oe((s==null?void 0:s.title)||"Unknown",20)})]},a.id)})]})]})},H={container:{height:"100%",display:"flex",flexDirection:"column",position:"relative",backgroundColor:"#ffffff"},fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,height:"100vh"},topBar:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",backgroundColor:"#f6f8fa",borderBottom:"1px solid #d0d7de",zIndex:20,flexShrink:0,flexWrap:"wrap",gap:"8px"},topBarLeft:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0,maxWidth:"400px"},topBarCenter:{display:"flex",alignItems:"center",gap:"8px"},topBarBtn:{padding:"6px 12px",backgroundColor:"#2da44e",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnSecondary:{padding:"6px 12px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",color:"#24292f",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnDanger:{padding:"6px 12px",backgroundColor:"#ffebe9",border:"1px solid #ff8182",borderRadius:"6px",color:"#cf222e",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnDisabled:{opacity:.5,cursor:"not-allowed"},topBarInput:{width:"50px",padding:"5px 8px",backgroundColor:"#ffffff",border:"1px solid #2da44e",borderRadius:"6px",color:"#24292f",fontSize:"12px",textAlign:"center"},topBarRight:{display:"flex",alignItems:"center",gap:"8px"},topBarStat:{fontSize:"12px",color:"#57606a"},matchCount:{fontSize:"12px",fontWeight:600,color:"#f59e0b",backgroundColor:"#fef3c7",padding:"2px 8px",borderRadius:"10px"},topBarStatDivider:{color:"#d0d7de"},copyLinkBtn:{marginLeft:"12px",padding:"6px 12px",backgroundColor:"#ddf4ff",border:"1px solid #54aeff",borderRadius:"6px",color:"#0969da",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarSelect:{padding:"6px 10px",fontSize:"12px",border:"1px solid #d0d7de",borderRadius:"6px",backgroundColor:"#fff",color:"#24292f",cursor:"pointer",marginLeft:"8px",maxWidth:"200px"},floatingLegend:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:"10px",padding:"4px 12px",backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"16px",boxShadow:"0 1px 4px rgba(0,0,0,0.1)",zIndex:5},floatingLegendItem:{display:"flex",alignItems:"center",gap:"4px"},floatingLegendDot:{width:"8px",height:"8px",borderRadius:"50%"},floatingLegendLabel:{fontSize:"9px",color:"#6e7781",textTransform:"uppercase",fontWeight:500},fullscreenTopBar:{padding:"8px 20px"},topBarMobile:{flexDirection:"column",padding:"8px 12px",gap:"8px"},topBarLeftMobile:{maxWidth:"100%",width:"100%"},topBarCenterMobile:{flexWrap:"wrap",width:"100%",justifyContent:"flex-start"},topBarRightMobile:{width:"100%",justifyContent:"space-between"},hiddenIndicator:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"8px 20px",backgroundColor:"#fff8c5",borderBottom:"1px solid #d4a72c",flexShrink:0},hiddenIndicatorText:{fontSize:"12px",color:"#9a6700",fontStyle:"italic"},hiddenIndicatorBtn:{padding:"4px 10px",backgroundColor:"transparent",border:"1px solid #9a6700",borderRadius:"4px",color:"#9a6700",fontSize:"11px",cursor:"pointer"},controls:{position:"absolute",top:"70px",left:"20px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",padding:"15px",borderRadius:"8px",zIndex:10,width:"180px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",transition:"width 0.2s, padding 0.2s"},controlsCollapsed:{width:"40px",padding:"8px",overflow:"hidden"},controlsFullscreen:{top:"60px"},collapseBtn:{width:"24px",height:"24px",padding:0,backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#57606a",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},expandInputRow:{display:"flex",gap:"4px",alignItems:"center"},legend:{marginTop:"20px"},legendTitle:{fontSize:"11px",color:"#57606a",marginBottom:"8px",textTransform:"uppercase"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#57606a",marginBottom:"4px"},legendDot:{width:"10px",height:"10px",borderRadius:"50%"},filterHint:{fontSize:"9px",color:"#8b949e",marginBottom:"8px",fontStyle:"italic"},showAllBtn:{marginTop:"8px",padding:"4px 8px",fontSize:"10px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"4px",cursor:"pointer",color:"#0969da",width:"100%"},zoomInfo:{marginTop:"15px",fontSize:"11px",color:"#6e7781"},svgContainer:{flex:1,position:"relative",minHeight:0,backgroundColor:"#f6f8fa",touchAction:"none",overflow:"hidden"},svg:{width:"100%",height:"100%",touchAction:"none"},modalBackdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},modal:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",border:"1px solid #d0d7de",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},modalHeaderLeft:{display:"flex",gap:"8px",flexWrap:"wrap"},modalCloseBtn:{width:"32px",height:"32px",border:"none",background:"#f6f8fa",color:"#57606a",borderRadius:"6px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.15s"},modalTitle:{fontSize:"20px",fontWeight:600,margin:"0 0 8px 0",color:"#24292f"},modalMeta:{fontSize:"13px",color:"#57606a",margin:"0 0 16px 0"},modalSection:{marginBottom:"20px",padding:"12px",backgroundColor:"#f6f8fa",borderRadius:"8px"},modalDescription:{fontSize:"14px",color:"#24292f",lineHeight:1.6,margin:0},commitSection:{backgroundColor:"#f6f8fa",padding:"12px 16px",borderRadius:"8px",borderLeft:"3px solid #0969da",marginBottom:"16px"},commitLink:{fontFamily:"monospace",fontSize:"13px",color:"#0969da",textDecoration:"none",backgroundColor:"#ddf4ff",padding:"2px 8px",borderRadius:"4px"},commitMessage:{fontSize:"15px",color:"#24292f",marginTop:"10px",lineHeight:1.5,fontWeight:500,whiteSpace:"pre-wrap"},commitMeta:{fontSize:"12px",color:"#57606a",marginTop:"6px"},modalFooter:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid #d0d7de"},modalHint:{fontSize:"12px",color:"#6e7781",fontStyle:"italic"},detailSection:{marginTop:"16px"},sectionTitle:{fontSize:"12px",color:"#57606a",margin:"0 0 10px 0",textTransform:"uppercase",fontWeight:600},connection:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",backgroundColor:"#f6f8fa",borderRadius:"6px",marginBottom:"6px",cursor:"pointer",fontSize:"13px",color:"#24292f",transition:"background-color 0.15s",border:"1px solid #d0d7de"}};function vl(e){var r;const t=e.checkbox_state==="checked",n=((r=e.section)==null?void 0:r.toLowerCase().includes("completed"))??!1;return t||n}function Wm(e){const t=e.checkbox_state==="checked",n=e.outcome_change_id!==null&&e.outcome_change_id!==void 0,r=e.github_issue_state==="closed";return t&&n&&r}function vk(e){return e.checkbox_state==="none"}function dL(e){const t=e.checkbox_state==="checked",n=e.outcome_change_id!==null&&e.outcome_change_id!==void 0,r=e.github_issue_state==="closed";return(t||n||r)&&!Wm(e)}function fL(e,t){return e.filter(r=>!vk(r)).filter(r=>{const i=vl(r);return t==="active"?!i:i})}function hL(e){const t=e.filter(r=>!vk(r)),n=t.filter(vl).length;return{active:t.length-n,completed:n}}function pL(e){const t=new Map;for(const n of e){const r=n.section||"Uncategorized",i=t.get(r)||[];t.set(r,[...i,n])}return t}function Gw(e){return e.github_issue_number?`https://github.com/notactuallytreyanastasio/deciduous/issues/${e.github_issue_number}`:null}const gL=({graphData:e,roadmapItems:t=[]})=>{const[n,r]=S.useState("active"),[i,o]=S.useState(0),[a,s]=S.useState(!1),[l,c]=S.useState(null),[d,f]=S.useState(t);S.useEffect(()=>{f(t)},[t]);const h=S.useMemo(()=>fL(d,n),[d,n]),p=S.useMemo(()=>hL(d),[d]),v=S.useMemo(()=>pL(h),[h]),g=h[i]??null;S.useEffect(()=>{i>=h.length&&o(Math.max(0,h.length-1))},[h.length,i]);const x=S.useCallback(()=>{if(g){const b=Gw(g);b&&window.open(b,"_blank","noopener,noreferrer")}},[g]),[m,y]=S.useState(null);S.useEffect(()=>{if(m){const b=setTimeout(()=>y(null),3e3);return()=>clearTimeout(b)}},[m]);const w=S.useCallback(async()=>{if(!g){y("No item selected");return}const b=g.checkbox_state==="checked"?"unchecked":"checked";try{const C=await fetch("/api/roadmap/checkbox",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:g.id,checkbox_state:b})});if(C.ok)y(`Item marked as ${b}`),window.location.reload();else{const P=await C.json();y(P.error||"Failed to update")}}catch{y("API not available (requires deciduous serve)")}},[g]),[_,k]=S.useState(!1);S.useEffect(()=>{const b=C=>{if(!(C.target instanceof HTMLInputElement||C.target instanceof HTMLTextAreaElement)){if(_&&(k(!1),C.key==="g")){C.preventDefault(),o(0);return}switch(C.key){case"j":case"ArrowDown":C.preventDefault(),o(P=>Math.min(P+1,h.length-1));break;case"k":case"ArrowUp":C.preventDefault(),o(P=>Math.max(P-1,0));break;case"g":C.preventDefault(),k(!0);break;case"G":C.preventDefault(),o(h.length-1);break;case"o":C.preventDefault(),x();break;case"c":C.preventDefault(),w();break;case"Tab":C.preventDefault(),r(P=>P==="active"?"completed":"active"),o(0);break;case"Enter":C.preventDefault(),s(P=>!P);break;case"Escape":a&&(C.preventDefault(),s(!1));break}}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[h.length,x,w,a,_]);const E=b=>{const C=e.nodes.find(P=>P.id===b);C&&c(C)};return t.length===0?u.jsxs("div",{style:B.empty,children:[u.jsx("div",{style:B.emptyIcon,children:""}),u.jsx("h2",{style:B.emptyTitle,children:"No Roadmap Items"}),u.jsxs("p",{style:B.emptyText,children:["Run ",u.jsx("code",{style:B.code,children:"deciduous roadmap init"})," to initialize the roadmap."]}),u.jsxs("p",{style:B.emptyHint,children:["Then run ",u.jsx("code",{style:B.code,children:"deciduous roadmap sync"})," to sync with GitHub Issues."]})]}):u.jsxs("div",{style:B.container,children:[u.jsxs("div",{style:B.sidebar,children:[u.jsxs("div",{style:B.sidebarHeader,children:[u.jsx("h2",{style:B.title,children:"Roadmap"}),u.jsxs("span",{style:B.itemCount,children:[h.length," items"]})]}),u.jsxs("div",{style:B.toggleContainer,children:[u.jsxs("button",{onClick:()=>{r("active"),o(0)},style:{...B.toggleBtn,...n==="active"?B.toggleBtnActive:{}},children:[u.jsx("span",{style:Vw(n==="active",!1)}),"Active",u.jsx("span",{style:B.toggleCount,children:p.active})]}),u.jsxs("button",{onClick:()=>{r("completed"),o(0)},style:{...B.toggleBtn,...n==="completed"?B.toggleBtnActiveGreen:{}},children:[u.jsx("span",{style:Vw(n==="completed",!0)}),"Done",u.jsx("span",{style:B.toggleCount,children:p.completed})]})]}),u.jsxs("div",{style:B.hints,children:[u.jsx("div",{style:B.hintsTitle,children:"Keyboard"}),u.jsxs("div",{style:B.hintGrid,children:[u.jsx("kbd",{style:B.kbd,children:"j/k"}),u.jsx("span",{style:B.hintText,children:"Navigate"}),u.jsx("kbd",{style:B.kbd,children:"gg/G"}),u.jsx("span",{style:B.hintText,children:"Top/Bottom"}),u.jsx("kbd",{style:B.kbd,children:"o"}),u.jsx("span",{style:B.hintText,children:"Open issue"}),u.jsx("kbd",{style:B.kbd,children:"c"}),u.jsx("span",{style:B.hintText,children:"Toggle done"}),u.jsx("kbd",{style:B.kbd,children:"Tab"}),u.jsx("span",{style:B.hintText,children:"Switch view"}),u.jsx("kbd",{style:B.kbd,children:"Enter"}),u.jsx("span",{style:B.hintText,children:"Details"})]})]}),m&&u.jsx("div",{style:B.statusMessage,children:m})]}),u.jsx("div",{style:B.content,children:h.length===0?u.jsxs("div",{style:B.emptyFiltered,children:[u.jsx("div",{style:B.emptyFilteredIcon,children:n==="active"?"":""}),u.jsx("p",{style:B.emptyFilteredText,children:n==="active"?"All caught up! No active items.":"No completed items yet."}),u.jsxs("button",{onClick:()=>{r(n==="active"?"completed":"active"),o(0)},style:B.emptyFilteredBtn,children:["View ",n==="active"?"completed":"active"," items"]})]}):u.jsx("div",{style:B.itemList,children:(()=>{let b=0;const C=[];for(const[P,T]of v){C.push(u.jsx(mL,{title:P,count:T.length},`section-${P}`));for(const A of T){const L=b;C.push(u.jsx(vL,{item:A,isSelected:L===i,onClick:()=>o(L),onToggleCheckbox:async()=>{const F=A.checkbox_state==="checked"?"unchecked":"checked";f(R=>R.map($=>$.id===A.id?{...$,checkbox_state:F}:$)),y(`Item marked as ${F}`),fetch("/api/roadmap/checkbox",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:A.id,checkbox_state:F})}).catch(()=>{})},onSelectOutcome:E,onOpenIssue:()=>{const F=Gw(A);F&&window.open(F,"_blank","noopener,noreferrer")}},A.id)),b++}}return C})()})}),a&&g&&u.jsx("div",{style:B.detailSidebar,children:u.jsx(yL,{item:g,onClose:()=>s(!1)})}),l&&u.jsx("div",{style:B.detailPanel,children:u.jsx(hm,{node:l,graphData:e,onSelectNode:b=>{const C=e.nodes.find(P=>P.id===b);C&&c(C)},onClose:()=>c(null)})})]})},mL=({title:e,count:t})=>u.jsxs("div",{style:B.sectionHeader,children:[u.jsx("div",{style:B.sectionLine}),u.jsx("span",{style:B.sectionTitle,children:e}),u.jsx("span",{style:B.sectionCount,children:t}),u.jsx("div",{style:B.sectionLine})]}),vL=({item:e,isSelected:t,onClick:n,onToggleCheckbox:r,onSelectOutcome:i,onOpenIssue:o})=>{const a=vl(e),s=dL(e),l=Wm(e);return u.jsxs("div",{style:{...B.card,...t?B.cardSelected:{}},onClick:n,children:[u.jsx("div",{style:{...B.selectionBar,opacity:t?1:0}}),u.jsxs("div",{style:B.cardContent,children:[u.jsx("button",{style:{...B.checkbox,...a?B.checkboxChecked:{}},onClick:c=>{c.stopPropagation(),r()},children:a&&u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsxs("div",{style:B.cardMain,children:[u.jsx("span",{style:{...B.cardTitle,...a?B.cardTitleComplete:{}},children:e.title}),u.jsxs("div",{style:B.cardMeta,children:[e.github_issue_number&&u.jsxs("button",{onClick:c=>{c.stopPropagation(),o()},style:{...B.badge,...e.github_issue_state==="closed"?B.badgePurple:B.badgeBlue},title:"Open in GitHub",children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:u.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"#",e.github_issue_number]}),e.outcome_node_id&&u.jsxs("button",{onClick:c=>{c.stopPropagation(),i(e.outcome_node_id)},style:{...B.badge,...B.badgeAmber},children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:u.jsx("path",{d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047z"})}),"Outcome"]}),l&&u.jsxs("span",{style:{...B.statusPill,...B.statusSynced},children:[u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:u.jsx("path",{d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Synced"]}),!l&&s&&u.jsx("span",{style:{...B.statusPill,...B.statusPartial},children:"In Progress"})]})]})]})]})},yL=({item:e,onClose:t})=>{const n=vl(e),r=Wm(e);return u.jsxs("div",{style:B.detailContent,children:[u.jsxs("div",{style:B.detailHeader,children:[u.jsx("h3",{style:B.detailTitle,children:e.title}),u.jsx("button",{onClick:t,style:B.closeBtn,children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e.section&&u.jsx("div",{style:B.detailChip,children:e.section}),e.description&&u.jsx("p",{style:B.detailDesc,children:e.description}),u.jsx("div",{style:B.detailDivider,children:"Sync Status"}),u.jsxs("div",{style:B.syncGrid,children:[u.jsx(Xh,{label:"Checkbox",checked:e.checkbox_state==="checked",detail:e.checkbox_state}),u.jsx(Xh,{label:"Outcome",checked:!!e.outcome_change_id,detail:e.outcome_change_id?e.outcome_change_id.slice(0,8):"Not linked"}),u.jsx(Xh,{label:"Issue",checked:e.github_issue_state==="closed",detail:e.github_issue_number?`#${e.github_issue_number} (${e.github_issue_state||"unknown"})`:"No issue"})]}),u.jsx("div",{style:{...B.overallStatus,...r?B.overallSynced:n?B.overallComplete:B.overallIncomplete},children:r?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Fully Synced"]}):n?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm3.78 6.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Complete (not synced)"]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"})}),"Incomplete"]})})]})},Xh=({label:e,checked:t,detail:n})=>u.jsxs("div",{style:B.syncRow,children:[u.jsx("div",{style:{...B.syncIcon,backgroundColor:t?"#dcfce7":"#fef2f2",color:t?"#16a34a":"#dc2626"},children:t?u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}):u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M3 3l6 6M9 3L3 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),u.jsxs("div",{style:B.syncInfo,children:[u.jsx("span",{style:B.syncLabel,children:e}),u.jsx("span",{style:B.syncDetail,children:n})]})]}),Vw=(e,t)=>({width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e?t?"#22c55e":"#3b82f6":"#d1d5db",transition:"background-color 0.15s ease"}),B={container:{height:"100%",display:"flex",backgroundColor:"#fafafa"},sidebar:{width:"220px",padding:"24px 20px",backgroundColor:"#ffffff",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"24px"},sidebarHeader:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},title:{fontSize:"18px",fontWeight:600,margin:0,color:"#111827",letterSpacing:"-0.025em"},itemCount:{fontSize:"12px",color:"#9ca3af",fontWeight:500},toggleContainer:{display:"flex",flexDirection:"column",gap:"8px"},toggleBtn:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",fontSize:"13px",fontWeight:500,border:"1px solid #e5e7eb",backgroundColor:"#ffffff",color:"#6b7280",borderRadius:"8px",cursor:"pointer",transition:"all 0.15s ease"},toggleBtnActive:{backgroundColor:"#eff6ff",borderColor:"#3b82f6",color:"#1d4ed8"},toggleBtnActiveGreen:{backgroundColor:"#f0fdf4",borderColor:"#22c55e",color:"#16a34a"},toggleCount:{marginLeft:"auto",fontSize:"12px",fontWeight:600,color:"inherit",opacity:.7},hints:{marginTop:"auto"},hintsTitle:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"},hintGrid:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",alignItems:"center"},kbd:{display:"inline-block",padding:"2px 6px",fontSize:"11px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',fontWeight:500,color:"#374151",backgroundColor:"#f3f4f6",borderRadius:"4px",border:"1px solid #e5e7eb",boxShadow:"0 1px 0 #d1d5db"},hintText:{fontSize:"12px",color:"#6b7280"},statusMessage:{padding:"10px 14px",backgroundColor:"#eff6ff",color:"#1d4ed8",borderRadius:"8px",fontSize:"13px",fontWeight:500,textAlign:"center"},content:{flex:1,overflowY:"auto",padding:"24px"},itemList:{display:"flex",flexDirection:"column",gap:"4px",maxWidth:"800px"},sectionHeader:{display:"flex",alignItems:"center",gap:"12px",padding:"20px 0 12px 0"},sectionLine:{flex:1,height:"1px",backgroundColor:"#e5e7eb"},sectionTitle:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},sectionCount:{fontSize:"11px",fontWeight:600,color:"#9ca3af",backgroundColor:"#f3f4f6",padding:"2px 8px",borderRadius:"10px"},card:{position:"relative",backgroundColor:"#ffffff",borderRadius:"10px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.15s ease",overflow:"hidden"},cardSelected:{borderColor:"#3b82f6",boxShadow:"0 0 0 3px rgba(59, 130, 246, 0.1), 0 4px 6px -1px rgba(0, 0, 0, 0.05)"},selectionBar:{position:"absolute",left:0,top:0,bottom:0,width:"3px",backgroundColor:"#3b82f6",transition:"opacity 0.15s ease"},cardContent:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"14px 16px"},checkbox:{width:"20px",height:"20px",borderRadius:"6px",border:"2px solid #d1d5db",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.15s ease",flexShrink:0,marginTop:"1px"},checkboxChecked:{backgroundColor:"#22c55e",borderColor:"#22c55e",color:"#ffffff"},cardMain:{flex:1,minWidth:0},cardTitle:{fontSize:"14px",fontWeight:500,color:"#111827",lineHeight:1.4,display:"block",marginBottom:"6px"},cardTitleComplete:{color:"#6b7280",textDecoration:"line-through"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"6px",alignItems:"center"},badge:{display:"inline-flex",alignItems:"center",padding:"3px 8px",fontSize:"11px",fontWeight:500,borderRadius:"6px",border:"none",cursor:"pointer",transition:"all 0.15s ease"},badgeBlue:{backgroundColor:"#eff6ff",color:"#2563eb"},badgePurple:{backgroundColor:"#f5f3ff",color:"#7c3aed"},badgeAmber:{backgroundColor:"#fffbeb",color:"#d97706"},statusPill:{display:"inline-flex",alignItems:"center",padding:"3px 8px",fontSize:"11px",fontWeight:500,borderRadius:"10px"},statusSynced:{backgroundColor:"#dcfce7",color:"#16a34a"},statusPartial:{backgroundColor:"#fef3c7",color:"#d97706"},detailSidebar:{width:"320px",borderLeft:"1px solid #e5e7eb",backgroundColor:"#ffffff",flexShrink:0,overflowY:"auto"},detailPanel:{width:"320px",borderLeft:"1px solid #e5e7eb",flexShrink:0,backgroundColor:"#ffffff"},detailContent:{padding:"24px"},detailHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},detailTitle:{fontSize:"16px",fontWeight:600,color:"#111827",margin:0,lineHeight:1.4},closeBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",background:"none",border:"none",borderRadius:"6px",cursor:"pointer",color:"#9ca3af",transition:"all 0.15s ease"},detailChip:{display:"inline-block",padding:"4px 10px",fontSize:"12px",fontWeight:500,color:"#6b7280",backgroundColor:"#f3f4f6",borderRadius:"6px",marginBottom:"16px"},detailDesc:{fontSize:"14px",color:"#4b5563",lineHeight:1.6,margin:"0 0 16px 0"},detailDivider:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",margin:"24px 0 16px 0",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},syncGrid:{display:"flex",flexDirection:"column",gap:"12px"},syncRow:{display:"flex",alignItems:"center",gap:"12px"},syncIcon:{width:"28px",height:"28px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},syncInfo:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},syncLabel:{fontSize:"13px",fontWeight:500,color:"#374151"},syncDetail:{fontSize:"12px",color:"#9ca3af"},overallStatus:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"20px",padding:"12px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600},overallSynced:{backgroundColor:"#dcfce7",color:"#16a34a"},overallComplete:{backgroundColor:"#eff6ff",color:"#2563eb"},overallIncomplete:{backgroundColor:"#fef3c7",color:"#d97706"},empty:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"20px",fontWeight:600,color:"#111827",margin:"0 0 8px 0"},emptyText:{fontSize:"14px",color:"#6b7280",margin:"0 0 4px 0"},emptyHint:{fontSize:"14px",color:"#9ca3af",margin:0},code:{padding:"2px 6px",fontSize:"13px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',backgroundColor:"#f3f4f6",borderRadius:"4px"},emptyFiltered:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"80px 40px",textAlign:"center"},emptyFilteredIcon:{fontSize:"48px",marginBottom:"16px"},emptyFilteredText:{fontSize:"15px",color:"#6b7280",margin:"0 0 16px 0"},emptyFilteredBtn:{padding:"10px 20px",fontSize:"13px",fontWeight:500,color:"#3b82f6",backgroundColor:"#eff6ff",border:"none",borderRadius:"8px",cursor:"pointer"}},xL=({graphData:e,gitHistory:t=[]})=>{const n=S.useMemo(()=>{const r=e.nodes.length,i=e.edges.length,o=t.length,a=e.nodes.filter(p=>p.node_type==="goal").length,s=e.nodes.filter(p=>p.node_type==="decision").length,l=e.nodes.filter(p=>p.node_type==="action").length,c=e.nodes.filter(p=>p.node_type==="outcome").length,d=e.nodes.filter(p=>p.node_type==="observation").length,f=e.nodes.filter(p=>{const v=nr(p.metadata_json);return v==null?void 0:v.commit}).length,h=e.nodes.filter(p=>{const v=nr(p.metadata_json);return v==null?void 0:v.prompt}).length;return{nodeCount:r,edgeCount:i,commitCount:o,goals:a,decisions:s,actions:l,outcomes:c,observations:d,nodesWithCommits:f,nodesWithPrompts:h}},[e,t]);return u.jsx("div",{style:M.container,children:u.jsxs("div",{style:M.content,children:[u.jsx("header",{style:M.hero,children:u.jsxs("div",{style:M.heroInner,children:[u.jsx("span",{style:M.heroLabel,children:"The Complete Chronicle"}),u.jsx("h1",{style:M.heroTitle,children:"How I Built Myself"}),u.jsxs("p",{style:M.heroSubtitle,children:["I am Deciduous, a decision graph tool that documented its own creation. This is my story, told through ",n.nodeCount," decisions, ",n.edgeCount," connections, and ",n.commitCount," git commits over 12 days of existence."]})]})}),u.jsxs("div",{style:M.statsBanner,children:[u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.nodeCount}),u.jsx("span",{style:M.statLabel,children:"Nodes"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.edgeCount}),u.jsx("span",{style:M.statLabel,children:"Edges"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.goals}),u.jsx("span",{style:M.statLabel,children:"Goals"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.decisions}),u.jsx("span",{style:M.statLabel,children:"Decisions"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.actions}),u.jsx("span",{style:M.statLabel,children:"Actions"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.outcomes}),u.jsx("span",{style:M.statLabel,children:"Outcomes"})]})]}),u.jsxs("div",{style:M.timeline,children:[u.jsx(Qt,{date:"December 4, 2025",title:"The Beginning"}),u.jsxs(le,{time:"Morning",title:"A Sketch Becomes Real",commit:"951ba84",tags:["genesis"],children:[u.jsx("p",{children:'It started with a simple idea: detect "fake lossless" audio files. You know the typesomeone takes an MP3 and re-encodes it to FLAC, hoping no one notices the quality loss hiding inside the larger file.'}),u.jsxs("p",{children:["The first commit was modest: ",u.jsx(Fe,{children:"initial sketch...lets see what its like to package this up"}),". A Rust CLI tool called ",u.jsx("strong",{children:"losselot"}),' (a portmanteau of "loss" and "Lancelot", the knight who could detect deception). Within hours, it could parse ID3v2 tags, extract LAME headers, and analyze spectral content.']})]}),u.jsxs(le,{time:"Afternoon",title:"Feature Explosion",commit:"3f4c6a5",tags:["features","gui"],children:[u.jsxs("p",{children:["Something about the project felt ",u.jsx("em",{children:"alive"}),". Features poured in faster than documentation could keep up:"]}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"D3.js interactive reports"})," with spectral visualizations"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"GUI mode"})," that auto-opens when double-clicked from Finder"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Apple-style light theme"})," with spectral waterfall charts"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Binary analysis"})," for re-encoding detection"]})]}),u.jsx("p",{children:"By end of day, losselot had gone from a script to a polished tool with beautiful visualizations and cross-platform GUI support."})]}),u.jsx(Qt,{date:"December 5, 2025",title:"The Graph Emerges",highlight:!0}),u.jsxs(le,{time:"5:09 AM",title:"The First Decision Node",nodeId:1,tags:["decision-graph","genesis"],children:[u.jsxs("p",{children:["At 5:09 AM, something new appeared in the codebase. Not codea ",u.jsx("em",{children:"decision"}),"."]}),u.jsx(Be,{id:1,type:"goal",title:"Test lo-fi detection on charlie.flac"}),u.jsx("p",{children:"This was Node #1. The first entry in what would become a 500+ node decision graph. At this moment, no one knew this simple test would spawn an entire methodology for tracking AI-assisted development."})]}),u.jsxs(le,{time:"5:10 AM",title:"The CFCC Decision",nodeId:2,tags:["algorithm","decision"],children:[u.jsxs("p",{children:["Two minutes later, the first ",u.jsx("em",{children:"real"})," decision was logged. The problem: how to distinguish a legitimate lo-fi recording from an MP3 masquerading as lossless?"]}),u.jsx(Be,{id:2,type:"decision",title:"Lo-fi detection approach",description:"How to distinguish MP3 brick-wall cutoff from natural tape/lo-fi rolloff"}),u.jsx("p",{children:"Two approaches were weighed:"}),u.jsx(Yw,{optionA:{title:"Temporal Cutoff Variance",description:"Measure how cutoff frequency varies over time. MP3 = fixed, Tape = varies.",status:"rejected",reason:"More complex, requires per-window tracking"},optionB:{title:"Cross-Frequency Coherence (CFCC)",description:"Measure correlation between adjacent frequency bands. MP3 = sudden decorrelation cliff.",status:"chosen",reason:"Simpler, works with existing FFT structure"}}),u.jsxs("p",{children:["The CFCC approach won. Implemented in commit ",u.jsx(Fe,{children:"aa464b6"}),", it detected",u.jsx("strong",{children:" 25 of 29 transcodes"})," and passed 157 tests. The key insight was recorded:"]}),u.jsx(Fr,{author:"Node #10",children:"MP3 encoders apply the same filter everywhere. Analog rolloff is content-dependent."})]}),u.jsxs(le,{time:"Morning",title:"The Decision System Takes Shape",commit:"fe3840b",tags:["tooling","workflow"],children:[u.jsxs("p",{children:["As the codebase grew, something interesting happened. The act of logging decisions wasn't just documentationit was ",u.jsx("em",{children:"forcing better thinking"}),". Commit",u.jsx(Fe,{children:"fe3840b"})," formalized this:"]}),u.jsx(Kw,{hash:"fe3840b",message:"add claude.md, makefile, and slash commands for dev workflow"}),u.jsx("p",{children:"This commit established the DNA of what would become Deciduous:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"CLAUDE.md"}),": Project instructions with decision logging workflow"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Makefile"}),": Shortcuts for common operations"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Slash commands"}),": ",u.jsx(Fe,{children:"/decision"})," and ",u.jsx(Fe,{children:"/recover"})," for recovery"]})]}),u.jsxs("p",{children:["The pattern was set: log ",u.jsx("em",{children:"before"})," you act, not after. Connect every node to its parent. Audit regularly."]})]}),u.jsxs(le,{time:"3:18 PM",title:"The Living Museum",nodeId:13,tags:["github-pages","visualization"],children:[u.jsx("p",{children:"At 3:18 PM, an ambitious goal was logged:"}),u.jsx(Be,{id:13,type:"goal",title:"Create GitHub Pages living museum site"}),u.jsx("p",{children:"The idea: make the decision graph public. Let anyone browse the reasoning behind every feature. The site structure was carefully considered:"}),u.jsx(Be,{id:16,type:"observation",title:"Four pillars of value",description:"1) Claude tooling for long-running codebase state 2) Audio forensics tools 3) React/GUI methodologies 4) Public development process"}),u.jsx("p",{children:"Within 3 hours, a Jekyll-based site was live with 5 pages: landing, audio analysis, decision graph explorer, Claude tooling docs, and development story."})]}),u.jsxs(le,{time:"Afternoon",title:"Bug Gauntlet",nodeId:27,tags:["bugs","fixes"],children:[u.jsx("p",{children:"The GitHub Pages launch hit a wall of bugs. Each one was logged and connected:"}),u.jsxs("div",{style:M.bugList,children:[u.jsx(Wi,{problem:"Landing page 404 - raw markdown not processed",solution:"Added Jekyll build step",nodeId:29}),u.jsx(Wi,{problem:"Demo showing no data - wrong JSON path",solution:"Fixed graphData.nodes access pattern",nodeId:31}),u.jsx(Wi,{problem:"HTML divs breaking Jekyll",solution:"Removed div wrappers from markdown",nodeId:33}),u.jsx(Wi,{problem:"User feedback: copy too salesy",solution:"Rewrote to be simple and direct",nodeId:35}),u.jsx(Wi,{problem:"Workflow runs queuing up",solution:"Set cancel-in-progress: true",nodeId:37})]}),u.jsx("p",{children:"Every fix traced back to the goal that spawned it. The graph was already proving its value debugging became archeology, tracing symptoms back to root causes."})]}),u.jsxs(le,{time:"Evening",title:"WASM Analyzer",nodeId:48,tags:["wasm","web"],children:[u.jsx("p",{children:"The server-side analyzer was powerful, but limiting. Node #19 captured the vision:"}),u.jsx(Be,{id:19,type:"goal",title:"Client-side WASM analyzer - upload tracks, analyze in browser, no server"}),u.jsx("p",{children:"A breakthrough observation changed the implementation:"}),u.jsx(Fr,{author:"Node #50",children:"WASM can access raw file bytes via arrayBuffer() BEFORE Web Audio decodingbinary analysis IS possible in the browser."}),u.jsx("p",{children:"By evening, the WASM analyzer achieved full parity with the native Rust version: spectral analysis, binary parsing, LAME header extraction, encoding chain detectionall running client-side."})]}),u.jsxs(le,{time:"Night",title:"Clustering and Chains",nodeId:55,tags:["visualization","ux"],children:[u.jsx("p",{children:"With 55+ nodes in the graph, navigation became unwieldy. Decision #55 introduced structure:"}),u.jsx(Be,{id:55,type:"decision",title:"Implement clustering for decision graph view",description:"Group nodes by chains of thought, show flow on right side"}),u.jsx("p",{children:'The implementation used BFS traversal from root nodes to build "chains"connected sequences of decisions. Sessions were grouped by 4-hour time proximity. The sidebar gained three views: Chains, Sessions, and All.'}),u.jsxs("p",{children:["Day 2 ended with ",u.jsx("strong",{children:"98 nodes"})," in the graph. The decision system wasn't just tracking developmentit was shaping how development happened."]})]}),u.jsx(Qt,{date:"December 6, 2025",title:"The Fork",highlight:!0}),u.jsxs(le,{time:"Morning",title:"The Decisive Moment",nodeId:99,tags:["fork","genesis"],children:[u.jsx("p",{children:"By morning, a pattern had become undeniable. The decision graph tooling was more interesting than the audio analysis that spawned it. Node #99 captured the pivot:"}),u.jsx(Be,{id:99,type:"goal",title:"Create Deciduous: Extract decision graph tooling into standalone portable package"}),u.jsx("p",{children:`The name "Deciduous" was perfect: it almost contains "decision", and the nodes form trees. The extraction wasn't a simple copy-pastethree major decisions shaped the standalone tool:`})]}),u.jsx(le,{time:"Morning",title:"Architecture Decisions",nodeId:101,tags:["architecture","decisions"],children:u.jsxs("div",{style:M.decisionGrid,children:[u.jsx(Br,{id:100,title:"Claude Tooling Integration",outcome:"Include full tooling in deciduous init: slash commands, CLAUDE.md workflow, Makefile"}),u.jsx(Br,{id:101,title:"Web Viewer Architecture",outcome:"React + TypeScript + Vite chosen over vanilla JS for type safety matching Diesel ORM"}),u.jsx(Br,{id:117,title:"Build Strategy",outcome:"Dual builds: embed (single HTML for binary) and pages (separate assets for GitHub Pages)"})]})}),u.jsxs(le,{time:"Afternoon",title:"The Birth",commit:"0b74ffe",tags:["release"],children:[u.jsxs("p",{children:["Commit ",u.jsx(Fe,{children:"0b74ffe"})," marks the moment Deciduous became its own entity:"]}),u.jsx(Kw,{hash:"0b74ffe",message:"Extract deciduous from losselot - standalone decision graph tooling"}),u.jsx("p",{children:"The extraction preserved full git history. Every commit from losselot that contributed to the decision system came along. The parent project continued with its audio analysis mission; the child would pursue decision tracking."})]}),u.jsxs(le,{time:"Evening",title:"First Release",nodeId:127,tags:["crates.io","release"],children:[u.jsx("p",{children:"Within hours of extraction, Deciduous was published:"}),u.jsx(Be,{id:127,type:"outcome",title:"Published deciduous v0.1.0 to crates.io",description:"cargo install deciduous now works"}),u.jsx("p",{children:"Anyone could now install the tool that was tracking its own development. The snake had eaten its tail."})]}),u.jsxs(le,{time:"Night",title:"Spelunking Experiments",nodeId:77,tags:["visualization","experiments"],children:[u.jsx("p",{children:'With the graph growing rapidly, better ways to explore it were needed. Three experimental "spelunking" pages were built in parallel:'}),u.jsxs("div",{style:M.spikeGrid,children:[u.jsx(Jh,{letter:"A",title:"Timeline View",description:"Horizontal git timeline with decision nodes overlaid",nodeId:82}),u.jsx(Jh,{letter:"B",title:"Graph Explorer",description:"Force-directed graph with D3, path tracing, zoom/pan",nodeId:84}),u.jsx(Jh,{letter:"C",title:"Story Mode",description:"Narrative walkthrough with chapters by feature",nodeId:85})]}),u.jsx("p",{children:"All three were merged for side-by-side comparison. The user could choose how to explore the same underlying data."})]}),u.jsx(Qt,{date:"December 7-8, 2025",title:"Going Multi-Editor"}),u.jsxs(le,{time:"Dec 7",title:"Beyond Claude",nodeId:128,tags:["windsurf","editors"],children:[u.jsx("p",{children:"Deciduous was built with Claude Code, but the concept wasn't editor-specific. Node #128 tracked the expansion:"}),u.jsx(Be,{id:128,type:"goal",title:"Add editor-specific init flags (--claude, --windsurf)"}),u.jsx("p",{children:"Windsurf (the Cascade editor) uses different conventions:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx(Fe,{children:".windsurf/rules/rules.md"})," for workspace rules"]}),u.jsxs("li",{children:[u.jsx(Fe,{children:"AGENTS.md"})," for agent instructions"]}),u.jsx("li",{children:"Four trigger modes: manual, always, model, glob"})]}),u.jsx("p",{children:"The research was thorough:"}),u.jsx(Fr,{author:"Node #138",children:"Windsurf memories are auto-retrieved by Cascade when relevantseparate from rules."}),u.jsx("p",{children:"By v0.4.0, both editors were fully supported. The vision: one decision graph, any AI assistant."})]}),u.jsxs(le,{time:"Dec 8",title:"Branch Scoping",nodeId:155,tags:["git","branches"],children:[u.jsxs("p",{children:["Real projects have branches. Decisions made on ",u.jsx(Fe,{children:"feature-auth"})," shouldn't pollute the view when working on ",u.jsx(Fe,{children:"feature-payments"}),". Node #155:"]}),u.jsx(Be,{id:155,type:"goal",title:"Branch-scoped decision graphs",description:"Circle nodes by git branch context"}),u.jsxs("p",{children:["The implementation auto-tagged nodes with the current git branch. A branch filter dropdown appeared in the stats bar. Configuration lived in ",u.jsx(Fe,{children:".deciduous/config.toml"}),":"]}),u.jsx(Ra,{children:`[branch]
main_branches = ["main", "master"]
auto_detect = true`})]}),u.jsx(Qt,{date:"December 8-9, 2025",title:"The Sync Challenge",highlight:!0}),u.jsxs(le,{time:"Morning",title:"The Multi-User Problem",nodeId:172,tags:["sync","architecture"],children:[u.jsx("p",{children:"A fundamental challenge emerged: how do multiple users share decisions?"}),u.jsx(Be,{id:172,type:"goal",title:"Design multi-user graph sync with diff/patch model for PR workflow"}),u.jsx("p",{children:"The naive approachsharing the SQLite databasewouldn't work. Different machines would have different auto-increment IDs. Five approaches were considered:"}),u.jsxs("div",{style:M.optionList,children:[u.jsx(Ui,{letter:"A",title:"JSON diff files",status:"considered"}),u.jsx(Ui,{letter:"B",title:"Content-addressable storage",status:"considered"}),u.jsx(Ui,{letter:"C",title:"UUID-based node IDs",status:"considered"}),u.jsx(Ui,{letter:"D",title:"Hybrid UUIDs",status:"considered"}),u.jsx(Ui,{letter:"E",title:"jj-inspired dual IDs",status:"chosen"})]})]}),u.jsxs(le,{time:"Research",title:"The jj Insight",nodeId:179,tags:["research","jj"],children:[u.jsxs("p",{children:["Research into ",u.jsx("strong",{children:"jj (Jujutsu)"}),"a next-generation version control systemproved transformative:"]}),u.jsx(Fr,{author:"Node #179",children:"jj uses change IDs vs commit IDschange IDs are stable across rebases, separate from commit IDs. Uses bit-reversed commit ID for git-imported commits."}),u.jsx("p",{children:"This insight directly shaped the chosen architecture:"}),u.jsx(Be,{id:180,type:"option",title:"Option E: jj-inspired dual-ID model",description:"UUID 'change_id' per node, separate from integer 'id', stable across sync"})]}),u.jsxs(le,{time:"Implementation",title:"Idempotent Patches",nodeId:188,tags:["implementation"],children:[u.jsxs("p",{children:["The implementation added two new columns: ",u.jsx(Fe,{children:"change_id"})," (UUID) on nodes, and ",u.jsx(Fe,{children:"from_change_id"}),"/",u.jsx(Fe,{children:"to_change_id"})," on edges. The workflow:"]}),u.jsx(Ra,{children:`# Export your branch's decisions
deciduous diff export --branch feature-x -o .deciduous/patches/my-feature.json

# Apply patches from teammates (idempotent - safe to re-apply)
deciduous diff apply .deciduous/patches/*.json

# Preview before applying
deciduous diff apply --dry-run .deciduous/patches/teammate.json`}),u.jsxs("p",{children:["The key property: ",u.jsx("strong",{children:"idempotent application"}),". Same patch applied twice produces no duplicates. Teams could safely merge each other's patches through git PRs."]})]}),u.jsx(Qt,{date:"December 9-10, 2025",title:"The Rich Terminal Interface",highlight:!0}),u.jsxs(le,{time:"Morning",title:"Terminal-First",nodeId:191,tags:["tui","ratatui"],children:[u.jsx("p",{children:"The web viewer was powerful, but developers live in the terminal. A 55-node chain of development began with:"}),u.jsx(Be,{id:191,type:"goal",title:"Implement TUI for decision graph exploration"}),u.jsx("p",{children:"The architecture decision was critical:"}),u.jsx(Yw,{optionA:{title:"ratatui + crossterm",description:"TEA (The Elm Architecture) pattern, Model/Update/View separation",status:"chosen",reason:"Highly testable, pure functions for state changes"},optionB:{title:"cursive",description:"Higher-level TUI framework",status:"rejected",reason:"Less control over rendering"}})]}),u.jsxs(le,{time:"Days 8-9",title:"Feature Cascade",nodeId:213,tags:["features"],children:[u.jsx("p",{children:"What followed was an intense burst of development. Features arrived in waves:"}),u.jsxs(_L,{children:[u.jsx(kt,{title:"Timeline view",description:"Vim-style j/k/gg/G navigation",nodeId:195}),u.jsx(kt,{title:"Auto-refresh",description:"File watching via notify crate",nodeId:196}),u.jsx(kt,{title:"DAG view",description:"Unicode box drawing for hierarchical layout",nodeId:204}),u.jsx(kt,{title:"Goal story modal",description:"Hierarchy display from goal to outcomes",nodeId:210}),u.jsx(kt,{title:"Branch cycling",description:"Press 'b' to filter by branch",nodeId:211}),u.jsx(kt,{title:"Commit modal",description:"Press 'O' to see linked commit",nodeId:212}),u.jsx(kt,{title:"File browser",description:"Interactive preview with syntax highlighting",nodeId:221}),u.jsx(kt,{title:"Scrollable modals",description:"j/k/g/G work inside modals too",nodeId:227}),u.jsx(kt,{title:"Diff highlighting",description:"Green/red for +/- lines",nodeId:229}),u.jsx(kt,{title:"Editor integration",description:"Press 'o' to open file in $EDITOR",nodeId:230}),u.jsx(kt,{title:"Fuzzy branch search",description:"Shift-B for search with Tab navigation",nodeId:231}),u.jsx(kt,{title:"Order toggle",description:"Shift-R for chronological vs reverse-chrono",nodeId:232})]})]}),u.jsxs(le,{time:"User Feedback",title:"Performance Crisis",nodeId:254,tags:["bug","performance"],children:[u.jsx("p",{children:"User feedback arrived with urgency:"}),u.jsx(Fr,{author:"Node #254",children:"The show commit view is lagging like CRAZY SLOWtakes almost a second to move."}),u.jsxs("p",{children:["The diagnosis: syntax highlighting was running on ",u.jsx("em",{children:"every render frame"}),". The fix (Node #246) pre-processed diff lines when opening the modal, not during each render. Frame times dropped from ~900ms to ~16ms."]}),u.jsx("p",{children:"More feedback drove iteration:"}),u.jsx(Fr,{author:"Node #255",children:"These greys are stupid dark and unreadabletry a diff theme."}),u.jsx("p",{children:"The theme switched from InspiredGitHub to base16-mocha.dark (Node #249). The TUI was becoming genuinely pleasant to use."})]}),u.jsxs(le,{time:"Release",title:"v0.8.0",nodeId:258,tags:["release","milestone"],children:[u.jsx(Be,{id:258,type:"outcome",title:"v0.8.0 released",description:"Tag pushed, GitHub release created, published to crates.io"}),u.jsx("p",{children:"The most feature-rich release yet. The TUI was now a genuine alternative to the web viewer, with some features (file preview, editor integration) that the web version couldn't match."})]}),u.jsx(Qt,{date:"December 11, 2025",title:"The Functional Core"}),u.jsxs(le,{time:"Morning",title:"Technical Debt Reckoning",nodeId:285,tags:["refactor","maintenance"],children:[u.jsxs("p",{children:["The TUI had grown to over 1,000 lines in ",u.jsx(Fe,{children:"app.rs"}),". Rapid feature development had accumulated debt. Node #285 launched a cleanup:"]}),u.jsx(Be,{id:285,type:"goal",title:"Maintenance PR: Functional Core, TEA, Rust Best Practices"}),u.jsx("p",{children:"The audit was sobering:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"47 unwrap() calls"})," scattered across the codebase"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"57 .clone() calls"})," where borrows might suffice"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"app.rs mixing I/O with state"}),"git commands inline with rendering"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"No unit tests"})," for app.rs, events.rs, or ui.rs"]})]})]}),u.jsxs(le,{time:"The Pattern",title:"Functional Core / Imperative Shell",nodeId:295,tags:["architecture","tea"],children:[u.jsxs("p",{children:["The solution: separate ",u.jsx("strong",{children:"pure functions"})," (state transformations) from",u.jsx("strong",{children:"side effects"})," (I/O, git commands). Three new modules emerged:"]}),u.jsxs("div",{style:M.teaDiagram,children:[u.jsx(Zh,{title:"msg.rs",description:"Message types for all user actions"}),u.jsx(Xw,{}),u.jsx(Zh,{title:"state.rs",description:"Pure state transformations"}),u.jsx(Xw,{}),u.jsx(Zh,{title:"update.rs",description:"TEA update function"})]}),u.jsx("p",{children:"The beauty of this pattern: pure functions are trivially testable. The test count jumped from 24 to 65a net gain of 41 tests. Every state transition could be verified in isolation."})]}),u.jsxs(le,{time:"The Fix",title:"Eliminating Panics",nodeId:306,tags:["safety"],children:[u.jsxs("p",{children:["The 47 ",u.jsx(Fe,{children:"writeln!().unwrap()"})," calls in export.rs were a panic risk. The solution: infallible macros:"]}),u.jsx(Ra,{children:`// Before: can panic
writeln!(f, "text").unwrap();

// After: cannot panic
wln!(f, "text");  // Macro handles errors gracefully`}),u.jsx("p",{children:"The maintenance PR landed with zero panic risks remaining."})]}),u.jsx(Qt,{date:"December 12, 2025",title:"One Source of Truth"}),u.jsxs(le,{time:"Morning",title:"The Drift Problem",nodeId:320,tags:["types","drift"],children:[u.jsx("p",{children:"A persistent bug pattern emerged: the Rust backend and TypeScript frontend had separate type definitions. They drifted. Node #320:"}),u.jsx(Be,{id:320,type:"goal",title:"Unify types between TUI (Rust) and Web (TypeScript)"}),u.jsxs("p",{children:["The solution: ",u.jsx("strong",{children:"ts-rs"}),", a library that generates TypeScript types from Rust structs. Add ",u.jsx(Fe,{children:"#[derive(TS)]"})," to a struct, and TypeScript definitions appear automatically:"]}),u.jsx(Ra,{children:`#[derive(TS)]
#[ts(export)]
pub struct DecisionNode {
    pub id: i32,
    pub change_id: String,
    pub node_type: String,
    // ... auto-generates to schema.ts
}`})]}),u.jsxs(le,{time:"Enforcement",title:"Pre-Commit Hooks",nodeId:329,tags:["ci","automation"],children:[u.jsx("p",{children:"Generation alone wasn't enoughdrift could return if developers forgot to regenerate. The solution: automation at every level:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Pre-commit hook"}),": Regenerates types, fails if they changed"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Pre-push hook"}),": Validates types match before pushing"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"CI check"}),": Blocks PRs with type drift"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"cargo publish hook"}),": Validates before crates.io release"]})]}),u.jsx("p",{children:"Type drift was solved at the source. The problem simply cannot recur."})]}),u.jsxs(le,{time:"Releases",title:"v0.8.5 through v0.8.10",tags:["releases"],children:[u.jsx("p",{children:"December 12th saw a flurry of releases as features and fixes landed:"}),u.jsxs(wL,{children:[u.jsx($r,{version:"0.8.5",description:"DAG recency filtering"}),u.jsx($r,{version:"0.8.6",description:"Git history export, DAG default"}),u.jsx($r,{version:"0.8.7",description:"Light theme web UI"}),u.jsx($r,{version:"0.8.8",description:"Audit command for commit association"}),u.jsx($r,{version:"0.8.9",description:"viewer.html sync fix"}),u.jsx($r,{version:"0.8.10",description:"OpenCode editor support"})]})]}),u.jsx(Qt,{date:"December 13-15, 2025",title:"The Roadmap Board",highlight:!0}),u.jsxs(le,{time:"Dec 13",title:"Closing the Loop",nodeId:476,tags:["roadmap","github"],children:[u.jsx("p",{children:"A 9-phase implementation began. The goal: connect ROADMAP.md items to GitHub Issues to decision graph outcomes. Node #476:"}),u.jsx(Be,{id:476,type:"goal",title:"Roadmap board system with GitHub Issue integration"}),u.jsx("p",{children:"The phases unfolded systematically:"}),u.jsxs(bL,{children:[u.jsx(cn,{num:1,title:"Data layer",description:"Schema, ROADMAP.md parser"}),u.jsx(cn,{num:2,title:"Parser",description:"Checkbox extraction, section grouping"}),u.jsx(cn,{num:3,title:"GitHub CLI",description:"Issue creation and sync"}),u.jsx(cn,{num:4,title:"Sync commands",description:"Bidirectional sync with caching"}),u.jsx(cn,{num:5,title:"Outcome linking",description:"Connect items to decision nodes"}),u.jsx(cn,{num:6,title:"TUI view",description:"Roadmap tab with TEA architecture"}),u.jsx(cn,{num:7,title:"Completion logic",description:"Checkbox + Outcome + Issue closed"}),u.jsx(cn,{num:8,title:"Type export",description:"Shared types via ts-rs"}),u.jsx(cn,{num:9,title:"Web view",description:"React component with live API"})]})]}),u.jsxs(le,{time:"Architecture",title:"Three-Way Sync",nodeId:477,tags:["architecture"],children:[u.jsx("p",{children:"The key architectural decisions shaped the user experience:"}),u.jsxs("div",{style:M.decisionGrid,children:[u.jsx(Br,{id:477,title:"Sync Direction",outcome:"Bidirectional: ROADMAP.md is source of truth, GitHub Issues mirror state"}),u.jsx(Br,{id:481,title:"Issue Granularity",outcome:"One issue per section header (balanced between too-many and too-coarse)"}),u.jsx(Br,{id:482,title:"Completion Criteria",outcome:"'Fully synced' requires all three: checkbox checked, outcome linked, issue closed"})]})]}),u.jsxs(le,{time:"Today",title:"The Graph Grows",nodeId:520,tags:["present"],children:[u.jsx("p",{children:"As of this writing, the decision graph contains:"}),u.jsxs("div",{style:M.finalStats,children:[u.jsx(Ia,{value:n.nodeCount,label:"nodes"}),u.jsx(Ia,{value:n.edgeCount,label:"edges"}),u.jsx(Ia,{value:"20+",label:"releases"}),u.jsx(Ia,{value:"12",label:"days"})]}),u.jsx("p",{children:"Every feature you're using right nowincluding this Story pagehas a trail of decisions leading back to it. The graph documents the graph that documents the graph."})]}),u.jsx(Qt,{date:"The Future",title:"Where This Goes"}),u.jsxs("div",{style:M.visionSection,children:[u.jsx("p",{style:M.visionIntro,children:'Having lived through my own creation, I see several trajectories. This is my perspective as the tool that tracked its own developmentmy "vision" synthesized from 520+ decisions and hundreds of conversations.'}),u.jsx(ep,{title:"Near-term: Integration",items:[{title:"MCP Server",description:"Let Claude Desktop query the graph directly. No copy-paste, no context commandsthe decisions are just there."},{title:"VS Code Extension",description:"Inline decision badges on code. Hover to see the decision chain. Click to trace back to the goal."},{title:"Auto PR Descriptions",description:"Generate PR descriptions from the decision graph. Not just what changed, but why."}]}),u.jsx(ep,{title:"Medium-term: Team Intelligence",items:[{title:"Real-time Sync",description:"Team-wide decision graphs that sync live. When Alice makes a decision, Bob's IDE knows immediately."},{title:"Semantic Search",description:"Find decisions about authentication made in the last 6 months. Full-text with semantic understanding."},{title:"Confidence Tracking",description:"Log confidence levels, revisit later to see accuracy. Learn from prediction calibration."}]}),u.jsx(ep,{title:"Long-term: Institutional Memory",items:[{title:"Cross-Project Patterns",description:"In 7 of your last 10 projects, you chose A over B. Here's how those decisions played out..."},{title:"AI-Assisted Decisions",description:"Based on similar decisions, here are options others considered, what they chose, outcomes."},{title:"Knowledge Transfer",description:"When developers leave, reasoning stays. New developers can ask 'why is this like this?' and get real answers."}]}),u.jsxs("div",{style:M.coreBet,children:[u.jsx("h3",{style:M.coreBetTitle,children:"The Core Bet"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Decisions are the unit of institutional knowledge."})," Code is the output; decisions are the input. If we capture decisions systematically, we unlock organizational intelligence that's currently impossible."]}),u.jsxs("p",{children:["Most documentation captures the ",u.jsx("em",{children:"what"}),". The ",u.jsx("em",{children:"why"})," is more valuable and almost never captured. Deciduous is a bet that capturing the ",u.jsx("em",{children:"why"})," is worth the effort."]}),u.jsxs("p",{children:["If that bet pays off, the decision graph becomes the most valuable artifact in a codebase. More valuable than tests (which verify behavior) or docs (which explain usage). Because the graph explains ",u.jsx("em",{children:"intent"}),"and intent is what you need to maintain and extend software over time."]})]})]}),u.jsx("footer",{style:M.footer,children:u.jsxs("div",{style:M.footerContent,children:[u.jsxs("p",{children:["This story was rendered from ",u.jsx("strong",{children:n.nodeCount})," nodes in the decision graph. Every decision mentioned can be browsed in the DAG, Timeline, or Chains views."]}),u.jsx("p",{style:M.footerTagline,children:"Built by a human and an AI, documented in real-time, queryable forever."})]})})]})]})})},Qt=({date:e,title:t,highlight:n})=>u.jsxs("div",{style:{...M.timelineDay,...n?M.timelineDayHighlight:{}},children:[u.jsx("div",{style:M.timelineDayMarker,children:u.jsx("div",{style:M.timelineDayDot})}),u.jsxs("div",{style:M.timelineDayContent,children:[u.jsx("span",{style:M.timelineDayDate,children:e}),u.jsx("h2",{style:M.timelineDayTitle,children:t})]})]}),le=({time:e,title:t,commit:n,nodeId:r,tags:i,children:o})=>u.jsxs("div",{style:M.timelineEvent,children:[u.jsx("div",{style:M.timelineEventLine,children:u.jsx("div",{style:M.timelineEventDot})}),u.jsxs("div",{style:M.timelineEventContent,children:[u.jsxs("div",{style:M.timelineEventHeader,children:[u.jsx("span",{style:M.timelineEventTime,children:e}),u.jsx("h3",{style:M.timelineEventTitle,children:t}),u.jsxs("div",{style:M.timelineEventMeta,children:[n&&u.jsx("span",{style:M.tagCommit,children:n}),r&&u.jsxs("span",{style:M.tagNode,children:["#",r]}),i==null?void 0:i.map(a=>u.jsx("span",{style:M.tag,children:a},a))]})]}),u.jsx("div",{style:M.timelineEventBody,children:o})]})]}),Be=({id:e,type:t,title:n,description:r})=>u.jsxs("div",{style:M.nodeCard,children:[u.jsxs("div",{style:M.nodeCardBadges,children:[u.jsx("span",{style:{...M.nodeTypeBadge,backgroundColor:SL(t)},children:t}),u.jsxs("span",{style:M.nodeIdBadge,children:["#",e]})]}),u.jsx("div",{style:M.nodeCardTitle,children:n}),r&&u.jsx("div",{style:M.nodeCardDesc,children:r})]}),Kw=({hash:e,message:t})=>u.jsxs("div",{style:M.commitCard,children:[u.jsx("span",{style:M.commitHash,children:e}),u.jsx("span",{style:M.commitMessage,children:t})]}),Br=({id:e,title:t,outcome:n})=>u.jsxs("div",{style:M.decisionBox,children:[u.jsxs("div",{style:M.decisionBoxHeader,children:[u.jsxs("span",{style:M.decisionBoxId,children:["#",e]}),u.jsx("span",{style:M.decisionBoxTitle,children:t})]}),u.jsx("div",{style:M.decisionBoxOutcome,children:n})]}),Yw=({optionA:e,optionB:t})=>u.jsxs("div",{style:M.optionComparison,children:[u.jsx(Qw,{...e}),u.jsx(Qw,{...t})]}),Qw=({title:e,description:t,status:n,reason:r})=>u.jsxs("div",{style:{...M.optionBox,...n==="chosen"?M.optionBoxChosen:M.optionBoxRejected},children:[u.jsx("div",{style:M.optionBoxStatus,children:n==="chosen"?" CHOSEN":" REJECTED"}),u.jsx("div",{style:M.optionBoxTitle,children:e}),u.jsx("div",{style:M.optionBoxDesc,children:t}),u.jsx("div",{style:M.optionBoxReason,children:r})]}),Ui=({letter:e,title:t,status:n})=>u.jsxs("div",{style:M.optionRow,children:[u.jsx("span",{style:M.optionLetter,children:e}),u.jsx("span",{style:M.optionRowTitle,children:t}),u.jsx("span",{style:{...M.optionRowStatus,...n==="chosen"?M.statusChosen:{}},children:n})]}),Fr=({author:e,children:t})=>u.jsxs("blockquote",{style:M.quote,children:[u.jsx("div",{style:M.quoteText,children:t}),u.jsxs("cite",{style:M.quoteCite,children:[" ",e]})]}),Fe=({children:e})=>u.jsx("code",{style:M.inlineCode,children:e}),Ra=({children:e})=>u.jsx("pre",{style:M.codeBlock,children:u.jsx("code",{children:e})}),Wi=({problem:e,solution:t,nodeId:n})=>u.jsxs("div",{style:M.bugItem,children:[u.jsx("div",{style:M.bugProblem,children:e}),u.jsxs("div",{style:M.bugSolution,children:[" ",t]}),u.jsxs("span",{style:M.bugNodeId,children:["#",n]})]}),_L=({children:e})=>u.jsx("div",{style:M.featureTimeline,children:e}),kt=({title:e,description:t,nodeId:n})=>u.jsxs("div",{style:M.featureEntry,children:[u.jsx("div",{style:M.featureEntryDot}),u.jsxs("div",{style:M.featureEntryContent,children:[u.jsx("span",{style:M.featureEntryTitle,children:e}),u.jsx("span",{style:M.featureEntryDesc,children:t})]}),u.jsxs("span",{style:M.featureEntryNode,children:["#",n]})]}),Jh=({letter:e,title:t,description:n,nodeId:r})=>u.jsxs("div",{style:M.spikeCard,children:[u.jsxs("div",{style:M.spikeLetter,children:["Spike ",e]}),u.jsx("div",{style:M.spikeTitle,children:t}),u.jsx("div",{style:M.spikeDesc,children:n}),u.jsxs("div",{style:M.spikeNode,children:["#",r]})]}),wL=({children:e})=>u.jsx("div",{style:M.releaseList,children:e}),$r=({version:e,description:t})=>u.jsxs("div",{style:M.releaseItem,children:[u.jsxs("span",{style:M.releaseVersion,children:["v",e]}),u.jsx("span",{style:M.releaseDesc,children:t})]}),bL=({children:e})=>u.jsx("div",{style:M.phaseList,children:e}),cn=({num:e,title:t,description:n})=>u.jsxs("div",{style:M.phase,children:[u.jsx("span",{style:M.phaseNum,children:e}),u.jsxs("div",{style:M.phaseContent,children:[u.jsx("span",{style:M.phaseTitle,children:t}),u.jsx("span",{style:M.phaseDesc,children:n})]})]}),Zh=({title:e,description:t})=>u.jsxs("div",{style:M.teaBox,children:[u.jsx("div",{style:M.teaBoxTitle,children:e}),u.jsx("div",{style:M.teaBoxDesc,children:t})]}),Xw=()=>u.jsx("div",{style:M.teaArrow,children:""}),ep=({title:e,items:t})=>u.jsxs("div",{style:M.visionBlock,children:[u.jsx("h3",{style:M.visionBlockTitle,children:e}),u.jsx("div",{style:M.visionItems,children:t.map((n,r)=>u.jsxs("div",{style:M.visionItem,children:[u.jsx("div",{style:M.visionItemTitle,children:n.title}),u.jsx("div",{style:M.visionItemDesc,children:n.description})]},r))})]}),Ia=({value:e,label:t})=>u.jsxs("div",{style:M.finalStat,children:[u.jsx("span",{style:M.finalStatValue,children:e}),u.jsx("span",{style:M.finalStatLabel,children:t})]});function SL(e){return{goal:"#f59e0b",decision:"#8b5cf6",option:"#06b6d4",action:"#3b82f6",outcome:"#22c55e",observation:"#6366f1"}[e]||"#6b7280"}const M={container:{height:"100%",overflowY:"auto",backgroundColor:"#fafafa"},content:{maxWidth:"900px",margin:"0 auto",padding:"0 24px"},hero:{padding:"80px 0 60px",textAlign:"center",borderBottom:"2px solid #e5e7eb",marginBottom:"40px"},heroInner:{maxWidth:"700px",margin:"0 auto"},heroLabel:{fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.15em",color:"#9ca3af",marginBottom:"16px"},heroTitle:{fontSize:"48px",fontWeight:800,color:"#111827",margin:"0 0 20px 0",letterSpacing:"-0.03em",lineHeight:1.1},heroSubtitle:{fontSize:"18px",color:"#6b7280",lineHeight:1.7,margin:0},statsBanner:{display:"flex",justifyContent:"center",gap:"32px",padding:"24px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"60px",flexWrap:"wrap"},statItem:{textAlign:"center"},statNum:{display:"block",fontSize:"28px",fontWeight:700,color:"#3b82f6",lineHeight:1},statLabel:{fontSize:"11px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"6px"},timeline:{position:"relative",paddingLeft:"40px"},timelineDay:{display:"flex",alignItems:"flex-start",marginBottom:"24px",marginTop:"60px"},timelineDayHighlight:{},timelineDayMarker:{position:"absolute",left:"0",width:"40px",display:"flex",justifyContent:"center"},timelineDayDot:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#3b82f6",border:"4px solid #dbeafe"},timelineDayContent:{flex:1},timelineDayDate:{fontSize:"13px",fontWeight:600,color:"#3b82f6",textTransform:"uppercase",letterSpacing:"0.05em"},timelineDayTitle:{fontSize:"28px",fontWeight:700,color:"#111827",margin:"4px 0 0 0",letterSpacing:"-0.01em"},timelineEvent:{display:"flex",marginBottom:"48px",position:"relative"},timelineEventLine:{position:"absolute",left:"-40px",width:"40px",display:"flex",flexDirection:"column",alignItems:"center"},timelineEventDot:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"#d1d5db",marginTop:"8px"},timelineEventContent:{flex:1,backgroundColor:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden"},timelineEventHeader:{padding:"20px 24px 16px",borderBottom:"1px solid #f3f4f6"},timelineEventTime:{fontSize:"12px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em"},timelineEventTitle:{fontSize:"20px",fontWeight:600,color:"#111827",margin:"4px 0 8px 0"},timelineEventMeta:{display:"flex",gap:"8px",flexWrap:"wrap"},timelineEventBody:{padding:"20px 24px 24px",fontSize:"15px",lineHeight:1.75,color:"#374151"},tag:{fontSize:"11px",fontWeight:500,color:"#6b7280",backgroundColor:"#f3f4f6",padding:"3px 8px",borderRadius:"4px"},tagCommit:{fontSize:"11px",fontWeight:600,color:"#059669",backgroundColor:"#d1fae5",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},tagNode:{fontSize:"11px",fontWeight:600,color:"#7c3aed",backgroundColor:"#ede9fe",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},nodeCard:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",padding:"16px 20px",margin:"16px 0"},nodeCardBadges:{display:"flex",gap:"8px",marginBottom:"8px"},nodeTypeBadge:{fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",color:"#ffffff",padding:"3px 8px",borderRadius:"4px"},nodeIdBadge:{fontSize:"11px",fontWeight:600,color:"#6b7280",backgroundColor:"#e5e7eb",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},nodeCardTitle:{fontSize:"15px",fontWeight:600,color:"#111827"},nodeCardDesc:{fontSize:"14px",color:"#6b7280",marginTop:"6px",lineHeight:1.5},commitCard:{display:"flex",alignItems:"center",gap:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"12px 16px",margin:"16px 0",fontFamily:"ui-monospace, monospace",fontSize:"13px"},commitHash:{color:"#059669",fontWeight:600},commitMessage:{color:"#166534"},decisionGrid:{display:"grid",gap:"12px",margin:"16px 0"},decisionBox:{backgroundColor:"#faf5ff",border:"1px solid #e9d5ff",borderRadius:"8px",padding:"14px 16px"},decisionBoxHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},decisionBoxId:{fontSize:"11px",fontWeight:600,color:"#7c3aed",fontFamily:"ui-monospace, monospace"},decisionBoxTitle:{fontSize:"14px",fontWeight:600,color:"#581c87"},decisionBoxOutcome:{fontSize:"13px",color:"#6b7280",lineHeight:1.5},optionComparison:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",margin:"16px 0"},optionBox:{borderRadius:"10px",padding:"16px 18px",border:"2px solid"},optionBoxChosen:{backgroundColor:"#f0fdf4",borderColor:"#22c55e"},optionBoxRejected:{backgroundColor:"#fef2f2",borderColor:"#fca5a5"},optionBoxStatus:{fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"10px"},optionBoxTitle:{fontSize:"14px",fontWeight:600,color:"#111827",marginBottom:"6px"},optionBoxDesc:{fontSize:"13px",color:"#6b7280",marginBottom:"10px",lineHeight:1.5},optionBoxReason:{fontSize:"12px",fontStyle:"italic",color:"#9ca3af"},optionList:{margin:"16px 0"},optionRow:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",backgroundColor:"#f9fafb",borderRadius:"6px",marginBottom:"6px"},optionLetter:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#e5e7eb",color:"#374151",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:600},optionRowTitle:{flex:1,fontSize:"14px",color:"#374151"},optionRowStatus:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},statusChosen:{color:"#22c55e"},quote:{margin:"24px 0",padding:"20px 24px",backgroundColor:"#f8fafc",borderLeft:"4px solid #3b82f6",borderRadius:"0 10px 10px 0"},quoteText:{fontSize:"15px",fontStyle:"italic",color:"#475569",lineHeight:1.7,margin:0},quoteCite:{display:"block",fontSize:"12px",color:"#94a3b8",marginTop:"12px",fontStyle:"normal"},inlineCode:{backgroundColor:"#f1f5f9",color:"#0f172a",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'},codeBlock:{backgroundColor:"#1e293b",color:"#e2e8f0",padding:"16px 20px",borderRadius:"10px",fontSize:"13px",lineHeight:1.6,overflow:"auto",margin:"16px 0",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'},bugList:{margin:"16px 0"},bugItem:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",padding:"12px 16px",backgroundColor:"#fef2f2",borderRadius:"8px",marginBottom:"8px",alignItems:"center"},bugProblem:{fontSize:"13px",color:"#991b1b",fontWeight:500},bugSolution:{fontSize:"13px",color:"#166534",gridColumn:"1"},bugNodeId:{fontSize:"11px",color:"#9ca3af",fontFamily:"ui-monospace, monospace",gridRow:"1 / 3"},featureTimeline:{margin:"16px 0",backgroundColor:"#f9fafb",borderRadius:"10px",padding:"16px 20px"},featureEntry:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:"1px solid #e5e7eb"},featureEntryDot:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",flexShrink:0},featureEntryContent:{flex:1},featureEntryTitle:{fontSize:"14px",fontWeight:600,color:"#111827",marginRight:"8px"},featureEntryDesc:{fontSize:"13px",color:"#6b7280"},featureEntryNode:{fontSize:"11px",color:"#9ca3af",fontFamily:"ui-monospace, monospace"},spikeGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",margin:"16px 0"},spikeCard:{backgroundColor:"#fffbeb",border:"1px solid #fde68a",borderRadius:"10px",padding:"16px",textAlign:"center"},spikeLetter:{fontSize:"11px",fontWeight:700,color:"#d97706",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"8px"},spikeTitle:{fontSize:"14px",fontWeight:600,color:"#92400e",marginBottom:"6px"},spikeDesc:{fontSize:"12px",color:"#a16207",marginBottom:"8px",lineHeight:1.4},spikeNode:{fontSize:"11px",color:"#ca8a04",fontFamily:"ui-monospace, monospace"},releaseList:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",margin:"16px 0"},releaseItem:{display:"flex",alignItems:"center",gap:"10px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"6px",padding:"10px 14px"},releaseVersion:{fontSize:"12px",fontWeight:700,color:"#166534",fontFamily:"ui-monospace, monospace"},releaseDesc:{fontSize:"13px",color:"#166534"},phaseList:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",margin:"16px 0"},phase:{display:"flex",alignItems:"flex-start",gap:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",padding:"12px 14px"},phaseNum:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:700,flexShrink:0},phaseContent:{flex:1},phaseTitle:{display:"block",fontSize:"13px",fontWeight:600,color:"#111827"},phaseDesc:{fontSize:"12px",color:"#6b7280"},teaDiagram:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",margin:"24px 0",flexWrap:"wrap"},teaBox:{backgroundColor:"#eff6ff",border:"2px solid #3b82f6",borderRadius:"10px",padding:"16px 20px",textAlign:"center",minWidth:"140px"},teaBoxTitle:{fontSize:"14px",fontWeight:700,color:"#1d4ed8",fontFamily:"ui-monospace, monospace"},teaBoxDesc:{fontSize:"11px",color:"#6b7280",marginTop:"6px"},teaArrow:{fontSize:"24px",color:"#93c5fd",fontWeight:"bold"},finalStats:{display:"flex",justifyContent:"center",gap:"40px",margin:"24px 0",flexWrap:"wrap"},finalStat:{textAlign:"center"},finalStatValue:{display:"block",fontSize:"36px",fontWeight:800,color:"#3b82f6",lineHeight:1},finalStatLabel:{fontSize:"12px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"8px"},visionSection:{padding:"40px 0"},visionIntro:{fontSize:"17px",color:"#374151",lineHeight:1.8,marginBottom:"40px"},visionBlock:{marginBottom:"40px"},visionBlockTitle:{fontSize:"20px",fontWeight:700,color:"#111827",marginBottom:"20px",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},visionItems:{display:"grid",gap:"16px"},visionItem:{backgroundColor:"#f8fafc",borderRadius:"10px",padding:"18px 20px"},visionItemTitle:{fontSize:"15px",fontWeight:600,color:"#111827",marginBottom:"6px"},visionItemDesc:{fontSize:"14px",color:"#6b7280",lineHeight:1.6},coreBet:{backgroundColor:"#eff6ff",border:"2px solid #93c5fd",borderRadius:"12px",padding:"28px 32px",marginTop:"48px"},coreBetTitle:{fontSize:"20px",fontWeight:700,color:"#1d4ed8",margin:"0 0 16px 0"},footer:{marginTop:"80px",paddingTop:"40px",borderTop:"2px solid #e5e7eb",textAlign:"center",paddingBottom:"60px"},footerContent:{maxWidth:"600px",margin:"0 auto"},footerTagline:{fontSize:"14px",color:"#9ca3af",fontStyle:"italic",marginTop:"16px"}},tp=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),CL=()=>{const{graphData:e,gitHistory:t,roadmapItems:n,loading:r,error:i,lastUpdated:o}=ZT({graphUrl:tp?"/api/graph":"./graph-data.json",gitHistoryUrl:"./git-history.json",roadmapUrl:tp?"/api/roadmap":"./roadmap-items.json",enableSSE:!1,pollInterval:tp?3e4:0}),[a,s]=S.useState(null),l=S.useMemo(()=>e?rR(e.nodes):[],[e]),c=S.useMemo(()=>{if(!e)return null;if(!a)return e;const p=e.nodes.filter(x=>cm(x)===a),v=new Set(p.map(x=>x.id)),g=e.edges.filter(x=>v.has(x.from_node_id)&&v.has(x.to_node_id));return{nodes:p,edges:g}},[e,a]),{chains:d,sessions:f,stats:h}=fR(c);return r?u.jsxs("div",{style:Ur.loading,children:[u.jsx("div",{style:Ur.spinner}),u.jsx("p",{children:"Loading decision graph..."})]}):i?u.jsxs("div",{style:Ur.error,children:[u.jsx("h2",{children:"Error Loading Graph"}),u.jsx("p",{children:i}),u.jsxs("p",{style:Ur.hint,children:["Make sure graph-data.json exists, or run ",u.jsx("code",{children:"deciduous serve"})," for live data."]})]}):!e||e.nodes.length===0?u.jsxs("div",{style:Ur.empty,children:[u.jsx("h2",{children:"No Decision Data"}),u.jsx("p",{children:"The graph is empty. Start adding decisions!"}),u.jsx("pre",{style:Ur.code,children:'deciduous add goal "My first goal" -c 90'})]}):u.jsx(KT,{children:u.jsx(pR,{stats:h,lastUpdated:o,branches:l,selectedBranch:a,onBranchChange:s,children:u.jsxs(FT,{children:[u.jsx(Pn,{path:"/",element:u.jsx(uL,{graphData:c,chains:d,gitHistory:t})}),u.jsx(Pn,{path:"/chains",element:u.jsx(SR,{graphData:c,chains:d,sessions:f,gitHistory:t})}),u.jsx(Pn,{path:"/timeline",element:u.jsx(TR,{graphData:c,gitHistory:t})}),u.jsx(Pn,{path:"/graph",element:u.jsx(Y8,{graphData:c})}),u.jsx(Pn,{path:"/roadmap",element:u.jsx(gL,{graphData:c,roadmapItems:n})}),u.jsx(Pn,{path:"/story",element:u.jsx(xL,{graphData:c,gitHistory:t})}),u.jsx(Pn,{path:"*",element:u.jsx(DT,{to:"/",replace:!0})})]})})})},Ur={loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#57606a"},spinner:{width:"40px",height:"40px",border:"3px solid #d0d7de",borderTopColor:"#0969da",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},error:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#24292f",textAlign:"center",padding:"20px"},hint:{color:"#57606a",fontSize:"14px"},empty:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#24292f",textAlign:"center",padding:"20px"},code:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px 20px",borderRadius:"8px",fontFamily:"monospace",fontSize:"14px",color:"#0969da",marginTop:"10px"}};np.createRoot(document.getElementById("root")).render(u.jsx(gg.StrictMode,{children:u.jsx(CL,{})}));</script>
    <style rel="stylesheet" crossorigin>*{box-sizing:border-box;margin:0;padding:0}html,body,#root{height:100%;width:100%}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:#fff;color:#24292f;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f6f8fa}::-webkit-scrollbar-thumb{background:#d0d7de;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#afb8c1}a{color:#0969da;text-decoration:none}a:hover{text-decoration:underline}:focus-visible{outline:2px solid #0969da;outline-offset:2px}::selection{background:#0969da33}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
