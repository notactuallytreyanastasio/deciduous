<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <meta name="title" content="Deciduous - Live Decision Graph Demo" />
    <meta name="description" content="Explore the live decision graph that documented the creation of Deciduous. Browse 520+ nodes across 6 views: DAG, Chains, Timeline, Graph, Roadmap, and Story." />
    <title>Deciduous - Live Decision Graph Demo</title>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://notactuallytreyanastasio.github.io/deciduous/demo/" />
    <meta property="og:title" content="Deciduous - Live Decision Graph Demo" />
    <meta property="og:description" content="Explore the live decision graph that documented the creation of Deciduous. Browse 520+ nodes across 6 views: DAG, Chains, Timeline, Graph, Roadmap, and Story." />
    <meta property="og:image" content="https://notactuallytreyanastasio.github.io/deciduous/demo/demo-og.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://notactuallytreyanastasio.github.io/deciduous/demo/" />
    <meta property="twitter:title" content="Deciduous - Live Decision Graph Demo" />
    <meta property="twitter:description" content="Browse 520+ decisions that built Deciduous. See goals, decisions, actions, and outcomes connected in an interactive graph." />
    <meta property="twitter:image" content="https://notactuallytreyanastasio.github.io/deciduous/demo/demo-og.png" />
    <script type="module" crossorigin>function _k(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zw={exports:{}},Ts={},eb={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),wk=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),Sk=Symbol.for("react.strict_mode"),Ck=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),jk=Symbol.for("react.context"),Ek=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),Rk=Symbol.for("react.memo"),Ik=Symbol.for("react.lazy"),Xm=Symbol.iterator;function Mk(e){return e===null||typeof e!="object"?null:(e=Xm&&e[Xm]||e["@@iterator"],typeof e=="function"?e:null)}var tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nb=Object.assign,rb={};function mi(e,t,n){this.props=e,this.context=t,this.refs=rb,this.updater=n||tb}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ib(){}ib.prototype=mi.prototype;function fg(e,t,n){this.props=e,this.context=t,this.refs=rb,this.updater=n||tb}var hg=fg.prototype=new ib;hg.constructor=fg;nb(hg,mi.prototype);hg.isPureReactComponent=!0;var Qm=Array.isArray,ob=Object.prototype.hasOwnProperty,pg={current:null},ab={key:!0,ref:!0,__self:!0,__source:!0};function sb(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ob.call(t,r)&&!ab.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Po,type:e,key:o,ref:a,props:i,_owner:pg.current}}function Nk(e,t){return{$$typeof:Po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function Ak(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jm=/\/+/g;function bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ak(""+e.key):t.toString(36)}function Ea(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Po:case wk:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+bl(a,0):r,Qm(i)?(n="",e!=null&&(n=e.replace(Jm,"$&/")+"/"),Ea(i,t,n,"",function(c){return c})):i!=null&&(gg(i)&&(i=Nk(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Jm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Qm(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+bl(o,s);a+=Ea(o,t,n,l,i)}else if(l=Mk(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+bl(o,s++),a+=Ea(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qo(e,t,n){if(e==null)return e;var r=[],i=0;return Ea(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Pk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Ta={transition:null},Lk={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Ta,ReactCurrentOwner:pg};function lb(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Qo,forEach:function(e,t,n){Qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!gg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=mi;ee.Fragment=bk;ee.Profiler=Ck;ee.PureComponent=fg;ee.StrictMode=Sk;ee.Suspense=Tk;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;ee.act=lb;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nb({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=pg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)ob.call(t,l)&&!ab.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Po,type:e.type,key:i,ref:o,props:r,_owner:a}};ee.createContext=function(e){return e={$$typeof:jk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kk,_context:e},e.Consumer=e};ee.createElement=sb;ee.createFactory=function(e){var t=sb.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Ek,render:e}};ee.isValidElement=gg;ee.lazy=function(e){return{$$typeof:Ik,_payload:{_status:-1,_result:e},_init:Pk}};ee.memo=function(e,t){return{$$typeof:Rk,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Ta.transition;Ta.transition={};try{e()}finally{Ta.transition=t}};ee.unstable_act=lb;ee.useCallback=function(e,t){return Ye.current.useCallback(e,t)};ee.useContext=function(e){return Ye.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ye.current.useEffect(e,t)};ee.useId=function(){return Ye.current.useId()};ee.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ye.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};ee.useRef=function(e){return Ye.current.useRef(e)};ee.useState=function(e){return Ye.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Ye.current.useTransition()};ee.version="18.3.1";eb.exports=ee;var C=eb.exports;const mg=Jw(C),zk=_k({__proto__:null,default:mg},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk=C,Ok=Symbol.for("react.element"),Dk=Symbol.for("react.fragment"),Bk=Object.prototype.hasOwnProperty,Fk=qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function ub(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Bk.call(t,r)&&!$k.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ok,type:e,key:o,ref:a,props:i,_owner:Fk.current}}Ts.Fragment=Dk;Ts.jsx=ub;Ts.jsxs=ub;Zw.exports=Ts;var u=Zw.exports,tp={},cb={exports:{}},ht={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var q=I.length;I.push(P);e:for(;0<q;){var G=q-1>>>1,K=I[G];if(0<i(K,P))I[G]=P,I[q]=K,q=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],q=I.pop();if(q!==P){I[0]=q;e:for(var G=0,K=I.length,be=K>>>1;G<be;){var oe=2*(G+1)-1,Se=I[oe],ge=oe+1,Ce=I[ge];if(0>i(Se,q))ge<K&&0>i(Ce,Se)?(I[G]=Ce,I[ge]=q,G=ge):(I[G]=Se,I[oe]=q,G=oe);else if(ge<K&&0>i(Ce,q))I[G]=Ce,I[ge]=q,G=ge;else break e}}return P}function i(I,P){var q=I.sortIndex-P.sortIndex;return q!==0?q:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,h=3,g=!1,v=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=I)r(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(c)}}function x(I){if(p=!1,_(I),!v)if(n(l)!==null)v=!0,A(b);else{var P=n(c);P!==null&&z(x,P.startTime-I)}}function b(I,P){v=!1,p&&(p=!1,m(k),k=-1),g=!0;var q=h;try{for(_(P),f=n(l);f!==null&&(!(f.expirationTime>P)||I&&!N());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var K=G(f.expirationTime<=P);P=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),_(P)}else r(l);f=n(l)}if(f!==null)var be=!0;else{var oe=n(c);oe!==null&&z(x,oe.startTime-P),be=!1}return be}finally{f=null,h=q,g=!1}}var j=!1,S=null,k=-1,E=5,T=-1;function N(){return!(e.unstable_now()-T<E)}function F(){if(S!==null){var I=e.unstable_now();T=I;var P=!0;try{P=S(!0,I)}finally{P?H():(j=!1,S=null)}}else j=!1}var H;if(typeof y=="function")H=function(){y(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=F,H=function(){D.postMessage(null)}}else H=function(){w(F,0)};function A(I){S=I,j||(j=!0,H())}function z(I,P){k=w(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,A(b))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var q=h;h=P;try{return I()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=h;h=I;try{return P()}finally{h=q}},e.unstable_scheduleCallback=function(I,P,q){var G=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,I={id:d++,callback:P,priorityLevel:I,startTime:q,expirationTime:K,sortIndex:-1},q>G?(I.sortIndex=q,t(c,I),n(l)===null&&I===n(c)&&(p?(m(k),k=-1):p=!0,z(x,q-G))):(I.sortIndex=K,t(l,I),v||g||(v=!0,A(b))),I},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(I){var P=h;return function(){var q=h;h=P;try{return I.apply(this,arguments)}finally{h=q}}}})(fb);db.exports=fb;var Uk=db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=C,dt=Uk;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hb=new Set,uo={};function kr(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(uo[e]=t,e=0;e<t.length;e++)hb.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,Hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zm={},ev={};function Gk(e){return np.call(ev,e)?!0:np.call(Zm,e)?!1:Hk.test(e)?ev[e]=!0:(Zm[e]=!0,!1)}function Vk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yk(e,t,n,r){if(t===null||typeof t>"u"||Vk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function yg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vg,yg);Oe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vg,yg);Oe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vg,yg);Oe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function xg(e,t,n,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yk(t,n,i,r)&&(n=null),r||i===null?Gk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jo=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),_g=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),pb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),mb=Symbol.for("react.offscreen"),tv=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=tv&&e[tv]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Sl;function $i(e){if(Sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var Cl=!1;function kl(e,t){if(!e||Cl)return"";Cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$i(e):""}function Kk(e){switch(e.tag){case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case Fr:return"Portal";case rp:return"Profiler";case _g:return"StrictMode";case ip:return"Suspense";case op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gb:return(e.displayName||"Context")+".Consumer";case pb:return(e._context.displayName||"Context")+".Provider";case wg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bg:return t=e.displayName||null,t!==null?t:ap(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return ap(e(t))}catch{}}return null}function Xk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(t);case 8:return t===_g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qk(e){var t=vb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){e._valueTracker||(e._valueTracker=Qk(e))}function yb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sp(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xb(e,t){t=t.checked,t!=null&&xg(e,"checked",t,!1)}function lp(e,t){xb(e,t);var n=Yn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?up(e,t.type,n):t.hasOwnProperty("defaultValue")&&up(e,t.type,Yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function up(e,t,n){(t!=="number"||Wa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ui=Array.isArray;function Zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function cp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Ui(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yn(n)}}function _b(e,t){var n=Yn(t.value),r=Yn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ov(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ea,bb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function co(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jk=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){Jk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function Sb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function Cb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Zk=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(e,t){if(t){if(Zk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function Sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gp=null,ei=null,ti=null;function av(e){if(e=qo(e)){if(typeof gp!="function")throw Error(L(280));var t=e.stateNode;t&&(t=As(t),gp(e.stateNode,e.type,t))}}function kb(e){ei?ti?ti.push(e):ti=[e]:ei=e}function jb(){if(ei){var e=ei,t=ti;if(ti=ei=null,av(e),t)for(e=0;e<t.length;e++)av(t[e])}}function Eb(e,t){return e(t)}function Tb(){}var jl=!1;function Rb(e,t,n){if(jl)return e(t,n);jl=!0;try{return Eb(e,t,n)}finally{jl=!1,(ei!==null||ti!==null)&&(Tb(),jb())}}function fo(e,t){var n=e.stateNode;if(n===null)return null;var r=As(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var mp=!1;if(fn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){mp=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{mp=!1}function ej(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var to=!1,Ha=null,Ga=!1,vp=null,tj={onError:function(e){to=!0,Ha=e}};function nj(e,t,n,r,i,o,a,s,l){to=!1,Ha=null,ej.apply(tj,arguments)}function rj(e,t,n,r,i,o,a,s,l){if(nj.apply(this,arguments),to){if(to){var c=Ha;to=!1,Ha=null}else throw Error(L(198));Ga||(Ga=!0,vp=c)}}function jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ib(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sv(e){if(jr(e)!==e)throw Error(L(188))}function ij(e){var t=e.alternate;if(!t){if(t=jr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sv(i),e;if(o===r)return sv(i),t;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Mb(e){return e=ij(e),e!==null?Nb(e):null}function Nb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nb(e);if(t!==null)return t;e=e.sibling}return null}var Ab=dt.unstable_scheduleCallback,lv=dt.unstable_cancelCallback,oj=dt.unstable_shouldYield,aj=dt.unstable_requestPaint,_e=dt.unstable_now,sj=dt.unstable_getCurrentPriorityLevel,Cg=dt.unstable_ImmediatePriority,Pb=dt.unstable_UserBlockingPriority,Va=dt.unstable_NormalPriority,lj=dt.unstable_LowPriority,Lb=dt.unstable_IdlePriority,Rs=null,Ht=null;function uj(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Rs,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:fj,cj=Math.log,dj=Math.LN2;function fj(e){return e>>>=0,e===0?32:31-(cj(e)/dj|0)|0}var ta=64,na=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Wi(s):(o&=a,o!==0&&(r=Wi(o)))}else a=n&~i,a!==0?r=Wi(a):o!==0&&(r=Wi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),i=1<<n,r|=e[n],t&=~i;return r}function hj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Mt(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=hj(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zb(){var e=ta;return ta<<=1,!(ta&4194240)&&(ta=64),e}function El(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function gj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function kg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function qb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ob,jg,Db,Bb,Fb,xp=!1,ra=[],On=null,Dn=null,Bn=null,ho=new Map,po=new Map,Mn=[],mj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(t.pointerId)}}function Ni(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qo(t),t!==null&&jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vj(e,t,n,r,i){switch(t){case"focusin":return On=Ni(On,e,t,n,r,i),!0;case"dragenter":return Dn=Ni(Dn,e,t,n,r,i),!0;case"mouseover":return Bn=Ni(Bn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ho.set(o,Ni(ho.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,po.set(o,Ni(po.get(o)||null,e,t,n,r,i)),!0}return!1}function $b(e){var t=lr(e.target);if(t!==null){var n=jr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ib(n),t!==null){e.blockedOn=t,Fb(e.priority,function(){Db(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pp=r,n.target.dispatchEvent(r),pp=null}else return t=qo(n),t!==null&&jg(t),e.blockedOn=n,!1;t.shift()}return!0}function cv(e,t,n){Ra(e)&&n.delete(t)}function yj(){xp=!1,On!==null&&Ra(On)&&(On=null),Dn!==null&&Ra(Dn)&&(Dn=null),Bn!==null&&Ra(Bn)&&(Bn=null),ho.forEach(cv),po.forEach(cv)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,xp||(xp=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,yj)))}function go(e){function t(i){return Ai(i,e)}if(0<ra.length){Ai(ra[0],e);for(var n=1;n<ra.length;n++){var r=ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&Ai(On,e),Dn!==null&&Ai(Dn,e),Bn!==null&&Ai(Bn,e),ho.forEach(t),po.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)$b(n),n.blockedOn===null&&Mn.shift()}var ni=yn.ReactCurrentBatchConfig,Ka=!0;function xj(e,t,n,r){var i=le,o=ni.transition;ni.transition=null;try{le=1,Eg(e,t,n,r)}finally{le=i,ni.transition=o}}function _j(e,t,n,r){var i=le,o=ni.transition;ni.transition=null;try{le=4,Eg(e,t,n,r)}finally{le=i,ni.transition=o}}function Eg(e,t,n,r){if(Ka){var i=_p(e,t,n,r);if(i===null)ql(e,t,r,Xa,n),uv(e,r);else if(vj(i,e,t,n,r))r.stopPropagation();else if(uv(e,r),t&4&&-1<mj.indexOf(e)){for(;i!==null;){var o=qo(i);if(o!==null&&Ob(o),o=_p(e,t,n,r),o===null&&ql(e,t,r,Xa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Xa=null;function _p(e,t,n,r){if(Xa=null,e=Sg(r),e=lr(e),e!==null)if(t=jr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ib(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xa=e,null}function Ub(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sj()){case Cg:return 1;case Pb:return 4;case Va:case lj:return 16;case Lb:return 536870912;default:return 16}default:return 16}}var Pn=null,Tg=null,Ia=null;function Wb(){if(Ia)return Ia;var e,t=Tg,n=t.length,r,i="value"in Pn?Pn.value:Pn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Ia=i.slice(e,1<r?1-r:void 0)}function Ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ia(){return!0}function dv(){return!1}function pt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ia:dv,this.isPropagationStopped=dv,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=pt(vi),zo=ye({},vi,{view:0,detail:0}),wj=pt(zo),Tl,Rl,Pi,Is=ye({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(Tl=e.screenX-Pi.screenX,Rl=e.screenY-Pi.screenY):Rl=Tl=0,Pi=e),Tl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),fv=pt(Is),bj=ye({},Is,{dataTransfer:0}),Sj=pt(bj),Cj=ye({},zo,{relatedTarget:0}),Il=pt(Cj),kj=ye({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),jj=pt(kj),Ej=ye({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tj=pt(Ej),Rj=ye({},vi,{data:0}),hv=pt(Rj),Ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nj[e])?!!t[e]:!1}function Ig(){return Aj}var Pj=ye({},zo,{key:function(e){if(e.key){var t=Ij[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(e){return e.type==="keypress"?Ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lj=pt(Pj),zj=ye({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=pt(zj),qj=ye({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),Oj=pt(qj),Dj=ye({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bj=pt(Dj),Fj=ye({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$j=pt(Fj),Uj=[9,13,27,32],Mg=fn&&"CompositionEvent"in window,no=null;fn&&"documentMode"in document&&(no=document.documentMode);var Wj=fn&&"TextEvent"in window&&!no,Hb=fn&&(!Mg||no&&8<no&&11>=no),gv=" ",mv=!1;function Gb(e,t){switch(e){case"keyup":return Uj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function Hj(e,t){switch(e){case"compositionend":return Vb(t);case"keypress":return t.which!==32?null:(mv=!0,gv);case"textInput":return e=t.data,e===gv&&mv?null:e;default:return null}}function Gj(e,t){if(Ur)return e==="compositionend"||!Mg&&Gb(e,t)?(e=Wb(),Ia=Tg=Pn=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hb&&t.locale!=="ko"?null:t.data;default:return null}}var Vj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vj[e.type]:t==="textarea"}function Yb(e,t,n,r){kb(r),t=Qa(t,"onChange"),0<t.length&&(n=new Rg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ro=null,mo=null;function Yj(e){oS(e,0)}function Ms(e){var t=Gr(e);if(yb(t))return e}function Kj(e,t){if(e==="change")return t}var Kb=!1;if(fn){var Ml;if(fn){var Nl="oninput"in document;if(!Nl){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),Nl=typeof yv.oninput=="function"}Ml=Nl}else Ml=!1;Kb=Ml&&(!document.documentMode||9<document.documentMode)}function xv(){ro&&(ro.detachEvent("onpropertychange",Xb),mo=ro=null)}function Xb(e){if(e.propertyName==="value"&&Ms(mo)){var t=[];Yb(t,mo,e,Sg(e)),Rb(Yj,t)}}function Xj(e,t,n){e==="focusin"?(xv(),ro=t,mo=n,ro.attachEvent("onpropertychange",Xb)):e==="focusout"&&xv()}function Qj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(mo)}function Jj(e,t){if(e==="click")return Ms(t)}function Zj(e,t){if(e==="input"||e==="change")return Ms(t)}function eE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:eE;function vo(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!np.call(t,i)||!At(e[i],t[i]))return!1}return!0}function _v(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wv(e,t){var n=_v(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_v(n)}}function Qb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jb(){for(var e=window,t=Wa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wa(e.document)}return t}function Ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tE(e){var t=Jb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qb(n.ownerDocument.documentElement,n)){if(r!==null&&Ng(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=wv(n,o);var a=wv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nE=fn&&"documentMode"in document&&11>=document.documentMode,Wr=null,wp=null,io=null,bp=!1;function bv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bp||Wr==null||Wr!==Wa(r)||(r=Wr,"selectionStart"in r&&Ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),io&&vo(io,r)||(io=r,r=Qa(wp,"onSelect"),0<r.length&&(t=new Rg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wr)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hr={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},Al={},Zb={};fn&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Ns(e){if(Al[e])return Al[e];if(!Hr[e])return e;var t=Hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zb)return Al[e]=t[n];return e}var eS=Ns("animationend"),tS=Ns("animationiteration"),nS=Ns("animationstart"),rS=Ns("transitionend"),iS=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){iS.set(e,t),kr(t,[e])}for(var Pl=0;Pl<Sv.length;Pl++){var Ll=Sv[Pl],rE=Ll.toLowerCase(),iE=Ll[0].toUpperCase()+Ll.slice(1);Jn(rE,"on"+iE)}Jn(eS,"onAnimationEnd");Jn(tS,"onAnimationIteration");Jn(nS,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(rS,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Cv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rj(r,t,void 0,e),e.currentTarget=null}function oS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Cv(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Cv(i,s,c),o=l}}}if(Ga)throw e=vp,Ga=!1,vp=null,e}function de(e,t){var n=t[Ep];n===void 0&&(n=t[Ep]=new Set);var r=e+"__bubble";n.has(r)||(aS(t,e,2,!1),n.add(r))}function zl(e,t,n){var r=0;t&&(r|=4),aS(n,e,r,t)}var aa="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[aa]){e[aa]=!0,hb.forEach(function(n){n!=="selectionchange"&&(oE.has(n)||zl(n,!1,e),zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[aa]||(t[aa]=!0,zl("selectionchange",!1,t))}}function aS(e,t,n,r){switch(Ub(t)){case 1:var i=xj;break;case 4:i=_j;break;default:i=Eg}n=i.bind(null,t,n,e),i=void 0,!mp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=lr(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Rb(function(){var c=o,d=Sg(n),f=[];e:{var h=iS.get(e);if(h!==void 0){var g=Rg,v=e;switch(e){case"keypress":if(Ma(n)===0)break e;case"keydown":case"keyup":g=Lj;break;case"focusin":v="focus",g=Il;break;case"focusout":v="blur",g=Il;break;case"beforeblur":case"afterblur":g=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Sj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Oj;break;case eS:case tS:case nS:g=jj;break;case rS:g=Bj;break;case"scroll":g=wj;break;case"wheel":g=$j;break;case"copy":case"cut":case"paste":g=Tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pv}var p=(t&4)!==0,w=!p&&e==="scroll",m=p?h!==null?h+"Capture":null:h;p=[];for(var y=c,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,m!==null&&(x=fo(y,m),x!=null&&p.push(xo(y,x,_)))),w)break;y=y.return}0<p.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==pp&&(v=n.relatedTarget||n.fromElement)&&(lr(v)||v[hn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?lr(v):null,v!==null&&(w=jr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(p=fv,x="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=pv,x="onPointerLeave",m="onPointerEnter",y="pointer"),w=g==null?h:Gr(g),_=v==null?h:Gr(v),h=new p(x,y+"leave",g,n,d),h.target=w,h.relatedTarget=_,x=null,lr(d)===c&&(p=new p(m,y+"enter",v,n,d),p.target=_,p.relatedTarget=w,x=p),w=x,g&&v)t:{for(p=g,m=v,y=0,_=p;_;_=Lr(_))y++;for(_=0,x=m;x;x=Lr(x))_++;for(;0<y-_;)p=Lr(p),y--;for(;0<_-y;)m=Lr(m),_--;for(;y--;){if(p===m||m!==null&&p===m.alternate)break t;p=Lr(p),m=Lr(m)}p=null}else p=null;g!==null&&kv(f,h,g,p,!1),v!==null&&w!==null&&kv(f,w,v,p,!0)}}e:{if(h=c?Gr(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var b=Kj;else if(vv(h))if(Kb)b=Zj;else{b=Qj;var j=Xj}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Jj);if(b&&(b=b(e,c))){Yb(f,b,n,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&up(h,"number",h.value)}switch(j=c?Gr(c):window,e){case"focusin":(vv(j)||j.contentEditable==="true")&&(Wr=j,wp=c,io=null);break;case"focusout":io=wp=Wr=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,bv(f,n,d);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":bv(f,n,d)}var S;if(Mg)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ur?Gb(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Hb&&n.locale!=="ko"&&(Ur||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ur&&(S=Wb()):(Pn=d,Tg="value"in Pn?Pn.value:Pn.textContent,Ur=!0)),j=Qa(c,k),0<j.length&&(k=new hv(k,e,null,n,d),f.push({event:k,listeners:j}),S?k.data=S:(S=Vb(n),S!==null&&(k.data=S)))),(S=Wj?Hj(e,n):Gj(e,n))&&(c=Qa(c,"onBeforeInput"),0<c.length&&(d=new hv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}oS(f,t)})}function xo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fo(e,n),o!=null&&r.unshift(xo(e,o,i)),o=fo(e,t),o!=null&&r.push(xo(e,o,i))),e=e.return}return r}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=fo(n,o),l!=null&&a.unshift(xo(n,l,s))):i||(l=fo(n,o),l!=null&&a.push(xo(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var aE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function jv(e){return(typeof e=="string"?e:""+e).replace(aE,`
`).replace(sE,"")}function sa(e,t,n){if(t=jv(t),jv(e)!==t&&n)throw Error(L(425))}function Ja(){}var Sp=null,Cp=null;function kp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch(cE)}:jp;function cE(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),go(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);go(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+yi,_o="__reactProps$"+yi,hn="__reactContainer$"+yi,Ep="__reactEvents$"+yi,dE="__reactListeners$"+yi,fE="__reactHandles$"+yi;function lr(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tv(e);e!==null;){if(n=e[Ut])return n;e=Tv(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[Ut]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function As(e){return e[_o]||null}var Tp=[],Vr=-1;function Zn(e){return{current:e}}function fe(e){0>Vr||(e.current=Tp[Vr],Tp[Vr]=null,Vr--)}function ce(e,t){Vr++,Tp[Vr]=e.current,e.current=t}var Kn={},$e=Zn(Kn),tt=Zn(!1),vr=Kn;function li(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nt(e){return e=e.childContextTypes,e!=null}function Za(){fe(tt),fe($e)}function Rv(e,t,n){if($e.current!==Kn)throw Error(L(168));ce($e,t),ce(tt,n)}function sS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,Xk(e)||"Unknown",i));return ye({},n,r)}function es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,vr=$e.current,ce($e,e),ce(tt,tt.current),!0}function Iv(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=sS(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,fe(tt),fe($e),ce($e,e)):fe(tt),ce(tt,n)}var on=null,Ps=!1,Dl=!1;function lS(e){on===null?on=[e]:on.push(e)}function hE(e){Ps=!0,lS(e)}function er(){if(!Dl&&on!==null){Dl=!0;var e=0,t=le;try{var n=on;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}on=null,Ps=!1}catch(i){throw on!==null&&(on=on.slice(e+1)),Ab(Cg,er),i}finally{le=t,Dl=!1}}return null}var Yr=[],Kr=0,ts=null,ns=0,mt=[],vt=0,yr=null,an=1,sn="";function or(e,t){Yr[Kr++]=ns,Yr[Kr++]=ts,ts=e,ns=t}function uS(e,t,n){mt[vt++]=an,mt[vt++]=sn,mt[vt++]=yr,yr=e;var r=an;e=sn;var i=32-Mt(r)-1;r&=~(1<<i),n+=1;var o=32-Mt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,an=1<<32-Mt(t)+i|n<<i|r,sn=o+e}else an=1<<o|n<<i|r,sn=e}function Ag(e){e.return!==null&&(or(e,1),uS(e,1,0))}function Pg(e){for(;e===ts;)ts=Yr[--Kr],Yr[Kr]=null,ns=Yr[--Kr],Yr[Kr]=null;for(;e===yr;)yr=mt[--vt],mt[vt]=null,sn=mt[--vt],mt[vt]=null,an=mt[--vt],mt[vt]=null}var ct=null,ut=null,he=!1,Tt=null;function cS(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:an,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,ut=null,!0):!1;default:return!1}}function Rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ip(e){if(he){var t=ut;if(t){var n=t;if(!Mv(e,t)){if(Rp(e))throw Error(L(418));t=Fn(n.nextSibling);var r=ct;t&&Mv(e,t)?cS(r,n):(e.flags=e.flags&-4097|2,he=!1,ct=e)}}else{if(Rp(e))throw Error(L(418));e.flags=e.flags&-4097|2,he=!1,ct=e}}}function Nv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function la(e){if(e!==ct)return!1;if(!he)return Nv(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kp(e.type,e.memoizedProps)),t&&(t=ut)){if(Rp(e))throw dS(),Error(L(418));for(;t;)cS(e,t),t=Fn(t.nextSibling)}if(Nv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?Fn(e.stateNode.nextSibling):null;return!0}function dS(){for(var e=ut;e;)e=Fn(e.nextSibling)}function ui(){ut=ct=null,he=!1}function Lg(e){Tt===null?Tt=[e]:Tt.push(e)}var pE=yn.ReactCurrentBatchConfig;function Li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function ua(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Av(e){var t=e._init;return t(e._payload)}function fS(e){function t(m,y){if(e){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Hn(m,y),m.index=0,m.sibling=null,m}function o(m,y,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,y,_,x){return y===null||y.tag!==6?(y=Gl(_,m.mode,x),y.return=m,y):(y=i(y,_),y.return=m,y)}function l(m,y,_,x){var b=_.type;return b===$r?d(m,y,_.props.children,x,_.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tn&&Av(b)===y.type)?(x=i(y,_.props),x.ref=Li(m,y,_),x.return=m,x):(x=Oa(_.type,_.key,_.props,null,m.mode,x),x.ref=Li(m,y,_),x.return=m,x)}function c(m,y,_,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Vl(_,m.mode,x),y.return=m,y):(y=i(y,_.children||[]),y.return=m,y)}function d(m,y,_,x,b){return y===null||y.tag!==7?(y=pr(_,m.mode,x,b),y.return=m,y):(y=i(y,_),y.return=m,y)}function f(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gl(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jo:return _=Oa(y.type,y.key,y.props,null,m.mode,_),_.ref=Li(m,null,y),_.return=m,_;case Fr:return y=Vl(y,m.mode,_),y.return=m,y;case Tn:var x=y._init;return f(m,x(y._payload),_)}if(Ui(y)||Ii(y))return y=pr(y,m.mode,_,null),y.return=m,y;ua(m,y)}return null}function h(m,y,_,x){var b=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:s(m,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jo:return _.key===b?l(m,y,_,x):null;case Fr:return _.key===b?c(m,y,_,x):null;case Tn:return b=_._init,h(m,y,b(_._payload),x)}if(Ui(_)||Ii(_))return b!==null?null:d(m,y,_,x,null);ua(m,_)}return null}function g(m,y,_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(_)||null,s(y,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jo:return m=m.get(x.key===null?_:x.key)||null,l(y,m,x,b);case Fr:return m=m.get(x.key===null?_:x.key)||null,c(y,m,x,b);case Tn:var j=x._init;return g(m,y,_,j(x._payload),b)}if(Ui(x)||Ii(x))return m=m.get(_)||null,d(y,m,x,b,null);ua(y,x)}return null}function v(m,y,_,x){for(var b=null,j=null,S=y,k=y=0,E=null;S!==null&&k<_.length;k++){S.index>k?(E=S,S=null):E=S.sibling;var T=h(m,S,_[k],x);if(T===null){S===null&&(S=E);break}e&&S&&T.alternate===null&&t(m,S),y=o(T,y,k),j===null?b=T:j.sibling=T,j=T,S=E}if(k===_.length)return n(m,S),he&&or(m,k),b;if(S===null){for(;k<_.length;k++)S=f(m,_[k],x),S!==null&&(y=o(S,y,k),j===null?b=S:j.sibling=S,j=S);return he&&or(m,k),b}for(S=r(m,S);k<_.length;k++)E=g(S,m,k,_[k],x),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?k:E.key),y=o(E,y,k),j===null?b=E:j.sibling=E,j=E);return e&&S.forEach(function(N){return t(m,N)}),he&&or(m,k),b}function p(m,y,_,x){var b=Ii(_);if(typeof b!="function")throw Error(L(150));if(_=b.call(_),_==null)throw Error(L(151));for(var j=b=null,S=y,k=y=0,E=null,T=_.next();S!==null&&!T.done;k++,T=_.next()){S.index>k?(E=S,S=null):E=S.sibling;var N=h(m,S,T.value,x);if(N===null){S===null&&(S=E);break}e&&S&&N.alternate===null&&t(m,S),y=o(N,y,k),j===null?b=N:j.sibling=N,j=N,S=E}if(T.done)return n(m,S),he&&or(m,k),b;if(S===null){for(;!T.done;k++,T=_.next())T=f(m,T.value,x),T!==null&&(y=o(T,y,k),j===null?b=T:j.sibling=T,j=T);return he&&or(m,k),b}for(S=r(m,S);!T.done;k++,T=_.next())T=g(S,m,k,T.value,x),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),y=o(T,y,k),j===null?b=T:j.sibling=T,j=T);return e&&S.forEach(function(F){return t(m,F)}),he&&or(m,k),b}function w(m,y,_,x){if(typeof _=="object"&&_!==null&&_.type===$r&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Jo:e:{for(var b=_.key,j=y;j!==null;){if(j.key===b){if(b=_.type,b===$r){if(j.tag===7){n(m,j.sibling),y=i(j,_.props.children),y.return=m,m=y;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tn&&Av(b)===j.type){n(m,j.sibling),y=i(j,_.props),y.ref=Li(m,j,_),y.return=m,m=y;break e}n(m,j);break}else t(m,j);j=j.sibling}_.type===$r?(y=pr(_.props.children,m.mode,x,_.key),y.return=m,m=y):(x=Oa(_.type,_.key,_.props,null,m.mode,x),x.ref=Li(m,y,_),x.return=m,m=x)}return a(m);case Fr:e:{for(j=_.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(m,y.sibling),y=i(y,_.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Vl(_,m.mode,x),y.return=m,m=y}return a(m);case Tn:return j=_._init,w(m,y,j(_._payload),x)}if(Ui(_))return v(m,y,_,x);if(Ii(_))return p(m,y,_,x);ua(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,_),y.return=m,m=y):(n(m,y),y=Gl(_,m.mode,x),y.return=m,m=y),a(m)):n(m,y)}return w}var ci=fS(!0),hS=fS(!1),rs=Zn(null),is=null,Xr=null,zg=null;function qg(){zg=Xr=is=null}function Og(e){var t=rs.current;fe(rs),e._currentValue=t}function Mp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ri(e,t){is=e,zg=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(zg!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(is===null)throw Error(L(308));Xr=e,is.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var ur=null;function Dg(e){ur===null?ur=[e]:ur.push(e)}function pS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Dg(t)):(n.next=i.next,i.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Bg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pn(e,n)}return i=r.interleaved,i===null?(t.next=t,Dg(r)):(t.next=i.next,i.next=t),r.interleaved=t,pn(e,n)}function Na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kg(e,n)}}function Pv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function os(e,t,n,r){var i=e.updateQueue;Rn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,p=s;switch(h=t,g=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=ye({},f,h);break e;case 2:Rn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);_r|=a,e.lanes=a,e.memoizedState=f}}function Lv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var Oo={},Gt=Zn(Oo),wo=Zn(Oo),bo=Zn(Oo);function cr(e){if(e===Oo)throw Error(L(174));return e}function Fg(e,t){switch(ce(bo,t),ce(wo,e),ce(Gt,Oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dp(t,e)}fe(Gt),ce(Gt,t)}function di(){fe(Gt),fe(wo),fe(bo)}function mS(e){cr(bo.current);var t=cr(Gt.current),n=dp(t,e.type);t!==n&&(ce(wo,e),ce(Gt,n))}function $g(e){wo.current===e&&(fe(Gt),fe(wo))}var me=Zn(0);function as(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bl=[];function Ug(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var Aa=yn.ReactCurrentDispatcher,Fl=yn.ReactCurrentBatchConfig,xr=0,ve=null,Re=null,Me=null,ss=!1,oo=!1,So=0,gE=0;function De(){throw Error(L(321))}function Wg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Hg(e,t,n,r,i,o){if(xr=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Aa.current=e===null||e.memoizedState===null?xE:_E,e=n(r,i),oo){o=0;do{if(oo=!1,So=0,25<=o)throw Error(L(301));o+=1,Me=Re=null,t.updateQueue=null,Aa.current=wE,e=n(r,i)}while(oo)}if(Aa.current=ls,t=Re!==null&&Re.next!==null,xr=0,Me=Re=ve=null,ss=!1,t)throw Error(L(300));return e}function Gg(){var e=So!==0;return So=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ve.memoizedState=Me=e:Me=Me.next=e,Me}function wt(){if(Re===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Me===null?ve.memoizedState:Me.next;if(t!==null)Me=t,Re=e;else{if(e===null)throw Error(L(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Me===null?ve.memoizedState=Me=e:Me=Me.next=e}return Me}function Co(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=wt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Re,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((xr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ve.lanes|=d,_r|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,At(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ve.lanes|=o,_r|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ul(e){var t=wt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);At(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vS(){}function yS(e,t){var n=ve,r=wt(),i=t(),o=!At(r.memoizedState,i);if(o&&(r.memoizedState=i,Ze=!0),r=r.queue,Vg(wS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ko(9,_S.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(L(349));xr&30||xS(n,t,i)}return i}function xS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _S(e,t,n,r){t.value=n,t.getSnapshot=r,bS(t)&&SS(e)}function wS(e,t,n){return n(function(){bS(t)&&SS(e)})}function bS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function SS(e){var t=pn(e,1);t!==null&&Nt(t,e,1,-1)}function zv(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=yE.bind(null,ve,e),[t.memoizedState,e]}function ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CS(){return wt().memoizedState}function Pa(e,t,n,r){var i=$t();ve.flags|=e,i.memoizedState=ko(1|t,n,void 0,r===void 0?null:r)}function Ls(e,t,n,r){var i=wt();r=r===void 0?null:r;var o=void 0;if(Re!==null){var a=Re.memoizedState;if(o=a.destroy,r!==null&&Wg(r,a.deps)){i.memoizedState=ko(t,n,o,r);return}}ve.flags|=e,i.memoizedState=ko(1|t,n,o,r)}function qv(e,t){return Pa(8390656,8,e,t)}function Vg(e,t){return Ls(2048,8,e,t)}function kS(e,t){return Ls(4,2,e,t)}function jS(e,t){return Ls(4,4,e,t)}function ES(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TS(e,t,n){return n=n!=null?n.concat([e]):null,Ls(4,4,ES.bind(null,t,e),n)}function Yg(){}function RS(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function IS(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function MS(e,t,n){return xr&21?(At(n,t)||(n=zb(),ve.lanes|=n,_r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function mE(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Fl.transition;Fl.transition={};try{e(!1),t()}finally{le=n,Fl.transition=r}}function NS(){return wt().memoizedState}function vE(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AS(e))PS(t,n);else if(n=pS(e,t,n,r),n!==null){var i=Ve();Nt(n,e,r,i),LS(n,t,r)}}function yE(e,t,n){var r=Wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AS(e))PS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,At(s,a)){var l=t.interleaved;l===null?(i.next=i,Dg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=pS(e,t,i,r),n!==null&&(i=Ve(),Nt(n,e,r,i),LS(n,t,r))}}function AS(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function PS(e,t){oo=ss=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function LS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kg(e,n)}}var ls={readContext:_t,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},xE={readContext:_t,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:qv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pa(4194308,4,ES.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vE.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:zv,useDebugValue:Yg,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=zv(!1),t=e[0];return e=mE.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=$t();if(he){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ae===null)throw Error(L(349));xr&30||xS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qv(wS.bind(null,r,o,e),[e]),r.flags|=2048,ko(9,_S.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=$t(),t=Ae.identifierPrefix;if(he){var n=sn,r=an;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=So++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_E={readContext:_t,useCallback:RS,useContext:_t,useEffect:Vg,useImperativeHandle:TS,useInsertionEffect:kS,useLayoutEffect:jS,useMemo:IS,useReducer:$l,useRef:CS,useState:function(){return $l(Co)},useDebugValue:Yg,useDeferredValue:function(e){var t=wt();return MS(t,Re.memoizedState,e)},useTransition:function(){var e=$l(Co)[0],t=wt().memoizedState;return[e,t]},useMutableSource:vS,useSyncExternalStore:yS,useId:NS,unstable_isNewReconciler:!1},wE={readContext:_t,useCallback:RS,useContext:_t,useEffect:Vg,useImperativeHandle:TS,useInsertionEffect:kS,useLayoutEffect:jS,useMemo:IS,useReducer:Ul,useRef:CS,useState:function(){return Ul(Co)},useDebugValue:Yg,useDeferredValue:function(e){var t=wt();return Re===null?t.memoizedState=e:MS(t,Re.memoizedState,e)},useTransition:function(){var e=Ul(Co)[0],t=wt().memoizedState;return[e,t]},useMutableSource:vS,useSyncExternalStore:yS,useId:NS,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Np(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=Wn(e),o=dn(r,i);o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,i),t!==null&&(Nt(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=Wn(e),o=dn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,i),t!==null&&(Nt(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=Wn(e),i=dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=$n(e,i,r),t!==null&&(Nt(t,e,r,n),Na(t,e,r))}};function Ov(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!vo(n,r)||!vo(i,o):!0}function zS(e,t,n){var r=!1,i=Kn,o=t.contextType;return typeof o=="object"&&o!==null?o=_t(o):(i=nt(t)?vr:$e.current,r=t.contextTypes,o=(r=r!=null)?li(e,i):Kn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Dv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ap(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=_t(o):(o=nt(t)?vr:$e.current,i.context=li(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Np(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),os(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fi(e,t){try{var n="",r=t;do n+=Kk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bE=typeof WeakMap=="function"?WeakMap:Map;function qS(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cs||(cs=!0,Wp=r),Pp(e,t)},n}function OS(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Pp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pp(e,t),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Bv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=zE.bind(null,e,t,n),t.then(e,e))}function Fv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $v(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var SE=yn.ReactCurrentOwner,Ze=!1;function We(e,t,n,r){t.child=e===null?hS(t,null,n,r):ci(t,e.child,n,r)}function Uv(e,t,n,r,i){n=n.render;var o=t.ref;return ri(t,i),r=Hg(e,t,n,r,o,i),n=Gg(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(he&&n&&Ag(t),t.flags|=1,We(e,t,r,i),t.child)}function Wv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!nm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,DS(e,t,o,r,i)):(e=Oa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:vo,n(a,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=Hn(o,r),e.ref=t.ref,e.return=t,t.child=e}function DS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(vo(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,gn(e,t,i)}return Lp(e,t,n,r,i)}function BS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Jr,st),st|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Jr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ce(Jr,st),st|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ce(Jr,st),st|=r;return We(e,t,i,n),t.child}function FS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lp(e,t,n,r,i){var o=nt(n)?vr:$e.current;return o=li(t,o),ri(t,i),n=Hg(e,t,n,r,o,i),r=Gg(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(he&&r&&Ag(t),t.flags|=1,We(e,t,n,i),t.child)}function Hv(e,t,n,r,i){if(nt(n)){var o=!0;es(t)}else o=!1;if(ri(t,i),t.stateNode===null)La(e,t),zS(t,n,r),Ap(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=_t(c):(c=nt(n)?vr:$e.current,c=li(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Dv(t,a,r,c),Rn=!1;var h=t.memoizedState;a.state=h,os(t,r,a,i),l=t.memoizedState,s!==r||h!==l||tt.current||Rn?(typeof d=="function"&&(Np(t,n,d,r),l=t.memoizedState),(s=Rn||Ov(t,n,s,r,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,gS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:jt(t.type,s),a.props=c,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_t(l):(l=nt(n)?vr:$e.current,l=li(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Dv(t,a,r,l),Rn=!1,h=t.memoizedState,a.state=h,os(t,r,a,i);var v=t.memoizedState;s!==f||h!==v||tt.current||Rn?(typeof g=="function"&&(Np(t,n,g,r),v=t.memoizedState),(c=Rn||Ov(t,n,c,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return zp(e,t,n,r,o,i)}function zp(e,t,n,r,i,o){FS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Iv(t,n,!1),gn(e,t,o);r=t.stateNode,SE.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ci(t,e.child,null,o),t.child=ci(t,null,s,o)):We(e,t,s,o),t.memoizedState=r.state,i&&Iv(t,n,!0),t.child}function $S(e){var t=e.stateNode;t.pendingContext?Rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rv(e,t.context,!1),Fg(e,t.containerInfo)}function Gv(e,t,n,r,i){return ui(),Lg(i),t.flags|=256,We(e,t,n,r),t.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Op(e){return{baseLanes:e,cachePool:null,transitions:null}}function US(e,t,n){var r=t.pendingProps,i=me.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ce(me,i&1),e===null)return Ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ds(a,r,0,null),e=pr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Op(n),t.memoizedState=qp,e):Kg(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return CE(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Hn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Hn(s,o):(o=pr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Op(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=qp,r}return o=e.child,e=o.sibling,r=Hn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kg(e,t){return t=Ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ca(e,t,n,r){return r!==null&&Lg(r),ci(t,e.child,null,n),e=Kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CE(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Wl(Error(L(422))),ca(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ds({mode:"visible",children:r.children},i,0,null),o=pr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ci(t,e.child,null,a),t.child.memoizedState=Op(a),t.memoizedState=qp,o);if(!(t.mode&1))return ca(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(L(419)),r=Wl(o,r,void 0),ca(e,t,a,r)}if(s=(a&e.childLanes)!==0,Ze||s){if(r=Ae,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pn(e,i),Nt(r,e,i,-1))}return tm(),r=Wl(Error(L(421))),ca(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qE.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ut=Fn(i.nextSibling),ct=t,he=!0,Tt=null,e!==null&&(mt[vt++]=an,mt[vt++]=sn,mt[vt++]=yr,an=e.id,sn=e.overflow,yr=t),t=Kg(t,r.children),t.flags|=4096,t)}function Vv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mp(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function WS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(We(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vv(e,n,t);else if(e.tag===19)Vv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&as(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&as(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function La(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kE(e,t,n){switch(t.tag){case 3:$S(t),ui();break;case 5:mS(t);break;case 1:nt(t.type)&&es(t);break;case 4:Fg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ce(rs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?US(e,t,n):(ce(me,me.current&1),e=gn(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,BS(e,t,n)}return gn(e,t,n)}var HS,Dp,GS,VS;HS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dp=function(){};GS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cr(Gt.current);var o=null;switch(n){case"input":i=sp(e,i),r=sp(e,r),o=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),o=[];break;case"textarea":i=cp(e,i),r=cp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ja)}fp(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};VS=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jE(e,t,n){var r=t.pendingProps;switch(Pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return nt(t.type)&&Za(),Be(t),null;case 3:return r=t.stateNode,di(),fe(tt),fe($e),Ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(la(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Vp(Tt),Tt=null))),Dp(e,t),Be(t),null;case 5:$g(t);var i=cr(bo.current);if(n=t.type,e!==null&&t.stateNode!=null)GS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return Be(t),null}if(e=cr(Gt.current),la(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ut]=t,r[_o]=o,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Hi.length;i++)de(Hi[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":nv(r,o),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},de("invalid",r);break;case"textarea":iv(r,o),de("invalid",r)}fp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&sa(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&sa(r.textContent,s,e),i=["children",""+s]):uo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&de("scroll",r)}switch(n){case"input":Zo(r),rv(r,o,!0);break;case"textarea":Zo(r),ov(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ja)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ut]=t,e[_o]=r,HS(e,t,!1,!1),t.stateNode=e;e:{switch(a=hp(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hi.length;i++)de(Hi[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":nv(e,r),i=sp(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":iv(e,r),i=cp(e,r),de("invalid",e);break;default:i=r}fp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Cb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&co(e,l):typeof l=="number"&&co(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&de("scroll",e):l!=null&&xg(e,o,l,a))}switch(n){case"input":Zo(e),rv(e,r,!1);break;case"textarea":Zo(e),ov(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ja)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)VS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=cr(bo.current),cr(Gt.current),la(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ut]=t,(o=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:sa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=t,t.stateNode=r}return Be(t),null;case 13:if(fe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ut!==null&&t.mode&1&&!(t.flags&128))dS(),ui(),t.flags|=98560,o=!1;else if(o=la(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Ut]=t}else ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else Tt!==null&&(Vp(Tt),Tt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Ie===0&&(Ie=3):tm())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return di(),Dp(e,t),e===null&&yo(t.stateNode.containerInfo),Be(t),null;case 10:return Og(t.type._context),Be(t),null;case 17:return nt(t.type)&&Za(),Be(t),null;case 19:if(fe(me),o=t.memoizedState,o===null)return Be(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)zi(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=as(e),a!==null){for(t.flags|=128,zi(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&_e()>hi&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=as(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!he)return Be(t),null}else 2*_e()-o.renderingStartTime>hi&&n!==1073741824&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return em(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function EE(e,t){switch(Pg(t),t.tag){case 1:return nt(t.type)&&Za(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return di(),fe(tt),fe($e),Ug(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $g(t),null;case 13:if(fe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(me),null;case 4:return di(),null;case 10:return Og(t.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var da=!1,Fe=!1,TE=typeof WeakSet=="function"?WeakSet:Set,$=null;function Qr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Bp(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Yv=!1;function RE(e,t){if(Sp=Ka,e=Jb(),Ng(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=a),h===o&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cp={focusedElem:e,selectionRange:n},Ka=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,w=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:jt(t.type,p),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){xe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Yv,Yv=!1,v}function ao(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bp(t,n,o)}i=i.next}while(i!==r)}}function qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YS(e){var t=e.alternate;t!==null&&(e.alternate=null,YS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[_o],delete t[Ep],delete t[dE],delete t[fE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KS(e){return e.tag===5||e.tag===3||e.tag===4}function Kv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $p(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ja));else if(r!==4&&(e=e.child,e!==null))for($p(e,t,n),e=e.sibling;e!==null;)$p(e,t,n),e=e.sibling}function Up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Up(e,t,n),e=e.sibling;e!==null;)Up(e,t,n),e=e.sibling}var ze=null,Et=!1;function kn(e,t,n){for(n=n.child;n!==null;)XS(e,t,n),n=n.sibling}function XS(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Rs,n)}catch{}switch(n.tag){case 5:Fe||Qr(n,t);case 6:var r=ze,i=Et;ze=null,kn(e,t,n),ze=r,Et=i,ze!==null&&(Et?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Et?(e=ze,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),go(e)):Ol(ze,n.stateNode));break;case 4:r=ze,i=Et,ze=n.stateNode.containerInfo,Et=!0,kn(e,t,n),ze=r,Et=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Bp(n,t,a),i=i.next}while(i!==r)}kn(e,t,n);break;case 1:if(!Fe&&(Qr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xe(n,t,s)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,kn(e,t,n),Fe=r):kn(e,t,n);break;default:kn(e,t,n)}}function Xv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TE),t.forEach(function(r){var i=OE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:ze=s.stateNode,Et=!1;break e;case 3:ze=s.stateNode.containerInfo,Et=!0;break e;case 4:ze=s.stateNode.containerInfo,Et=!0;break e}s=s.return}if(ze===null)throw Error(L(160));XS(o,a,i),ze=null,Et=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QS(t,e),t=t.sibling}function QS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),Ot(e),r&4){try{ao(3,e,e.return),qs(3,e)}catch(p){xe(e,e.return,p)}try{ao(5,e,e.return)}catch(p){xe(e,e.return,p)}}break;case 1:kt(t,e),Ot(e),r&512&&n!==null&&Qr(n,n.return);break;case 5:if(kt(t,e),Ot(e),r&512&&n!==null&&Qr(n,n.return),e.flags&32){var i=e.stateNode;try{co(i,"")}catch(p){xe(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&xb(i,o),hp(s,a);var c=hp(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Cb(i,f):d==="dangerouslySetInnerHTML"?bb(i,f):d==="children"?co(i,f):xg(i,d,f,c)}switch(s){case"input":lp(i,o);break;case"textarea":_b(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Zr(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Zr(i,!!o.multiple,o.defaultValue,!0):Zr(i,!!o.multiple,o.multiple?[]:"",!1))}i[_o]=o}catch(p){xe(e,e.return,p)}}break;case 6:if(kt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(p){xe(e,e.return,p)}}break;case 3:if(kt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(p){xe(e,e.return,p)}break;case 4:kt(t,e),Ot(e);break;case 13:kt(t,e),Ot(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Jg=_e())),r&4&&Xv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(c=Fe)||d,kt(t,e),Fe=c):kt(t,e),Ot(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,g=h.child,h.tag){case 0:case 11:case 14:case 15:ao(4,h,h.return);break;case 1:Qr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){xe(r,n,p)}}break;case 5:Qr(h,h.return);break;case 22:if(h.memoizedState!==null){Jv(f);continue}}g!==null?(g.return=h,$=g):Jv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Sb("display",a))}catch(p){xe(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){xe(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kt(t,e),Ot(e),r&4&&Xv(e);break;case 21:break;default:kt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(KS(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(co(i,""),r.flags&=-33);var o=Kv(e);Up(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Kv(e);$p(e,s,a);break;default:throw Error(L(161))}}catch(l){xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IE(e,t,n){$=e,JS(e)}function JS(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||da;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Fe;s=da;var c=Fe;if(da=a,(Fe=l)&&!c)for($=i;$!==null;)a=$,l=a.child,a.tag===22&&a.memoizedState!==null?Zv(i):l!==null?(l.return=a,$=l):Zv(i);for(;o!==null;)$=o,JS(o),o=o.sibling;$=i,da=s,Fe=c}Qv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):Qv(e)}}function Qv(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||qs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Lv(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lv(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&go(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Fe||t.flags&512&&Fp(t)}catch(h){xe(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Jv(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Zv(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qs(4,t)}catch(l){xe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){xe(t,i,l)}}var o=t.return;try{Fp(t)}catch(l){xe(t,o,l)}break;case 5:var a=t.return;try{Fp(t)}catch(l){xe(t,a,l)}}}catch(l){xe(t,t.return,l)}if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}var ME=Math.ceil,us=yn.ReactCurrentDispatcher,Xg=yn.ReactCurrentOwner,xt=yn.ReactCurrentBatchConfig,ne=0,Ae=null,je=null,qe=0,st=0,Jr=Zn(0),Ie=0,jo=null,_r=0,Os=0,Qg=0,so=null,Je=null,Jg=0,hi=1/0,tn=null,cs=!1,Wp=null,Un=null,fa=!1,Ln=null,ds=0,lo=0,Hp=null,za=-1,qa=0;function Ve(){return ne&6?_e():za!==-1?za:za=_e()}function Wn(e){return e.mode&1?ne&2&&qe!==0?qe&-qe:pE.transition!==null?(qa===0&&(qa=zb()),qa):(e=le,e!==0||(e=window.event,e=e===void 0?16:Ub(e.type)),e):1}function Nt(e,t,n,r){if(50<lo)throw lo=0,Hp=null,Error(L(185));Lo(e,n,r),(!(ne&2)||e!==Ae)&&(e===Ae&&(!(ne&2)&&(Os|=n),Ie===4&&Nn(e,qe)),rt(e,r),n===1&&ne===0&&!(t.mode&1)&&(hi=_e()+500,Ps&&er()))}function rt(e,t){var n=e.callbackNode;pj(e,t);var r=Ya(e,e===Ae?qe:0);if(r===0)n!==null&&lv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lv(n),t===1)e.tag===0?hE(ey.bind(null,e)):lS(ey.bind(null,e)),uE(function(){!(ne&6)&&er()}),n=null;else{switch(qb(r)){case 1:n=Cg;break;case 4:n=Pb;break;case 16:n=Va;break;case 536870912:n=Lb;break;default:n=Va}n=a2(n,ZS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ZS(e,t){if(za=-1,qa=0,ne&6)throw Error(L(327));var n=e.callbackNode;if(ii()&&e.callbackNode!==n)return null;var r=Ya(e,e===Ae?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fs(e,r);else{t=r;var i=ne;ne|=2;var o=t2();(Ae!==e||qe!==t)&&(tn=null,hi=_e()+500,hr(e,t));do try{PE();break}catch(s){e2(e,s)}while(!0);qg(),us.current=o,ne=i,je!==null?t=0:(Ae=null,qe=0,t=Ie)}if(t!==0){if(t===2&&(i=yp(e),i!==0&&(r=i,t=Gp(e,i))),t===1)throw n=jo,hr(e,0),Nn(e,r),rt(e,_e()),n;if(t===6)Nn(e,r);else{if(i=e.current.alternate,!(r&30)&&!NE(i)&&(t=fs(e,r),t===2&&(o=yp(e),o!==0&&(r=o,t=Gp(e,o))),t===1))throw n=jo,hr(e,0),Nn(e,r),rt(e,_e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:ar(e,Je,tn);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=Jg+500-_e(),10<t)){if(Ya(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jp(ar.bind(null,e,Je,tn),t);break}ar(e,Je,tn);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Mt(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ME(r/1960))-r,10<r){e.timeoutHandle=jp(ar.bind(null,e,Je,tn),r);break}ar(e,Je,tn);break;case 5:ar(e,Je,tn);break;default:throw Error(L(329))}}}return rt(e,_e()),e.callbackNode===n?ZS.bind(null,e):null}function Gp(e,t){var n=so;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=fs(e,t),e!==2&&(t=Je,Je=n,t!==null&&Vp(t)),e}function Vp(e){Je===null?Je=e:Je.push.apply(Je,e)}function NE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!At(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~Qg,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function ey(e){if(ne&6)throw Error(L(327));ii();var t=Ya(e,0);if(!(t&1))return rt(e,_e()),null;var n=fs(e,t);if(e.tag!==0&&n===2){var r=yp(e);r!==0&&(t=r,n=Gp(e,r))}if(n===1)throw n=jo,hr(e,0),Nn(e,t),rt(e,_e()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,Je,tn),rt(e,_e()),null}function Zg(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(hi=_e()+500,Ps&&er())}}function wr(e){Ln!==null&&Ln.tag===0&&!(ne&6)&&ii();var t=ne;ne|=1;var n=xt.transition,r=le;try{if(xt.transition=null,le=1,e)return e()}finally{le=r,xt.transition=n,ne=t,!(ne&6)&&er()}}function em(){st=Jr.current,fe(Jr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lE(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Za();break;case 3:di(),fe(tt),fe($e),Ug();break;case 5:$g(r);break;case 4:di();break;case 13:fe(me);break;case 19:fe(me);break;case 10:Og(r.type._context);break;case 22:case 23:em()}n=n.return}if(Ae=e,je=e=Hn(e.current,null),qe=st=t,Ie=0,jo=null,Qg=Os=_r=0,Je=so=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ur=null}return e}function e2(e,t){do{var n=je;try{if(qg(),Aa.current=ls,ss){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ss=!1}if(xr=0,Me=Re=ve=null,oo=!1,So=0,Xg.current=null,n===null||n.return===null){Ie=1,jo=t,je=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=qe,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Fv(a);if(g!==null){g.flags&=-257,$v(g,a,s,o,t),g.mode&1&&Bv(o,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){Bv(o,c,t),tm();break e}l=Error(L(426))}}else if(he&&s.mode&1){var w=Fv(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),$v(w,a,s,o,t),Lg(fi(l,s));break e}}o=l=fi(l,s),Ie!==4&&(Ie=2),so===null?so=[o]:so.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=qS(o,l,t);Pv(o,m);break e;case 1:s=l;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Un===null||!Un.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=OS(o,s,t);Pv(o,x);break e}}o=o.return}while(o!==null)}r2(n)}catch(b){t=b,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function t2(){var e=us.current;return us.current=ls,e===null?ls:e}function tm(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ae===null||!(_r&268435455)&&!(Os&268435455)||Nn(Ae,qe)}function fs(e,t){var n=ne;ne|=2;var r=t2();(Ae!==e||qe!==t)&&(tn=null,hr(e,t));do try{AE();break}catch(i){e2(e,i)}while(!0);if(qg(),ne=n,us.current=r,je!==null)throw Error(L(261));return Ae=null,qe=0,Ie}function AE(){for(;je!==null;)n2(je)}function PE(){for(;je!==null&&!oj();)n2(je)}function n2(e){var t=o2(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?r2(e):je=t,Xg.current=null}function r2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EE(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,je=null;return}}else if(n=jE(n,t,st),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ie===0&&(Ie=5)}function ar(e,t,n){var r=le,i=xt.transition;try{xt.transition=null,le=1,LE(e,t,n,r)}finally{xt.transition=i,le=r}return null}function LE(e,t,n,r){do ii();while(Ln!==null);if(ne&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(gj(e,o),e===Ae&&(je=Ae=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fa||(fa=!0,a2(Va,function(){return ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xt.transition,xt.transition=null;var a=le;le=1;var s=ne;ne|=4,Xg.current=null,RE(e,n),QS(n,e),tE(Cp),Ka=!!Sp,Cp=Sp=null,e.current=n,IE(n),aj(),ne=s,le=a,xt.transition=o}else e.current=n;if(fa&&(fa=!1,Ln=e,ds=i),o=e.pendingLanes,o===0&&(Un=null),uj(n.stateNode),rt(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cs)throw cs=!1,e=Wp,Wp=null,e;return ds&1&&e.tag!==0&&ii(),o=e.pendingLanes,o&1?e===Hp?lo++:(lo=0,Hp=e):lo=0,er(),null}function ii(){if(Ln!==null){var e=qb(ds),t=xt.transition,n=le;try{if(xt.transition=null,le=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,ds=0,ne&6)throw Error(L(331));var i=ne;for(ne|=4,$=e.current;$!==null;){var o=$,a=o.child;if($.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ao(8,d,o)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,g=d.return;if(YS(d),d===c){$=null;break}if(h!==null){h.return=g,$=h;break}$=g}}}var v=o.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}$=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,$=a;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ao(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,$=m;break e}$=o.return}}var y=e.current;for($=y;$!==null;){a=$;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,$=_;else e:for(a=y;$!==null;){if(s=$,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:qs(9,s)}}catch(b){xe(s,s.return,b)}if(s===a){$=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,$=x;break e}$=s.return}}if(ne=i,er(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Rs,e)}catch{}r=!0}return r}finally{le=n,xt.transition=t}}return!1}function ty(e,t,n){t=fi(n,t),t=qS(e,t,1),e=$n(e,t,1),t=Ve(),e!==null&&(Lo(e,1,t),rt(e,t))}function xe(e,t,n){if(e.tag===3)ty(e,e,n);else for(;t!==null;){if(t.tag===3){ty(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=fi(n,e),e=OS(t,e,1),t=$n(t,e,1),e=Ve(),t!==null&&(Lo(t,1,e),rt(t,e));break}}t=t.return}}function zE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(qe&n)===n&&(Ie===4||Ie===3&&(qe&130023424)===qe&&500>_e()-Jg?hr(e,0):Qg|=n),rt(e,t)}function i2(e,t){t===0&&(e.mode&1?(t=na,na<<=1,!(na&130023424)&&(na=4194304)):t=1);var n=Ve();e=pn(e,t),e!==null&&(Lo(e,t,n),rt(e,n))}function qE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),i2(e,n)}function OE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),i2(e,n)}var o2;o2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,kE(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,he&&t.flags&1048576&&uS(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;La(e,t),e=t.pendingProps;var i=li(t,$e.current);ri(t,n),i=Hg(null,t,r,e,i,n);var o=Gg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(o=!0,es(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bg(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ap(t,r,e,n),t=zp(null,t,r,!0,o,n)):(t.tag=0,he&&o&&Ag(t),We(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(La(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=BE(r),e=jt(r,e),i){case 0:t=Lp(null,t,r,e,n);break e;case 1:t=Hv(null,t,r,e,n);break e;case 11:t=Uv(null,t,r,e,n);break e;case 14:t=Wv(null,t,r,jt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Lp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Hv(e,t,r,i,n);case 3:e:{if($S(t),e===null)throw Error(L(387));r=t.pendingProps,o=t.memoizedState,i=o.element,gS(e,t),os(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=fi(Error(L(423)),t),t=Gv(e,t,r,n,i);break e}else if(r!==i){i=fi(Error(L(424)),t),t=Gv(e,t,r,n,i);break e}else for(ut=Fn(t.stateNode.containerInfo.firstChild),ct=t,he=!0,Tt=null,n=hS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===i){t=gn(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return mS(t),e===null&&Ip(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,kp(r,i)?a=null:o!==null&&kp(r,o)&&(t.flags|=32),FS(e,t),We(e,t,a,n),t.child;case 6:return e===null&&Ip(t),null;case 13:return US(e,t,n);case 4:return Fg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ci(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Uv(e,t,r,i,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ce(rs,r._currentValue),r._currentValue=a,o!==null)if(At(o.value,a)){if(o.children===i.children&&!tt.current){t=gn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=dn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mp(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Mp(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}We(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ri(t,n),i=_t(i),r=r(i),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,i=jt(r,t.pendingProps),i=jt(r.type,i),Wv(e,t,r,i,n);case 15:return DS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),La(e,t),t.tag=1,nt(r)?(e=!0,es(t)):e=!1,ri(t,n),zS(t,r,i),Ap(t,r,i,n),zp(null,t,r,!0,e,n);case 19:return WS(e,t,n);case 22:return BS(e,t,n)}throw Error(L(156,t.tag))};function a2(e,t){return Ab(e,t)}function DE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new DE(e,t,n,r)}function nm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BE(e){if(typeof e=="function")return nm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wg)return 11;if(e===bg)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oa(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")nm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $r:return pr(n.children,i,o,t);case _g:a=8,i|=8;break;case rp:return e=yt(12,n,t,i|2),e.elementType=rp,e.lanes=o,e;case ip:return e=yt(13,n,t,i),e.elementType=ip,e.lanes=o,e;case op:return e=yt(19,n,t,i),e.elementType=op,e.lanes=o,e;case mb:return Ds(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pb:a=10;break e;case gb:a=9;break e;case wg:a=11;break e;case bg:a=14;break e;case Tn:a=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=yt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function pr(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function Ds(e,t,n,r){return e=yt(22,e,r,t),e.elementType=mb,e.lanes=n,e.stateNode={isHidden:!1},e}function Gl(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function Vl(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rm(e,t,n,r,i,o,a,s,l){return e=new FE(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bg(o),e}function $E(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s2(e){if(!e)return Kn;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(nt(n))return sS(e,n,t)}return t}function l2(e,t,n,r,i,o,a,s,l){return e=rm(n,r,!0,e,i,o,a,s,l),e.context=s2(null),n=e.current,r=Ve(),i=Wn(n),o=dn(r,i),o.callback=t??null,$n(n,o,i),e.current.lanes=i,Lo(e,i,r),rt(e,r),e}function Bs(e,t,n,r){var i=t.current,o=Ve(),a=Wn(i);return n=s2(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(i,t,a),e!==null&&(Nt(e,i,a,o),Na(e,i,a)),a}function hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ny(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function im(e,t){ny(e,t),(e=e.alternate)&&ny(e,t)}function UE(){return null}var u2=typeof reportError=="function"?reportError:function(e){console.error(e)};function om(e){this._internalRoot=e}Fs.prototype.render=om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Bs(e,t,null,null)};Fs.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){Bs(null,e,null,null)}),t[hn]=null}};function Fs(e){this._internalRoot=e}Fs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&$b(e)}};function am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ry(){}function WE(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=hs(a);o.call(c)}}var a=l2(t,r,e,0,null,!1,!1,"",ry);return e._reactRootContainer=a,e[hn]=a.current,yo(e.nodeType===8?e.parentNode:e),wr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=hs(l);s.call(c)}}var l=rm(e,0,!1,null,null,!1,!1,"",ry);return e._reactRootContainer=l,e[hn]=l.current,yo(e.nodeType===8?e.parentNode:e),wr(function(){Bs(t,l,n,r)}),l}function Us(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=hs(a);s.call(l)}}Bs(t,a,e,i)}else a=WE(n,t,e,i,r);return hs(a)}Ob=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(kg(t,n|1),rt(t,_e()),!(ne&6)&&(hi=_e()+500,er()))}break;case 13:wr(function(){var r=pn(e,1);if(r!==null){var i=Ve();Nt(r,e,1,i)}}),im(e,1)}};jg=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=Ve();Nt(t,e,134217728,n)}im(e,134217728)}};Db=function(e){if(e.tag===13){var t=Wn(e),n=pn(e,t);if(n!==null){var r=Ve();Nt(n,e,t,r)}im(e,t)}};Bb=function(){return le};Fb=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};gp=function(e,t,n){switch(t){case"input":if(lp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=As(r);if(!i)throw Error(L(90));yb(r),lp(r,i)}}}break;case"textarea":_b(e,n);break;case"select":t=n.value,t!=null&&Zr(e,!!n.multiple,t,!1)}};Eb=Zg;Tb=wr;var HE={usingClientEntryPoint:!1,Events:[qo,Gr,As,kb,jb,Zg]},qi={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GE={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mb(e),e===null?null:e.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||UE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{Rs=ha.inject(GE),Ht=ha}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HE;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(t))throw Error(L(200));return $E(e,t,null,n)};ht.createRoot=function(e,t){if(!am(e))throw Error(L(299));var n=!1,r="",i=u2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rm(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,yo(e.nodeType===8?e.parentNode:e),new om(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Mb(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return wr(e)};ht.hydrate=function(e,t,n){if(!$s(t))throw Error(L(200));return Us(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!am(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=u2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=l2(t,null,e,1,n??null,i,!1,o,a),e[hn]=t.current,yo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fs(t)};ht.render=function(e,t,n){if(!$s(t))throw Error(L(200));return Us(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!$s(e))throw Error(L(40));return e._reactRootContainer?(wr(function(){Us(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};ht.unstable_batchedUpdates=Zg;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$s(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Us(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function c2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c2)}catch(e){console.error(e)}}c2(),cb.exports=ht;var VE=cb.exports,iy=VE;tp.createRoot=iy.createRoot,tp.hydrateRoot=iy.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(this,arguments)}var zn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zn||(zn={}));const oy="popstate";function YE(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=Er(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Yp("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:ps(o))}function r(i,o){Ws(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return XE(t,n,r,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ws(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KE(){return Math.random().toString(36).substr(2,8)}function ay(e,t){return{usr:e.state,key:e.key,idx:t}}function Yp(e,t,n,r){return n===void 0&&(n=null),Eo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||KE()})}function ps(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function XE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=zn.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Eo({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=zn.Pop;let w=d(),m=w==null?null:w-c;c=w,l&&l({action:s,location:p.location,delta:m})}function h(w,m){s=zn.Push;let y=Yp(p.location,w,m);n&&n(y,w),c=d()+1;let _=ay(y,c),x=p.createHref(y);try{a.pushState(_,"",x)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(x)}o&&l&&l({action:s,location:p.location,delta:1})}function g(w,m){s=zn.Replace;let y=Yp(p.location,w,m);n&&n(y,w),c=d();let _=ay(y,c),x=p.createHref(y);a.replaceState(_,"",x),o&&l&&l({action:s,location:p.location,delta:0})}function v(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:ps(w);return y=y.replace(/ $/,"%20"),we(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let p={get action(){return s},get location(){return e(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oy,f),l=w,()=>{i.removeEventListener(oy,f),l=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let m=v(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:g,go(w){return a.go(w)}};return p}var sy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sy||(sy={}));function QE(e,t,n){return n===void 0&&(n="/"),JE(e,t,n)}function JE(e,t,n,r){let i=typeof t=="string"?Er(t):t,o=sm(i.pathname||"/",n);if(o==null)return null;let a=d2(e);ZE(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=dT(o);s=lT(a[l],c)}return s}function d2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Gn([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),d2(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:aT(c,o.index),routesMeta:d})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of f2(o.path))i(o,a,l)}),t}function f2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=f2(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function ZE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eT=/^:[\w-]+$/,tT=3,nT=2,rT=1,iT=10,oT=-2,ly=e=>e==="*";function aT(e,t){let n=e.split("/"),r=n.length;return n.some(ly)&&(r+=oT),t&&(r+=nT),n.filter(i=>!ly(i)).reduce((i,o)=>i+(eT.test(o)?tT:o===""?rT:iT),r)}function sT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lT(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=uT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Gn([o,f.pathname]),pathnameBase:mT(Gn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Gn([o,f.pathnameBase]))}return a}function uT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let p=s[f]||"";a=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const v=s[f];return g&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function cT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ws(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ws(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hT=e=>fT.test(e);function pT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Er(e):e,o;if(n)if(hT(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Ws(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=uy(n.substring(1),"/"):o=uy(n,t)}else o=t;return{pathname:o,search:vT(r),hash:yT(i)}}function uy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lm(e,t){let n=gT(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function um(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Er(e):(i=Eo({},e),we(!i.pathname||!i.pathname.includes("?"),Yl("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),Yl("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),Yl("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=pT(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Gn=e=>e.join("/").replace(/\/\/+/g,"/"),mT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h2=["post","put","patch","delete"];new Set(h2);const _T=["get",...h2];new Set(_T);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}const cm=C.createContext(null),wT=C.createContext(null),tr=C.createContext(null),Hs=C.createContext(null),nr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),p2=C.createContext(null);function bT(e,t){let{relative:n}=t===void 0?{}:t;xi()||we(!1);let{basename:r,navigator:i}=C.useContext(tr),{hash:o,pathname:a,search:s}=v2(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Gn([r,a])),i.createHref({pathname:l,search:s,hash:o})}function xi(){return C.useContext(Hs)!=null}function _i(){return xi()||we(!1),C.useContext(Hs).location}function g2(e){C.useContext(tr).static||C.useLayoutEffect(e)}function m2(){let{isDataRoute:e}=C.useContext(nr);return e?LT():ST()}function ST(){xi()||we(!1);let e=C.useContext(cm),{basename:t,future:n,navigator:r}=C.useContext(tr),{matches:i}=C.useContext(nr),{pathname:o}=_i(),a=JSON.stringify(lm(i,n.v7_relativeSplatPath)),s=C.useRef(!1);return g2(()=>{s.current=!0}),C.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=um(c,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}function v2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(tr),{matches:i}=C.useContext(nr),{pathname:o}=_i(),a=JSON.stringify(lm(i,r.v7_relativeSplatPath));return C.useMemo(()=>um(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function CT(e,t){return kT(e,t)}function kT(e,t,n,r){xi()||we(!1);let{navigator:i}=C.useContext(tr),{matches:o}=C.useContext(nr),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=_i(),d;if(t){var f;let w=typeof t=="string"?Er(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||we(!1),d=w}else d=c;let h=d.pathname||"/",g=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=QE(e,{pathname:g}),p=IT(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Gn([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Gn([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&p?C.createElement(Hs.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zn.Pop}},p):p}function jT(){let e=PT(),t=xT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const ET=C.createElement(jT,null);class TT extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(nr.Provider,{value:this.props.routeContext},C.createElement(p2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RT(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(cm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(nr.Provider,{value:t},r)}function IT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||we(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,v=!1,p=null,w=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,p=f.route.errorElement||ET,l&&(c<0&&h===0?(zT("route-fallback"),v=!0,w=null):c===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,h+1)),y=()=>{let _;return g?_=p:v?_=w:f.route.Component?_=C.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,C.createElement(RT,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(TT,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var y2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y2||{}),x2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x2||{});function MT(e){let t=C.useContext(cm);return t||we(!1),t}function NT(e){let t=C.useContext(wT);return t||we(!1),t}function AT(e){let t=C.useContext(nr);return t||we(!1),t}function _2(e){let t=AT(),n=t.matches[t.matches.length-1];return n.route.id||we(!1),n.route.id}function PT(){var e;let t=C.useContext(p2),n=NT(),r=_2();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function LT(){let{router:e}=MT(y2.UseNavigateStable),t=_2(x2.UseNavigateStable),n=C.useRef(!1);return g2(()=>{n.current=!0}),C.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,To({fromRouteId:t},o)))},[e,t])}const cy={};function zT(e,t,n){cy[e]||(cy[e]=!0)}function qT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function OT(e){let{to:t,replace:n,state:r,relative:i}=e;xi()||we(!1);let{future:o,static:a}=C.useContext(tr),{matches:s}=C.useContext(nr),{pathname:l}=_i(),c=m2(),d=um(t,lm(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function en(e){we(!1)}function DT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=zn.Pop,navigator:o,static:a=!1,future:s}=e;xi()&&we(!1);let l=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:o,static:a,future:To({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Er(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,p=C.useMemo(()=>{let w=sm(d,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:v},navigationType:i}},[l,d,f,h,g,v,i]);return p==null?null:C.createElement(tr.Provider,{value:c},C.createElement(Hs.Provider,{children:n,value:p}))}function BT(e){let{children:t,location:n}=e;return CT(Kp(t),n)}new Promise(()=>{});function Kp(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let o=[...t,i];if(r.type===C.Fragment){n.push.apply(n,Kp(r.props.children,o));return}r.type!==en&&we(!1),!r.props.index||!r.props.children||we(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Kp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xp.apply(this,arguments)}function FT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $T(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UT(e,t){return e.button===0&&(!t||t==="_self")&&!$T(e)}const WT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HT="6";try{window.__reactRouterVersion=HT}catch{}const GT="startTransition",dy=zk[GT];function VT(e){let{basename:t,children:n,future:r,window:i}=e,o=C.useRef();o.current==null&&(o.current=YE({window:i,v5Compat:!0}));let a=o.current,[s,l]=C.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=C.useCallback(f=>{c&&dy?dy(()=>l(f)):l(f)},[l,c]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.useEffect(()=>qT(r),[r]),C.createElement(DT,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XT=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=FT(t,WT),{basename:g}=C.useContext(tr),v,p=!1;if(typeof c=="string"&&KT.test(c)&&(v=c,YT))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),b=sm(x.pathname,g);x.origin===_.origin&&b!=null?c=b+x.search+x.hash:p=!0}catch{}let w=bT(c,{relative:i}),m=QT(c,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(_){r&&r(_),_.defaultPrevented||m(_)}return C.createElement("a",Xp({},h,{href:v||w,onClick:p||o?r:y,ref:n,target:l}))});var fy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fy||(fy={}));var hy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hy||(hy={}));function QT(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,l=m2(),c=_i(),d=v2(e,{relative:a});return C.useCallback(f=>{if(UT(f,n)){f.preventDefault();let h=r!==void 0?r:ps(c)===ps(d);l(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,d,r,i,n,e,o,a,s])}function JT(e={}){const{graphUrl:t=ZT(),gitHistoryUrl:n,roadmapUrl:r,enableSSE:i=!1,sseUrl:o="/api/events",pollInterval:a=0}=e,[s,l]=C.useState(null),[c,d]=C.useState([]),[f,h]=C.useState([]),[g,v]=C.useState(!0),[p,w]=C.useState(null),[m,y]=C.useState(null),_=C.useCallback(async()=>{try{const S=await fetch(t);if(!S.ok)throw new Error(`Failed to fetch graph: ${S.status} ${S.statusText}`);const k=await S.json(),E=k.data??k;if(k.ok===!1&&k.error)throw new Error(k.error);l(E),y(new Date),w(null)}catch(S){const k=S instanceof Error?S.message:"Failed to load graph data";w(k),console.error("Graph fetch error:",S)}},[t]),x=C.useCallback(async()=>{if(n)try{const S=await fetch(n);if(S.ok){const k=await S.json();d(k)}}catch(S){console.warn("Could not load git history:",S)}},[n]),b=C.useCallback(async()=>{if(r)try{const S=await fetch(r);if(S.ok){const k=await S.json(),E=k.data??k;h(E)}}catch(S){console.warn("Could not load roadmap items:",S)}},[r]),j=C.useCallback(async()=>{v(!0),await Promise.all([_(),x(),b()]),v(!1)},[_,x,b]);return C.useEffect(()=>{let S=!0;return(async()=>{v(!0),await Promise.all([_(),x(),b()]),S&&v(!1)})(),()=>{S=!1}},[_,x,b]),C.useEffect(()=>{if(!i)return;let S=null,k=null;const E=()=>{try{S=new EventSource(o),S.onmessage=T=>{(T.data==="refresh"||T.data==="update")&&_()},S.onerror=()=>{S==null||S.close(),k=setTimeout(E,5e3)},S.onopen=()=>{console.log("SSE connected for live updates")}}catch(T){console.warn("SSE not available:",T)}};return E(),()=>{S==null||S.close(),k&&clearTimeout(k)}},[i,o,_]),C.useEffect(()=>{if(a<=0)return;const S=setInterval(()=>{_()},a);return()=>clearInterval(S)},[a,_]),{graphData:s,gitHistory:c,roadmapItems:f,loading:g,error:p,lastUpdated:m,refresh:j}}function ZT(){return"./graph-data.json"}const py=["goal","decision","option","action","outcome","observation"];function Xn(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Gs(e){const t=Xn(e.metadata_json);return(t==null?void 0:t.confidence)??null}function br(e){const t=Xn(e.metadata_json);return(t==null?void 0:t.commit)??null}function dm(e){const t=Xn(e.metadata_json);return(t==null?void 0:t.branch)??null}function eR(e){const t=Xn(e.metadata_json);return(t==null?void 0:t.prompt)??null}function tR(e){const t=Xn(e.metadata_json);return(t==null?void 0:t.files)??null}function nR(e){const t=new Set;for(const n of e){const r=dm(n);r&&t.add(r)}return Array.from(t).sort()}function fm(e){return e?e.slice(0,7):null}function rR(e){return e===null?null:e>=70?"high":e>=40?"med":"low"}const hm="notactuallytreyanastasio/deciduous";function w2(e){var t,n;return((n=(t=e==null?void 0:e.config)==null?void 0:t.github)==null?void 0:n.commit_repo)??hm}function b2(e,t=hm){return`https://github.com/${t}/commit/${e}`}function It(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}function iR(e,t){const n=new Date(t).getTime()-new Date(e).getTime(),r=Math.floor(n/6e4);if(r<60)return`${r}m`;const i=Math.floor(r/60);return i<24?`${i}h ${r%60}m`:`${Math.floor(i/24)}d ${i%24}h`}const gy=4*60*60*1e3;function oR(e,t){const n=new Map,r=new Map;return e.forEach(i=>{n.set(i.id,[]),r.set(i.id,[])}),t.forEach(i=>{var o,a;(o=n.get(i.from_node_id))==null||o.push({to:i.to_node_id,edge:i}),(a=r.get(i.to_node_id))==null||a.push({from:i.from_node_id,edge:i})}),{outgoing:n,incoming:r}}function aR(e){const{nodes:t,edges:n}=e,{outgoing:r,incoming:i}=oR(t,n),o=new Set,a=[],s=t.filter(c=>{var d;return c.node_type==="goal"||(((d=i.get(c.id))==null?void 0:d.length)??0)===0}).sort((c,d)=>c.node_type==="goal"&&d.node_type!=="goal"?-1:d.node_type==="goal"&&c.node_type!=="goal"?1:new Date(c.created_at).getTime()-new Date(d.created_at).getTime());function l(c){var h,g;if(o.has(c))return null;const d={root:null,nodes:[],edges:[]},f=[c];for(;f.length>0;){const v=f.shift();if(o.has(v))continue;o.add(v);const p=t.find(w=>w.id===v);p&&(d.nodes.push(p),d.root||(d.root=p)),(h=r.get(v))==null||h.forEach(({to:w,edge:m})=>{o.has(w)||(f.push(w),d.edges.push(m))}),(g=i.get(v))==null||g.forEach(({from:w,edge:m})=>{o.has(w)||(f.push(w),d.edges.some(y=>y.id===m.id)||d.edges.push(m))})}return d.nodes.sort((v,p)=>new Date(v.created_at).getTime()-new Date(p.created_at).getTime()),d.nodes.length>0?d:null}return s.forEach(c=>{const d=l(c.id);d&&a.push(d)}),t.forEach(c=>{if(!o.has(c.id)){const d=l(c.id);d&&a.push(d)}}),a.sort((c,d)=>new Date(d.nodes[0].created_at).getTime()-new Date(c.nodes[0].created_at).getTime()),a}function sR(e,t){const n=[...e].sort((o,a)=>new Date(o.created_at).getTime()-new Date(a.created_at).getTime()),r=[];let i=null;return n.forEach(o=>{const a=new Date(o.created_at).getTime();!i||a-i.endTime>gy?(i={startTime:a,endTime:a,nodes:[o],chains:[]},r.push(i)):(i.endTime=a,i.nodes.push(o))}),t.forEach(o=>{const a=new Date(o.nodes[0].created_at).getTime(),s=r.find(l=>a>=l.startTime&&a<=l.endTime+gy);s&&s.chains.push(o)}),r.reverse(),r}function lR(e,t){const n=[],r=new Map(t.map(o=>[o.hash,o])),i=new Map(t.map(o=>[o.short_hash,o]));return e.forEach(o=>{const a=br(o),s=[];if(a){const l=r.get(a)||i.get(a.slice(0,7));l&&s.push(l)}n.push({type:"node",timestamp:new Date(o.created_at),node:o,linkedCommits:s})}),t.forEach(o=>{const a=e.filter(s=>{const l=br(s);return l===o.hash||(l==null?void 0:l.slice(0,7))===o.short_hash});n.push({type:"commit",timestamp:new Date(o.date),commit:o,linkedNodes:a})}),n.sort((o,a)=>a.timestamp.getTime()-o.timestamp.getTime()),n}function uR(e,t,n){const r={};let i=0;return e.nodes.forEach(o=>{r[o.node_type]=(r[o.node_type]||0)+1,br(o)&&i++}),{nodeCount:e.nodes.length,edgeCount:e.edges.length,chainCount:t.length,sessionCount:n.length,linkedCommitCount:i,nodesByType:r}}function cR(e){return C.useMemo(()=>{if(!e)return{chains:[],sessions:[],stats:{nodeCount:0,edgeCount:0,chainCount:0,sessionCount:0,linkedCommitCount:0,nodesByType:{}}};const t=aR(e),n=sR(e.nodes,t),r=uR(e,t,n);return{chains:t,sessions:n,stats:r}},[e])}const dR=[{id:"story",label:"Story",path:"/story"},{id:"dag",label:"DAG",path:"/"},{id:"chains",label:"Chains",path:"/chains"},{id:"timeline",label:"Timeline",path:"/timeline"},{id:"graph",label:"Graph",path:"/graph"},{id:"roadmap",label:"Roadmap",path:"/roadmap"},{id:"traces",label:"Traces",path:"/traces"}],fR=({children:e,stats:t,lastUpdated:n,branches:r,selectedBranch:i,onBranchChange:o})=>{const a=_i(),l=(()=>{const c=a.pathname;return c==="/story"?"story":c==="/chains"?"chains":c==="/timeline"?"timeline":c==="/graph"?"graph":c==="/roadmap"?"roadmap":c==="/traces"?"traces":"dag"})();return u.jsxs("div",{style:ae.container,children:[u.jsx("header",{style:ae.header,children:u.jsxs("div",{style:ae.headerContent,children:[u.jsxs("div",{children:[u.jsx("h1",{style:ae.title,children:"Deciduous"}),u.jsx("p",{style:ae.subtitle,children:"Decision Graph Viewer"})]}),u.jsx("nav",{style:ae.nav,children:dR.map(c=>u.jsx(XT,{to:c.path,style:{...ae.tab,...l===c.id?ae.tabActive:{}},children:c.label},c.id))}),u.jsx("div",{style:ae.navLinks,children:u.jsx("a",{href:"https://github.com/notactuallytreyanastasio/losselot",target:"_blank",rel:"noopener noreferrer",style:ae.link,children:"GitHub"})})]})}),t&&u.jsxs("div",{style:ae.statsBar,children:[u.jsxs("div",{style:ae.stat,children:[u.jsx("div",{style:ae.statNum,children:t.nodeCount}),u.jsx("div",{style:ae.statLabel,children:"Nodes"})]}),u.jsxs("div",{style:ae.stat,children:[u.jsx("div",{style:ae.statNum,children:t.edgeCount}),u.jsx("div",{style:ae.statLabel,children:"Edges"})]}),u.jsxs("div",{style:ae.stat,children:[u.jsx("div",{style:ae.statNum,children:t.chainCount}),u.jsx("div",{style:ae.statLabel,children:"Chains"})]}),u.jsxs("div",{style:ae.stat,children:[u.jsx("div",{style:ae.statNum,children:t.sessionCount}),u.jsx("div",{style:ae.statLabel,children:"Sessions"})]}),t.linkedCommitCount>0&&u.jsxs("div",{style:ae.stat,children:[u.jsx("div",{style:ae.statNum,children:t.linkedCommitCount}),u.jsx("div",{style:ae.statLabel,children:"Commits"})]}),r&&r.length>0&&u.jsx("div",{style:{...ae.stat,marginLeft:"auto"},children:u.jsxs("select",{value:i||"",onChange:c=>o==null?void 0:o(c.target.value||null),style:ae.branchSelect,children:[u.jsx("option",{value:"",children:"All branches"}),r.map(c=>u.jsx("option",{value:c,children:c},c))]})}),n&&u.jsx("div",{style:{...ae.stat,marginLeft:r!=null&&r.length?"10px":"auto"},children:u.jsxs("div",{style:{...ae.statLabel,fontSize:"10px"},children:["Updated ",n.toLocaleTimeString()]})})]}),u.jsx("main",{style:ae.main,children:e})]})},ae={container:{minHeight:"100vh",backgroundColor:"#ffffff",color:"#24292f",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},header:{backgroundColor:"#f6f8fa",borderBottom:"1px solid #d0d7de",padding:"0 20px"},headerContent:{display:"flex",alignItems:"center",gap:"30px",maxWidth:"1800px",margin:"0 auto",padding:"15px 0"},title:{fontSize:"20px",margin:0,color:"#24292f",fontWeight:700},subtitle:{fontSize:"12px",color:"#57606a",margin:"4px 0 0 0"},nav:{display:"flex",gap:"4px",flex:1},tab:{padding:"10px 20px",fontSize:"13px",color:"#57606a",textDecoration:"none",borderRadius:"6px 6px 0 0",backgroundColor:"transparent",transition:"all 0.2s"},tabActive:{backgroundColor:"#ffffff",color:"#0969da",fontWeight:600},navLinks:{display:"flex",gap:"15px"},link:{color:"#57606a",textDecoration:"none",fontSize:"13px"},statsBar:{display:"flex",gap:"20px",padding:"12px 20px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",margin:"15px",borderRadius:"8px",maxWidth:"1800px",marginLeft:"auto",marginRight:"auto"},stat:{textAlign:"center",minWidth:"60px"},statNum:{fontSize:"20px",fontWeight:"bold",color:"#0969da"},statLabel:{fontSize:"10px",color:"#57606a",textTransform:"uppercase"},branchSelect:{backgroundColor:"#ffffff",color:"#24292f",border:"1px solid #d0d7de",borderRadius:"4px",padding:"6px 10px",fontSize:"12px",cursor:"pointer",minWidth:"120px"},main:{height:"calc(100vh - 140px)",maxWidth:"1800px",margin:"0 auto",padding:"0 15px"}},pm={goal:"#22c55e",decision:"#eab308",option:"#06b6d4",action:"#ef4444",outcome:"#a855f7",observation:"#6b7280"};function Ne(e){return pm[e]||"#6b7280"}const hR={leads_to:"#3b82f6",requires:"#8b5cf6",chosen:"#22c55e",rejected:"#ef4444",blocks:"#f97316",enables:"#06b6d4"};function pR(e){return hR[e]||"#6b7280"}const gR={high:{bg:"#22c55e33",text:"#4ade80"},med:{bg:"#eab30833",text:"#fbbf24"},low:{bg:"#ef444433",text:"#f87171"}};function mR(e){return e?gR[e]:null}const Sr=({type:e,size:t="md"})=>{const n=Ne(e),r=["goal","decision","option"].includes(e),i={fontSize:t==="sm"?"9px":"10px",textTransform:"uppercase",padding:t==="sm"?"2px 5px":"2px 6px",borderRadius:"3px",display:"inline-block",backgroundColor:n,color:r?"#000":"#fff",fontWeight:500};return u.jsx("span",{style:i,children:e})},gm=({confidence:e})=>{if(e==null)return null;const t=rR(e),n=mR(t);if(!n)return null;const r={fontSize:"10px",padding:"2px 6px",borderRadius:"10px",fontWeight:600,backgroundColor:n.bg,color:n.text};return u.jsxs("span",{style:r,children:[e,"%"]})},gs=({commit:e,repo:t=hm})=>{if(!e)return null;const n=fm(e),r=b2(e,t),i={fontSize:"10px",padding:"2px 6px",borderRadius:"4px",fontWeight:500,fontFamily:"monospace",backgroundColor:"#ddf4ff",color:"#0969da",textDecoration:"none",transition:"all 0.2s"};return u.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:i,title:`View commit ${n}`,onMouseOver:o=>{o.currentTarget.style.backgroundColor="#b6e3ff",o.currentTarget.style.color="#0550ae"},onMouseOut:o=>{o.currentTarget.style.backgroundColor="#ddf4ff",o.currentTarget.style.color="#0969da"},children:n})},my=({type:e})=>{const t=e==="chosen",n=e==="rejected",r={fontSize:"10px",padding:"2px 6px",borderRadius:"3px",backgroundColor:t?"#dafbe1":n?"#ffebe9":"#f6f8fa",color:t?"#1a7f37":n?"#cf222e":"#57606a",border:`1px solid ${t?"#1a7f37":n?"#cf222e":"#d0d7de"}`};return u.jsx("span",{style:r,children:e})},vR=({node:e,repo:t})=>{const n=Gs(e),r=br(e);return u.jsxs("span",{style:{display:"inline-flex",gap:"6px",alignItems:"center"},children:[u.jsx(Sr,{type:e.node_type}),u.jsx(gm,{confidence:n}),u.jsx(gs,{commit:r,repo:t})]})},yR=({status:e})=>{const t={pending:{bg:"#f6f8fa",text:"#57606a",border:"#d0d7de"},active:{bg:"#ddf4ff",text:"#0969da",border:"#54aeff"},completed:{bg:"#dafbe1",text:"#1a7f37",border:"#4ac26b"},rejected:{bg:"#ffebe9",text:"#cf222e",border:"#ff8182"}},n=t[e]||t.pending,r={fontSize:"10px",padding:"2px 6px",borderRadius:"10px",backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`};return u.jsx("span",{style:r,children:e})};function pa(e){return e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${(e/1e3).toFixed(1)}k`:String(e)}function S2(e){return e===null?"-":e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`}function xR(e){const t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3);return r<60?"now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:`${Math.floor(r/86400)}d ago`}function Qp(e){return e?e.includes("opus")?"opus":e.includes("sonnet")?"sonnet":e.includes("haiku")?"haiku":"model":"-"}function _R(e){if(!e.ended_at)return"...";const t=new Date(e.started_at),n=new Date(e.ended_at),r=Math.floor((n.getTime()-t.getTime())/1e3);return r<60?`${r}s`:r<3600?`${Math.floor(r/60)}m ${r%60}s`:`${Math.floor(r/3600)}h ${Math.floor(r%3600/60)}m`}function wR(e,t){return!e||t.length===0?null:t.find(n=>n.hash===e||n.short_hash===e)??null}const Do=({node:e,graphData:t,onSelectNode:n,onClose:r,repo:i,gitHistory:o=[],onNavigateToTrace:a})=>{const[s,l]=C.useState(null),[c,d]=C.useState(null);C.useEffect(()=>{if(!e){l(null);return}(async()=>{try{const j=await(await fetch(`/api/nodes/${e.id}/traces`)).json();j.ok&&j.data&&l(j.data)}catch(b){console.error("Failed to fetch trace info:",b),l(null)}})()},[e==null?void 0:e.id]);const f=i??w2(t);if(!e)return u.jsx("div",{style:U.panel,children:u.jsxs("div",{style:U.empty,children:[u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",style:{opacity:.3},children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M12 6v6l4 2"})]}),u.jsx("p",{style:{marginTop:"20px"},children:"Select a node to see details"})]})});const h=t.edges.filter(x=>x.to_node_id===e.id),g=t.edges.filter(x=>x.from_node_id===e.id),v=eR(e),p=tR(e),w=dm(e),m=br(e),y=wR(m,o),_=x=>{const b=t.nodes.find(j=>j.id===x);return(b==null?void 0:b.title)||"Unknown"};return u.jsxs("div",{style:U.panel,children:[r&&u.jsx("button",{onClick:r,style:U.closeButton,children:""}),u.jsxs("div",{style:U.header,children:[u.jsx(vR,{node:e,repo:i}),u.jsx("h2",{style:U.title,children:e.title}),u.jsxs("div",{style:U.meta,children:[u.jsxs("span",{children:["ID: ",e.id]}),u.jsx("span",{children:u.jsx(yR,{status:e.status})}),u.jsxs("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),e.description&&u.jsx("div",{style:U.description,children:e.description}),v&&u.jsxs("div",{style:U.section,children:[u.jsx("h3",{style:U.sectionTitle,children:"Prompt"}),u.jsx("div",{style:U.prompt,children:v})]}),p&&p.length>0&&u.jsxs("div",{style:U.section,children:[u.jsx("h3",{style:U.sectionTitle,children:"Associated Files"}),u.jsx("div",{style:U.fileList,children:p.map((x,b)=>u.jsx("span",{style:U.fileTag,children:x},b))})]}),w&&u.jsxs("div",{style:U.section,children:[u.jsx("h3",{style:U.sectionTitle,children:"Branch"}),u.jsx("span",{style:U.branchTag,children:w})]}),m&&u.jsxs("div",{style:U.section,children:[u.jsx("h3",{style:U.sectionTitle,children:"Linked Commit"}),u.jsxs("div",{style:U.commitSection,children:[u.jsx("a",{href:b2(m,f),target:"_blank",rel:"noopener noreferrer",style:U.commitHash,children:fm(m)}),y&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:U.commitMessage,children:y.message}),u.jsxs("div",{style:U.commitMeta,children:["by ",y.author,"  ",new Date(y.date).toLocaleDateString(),y.files_changed&&`  ${y.files_changed} files`]})]})]})]}),s&&s.spans.length>0&&u.jsxs("div",{style:U.section,children:[u.jsx("h3",{style:U.sectionTitle,children:"Created During Trace"}),s.spans.map(x=>{const b=c===x.span_id,j=x.thinking_preview||x.response_preview||x.tool_names;return u.jsxs("div",{style:U.traceInfo,children:[u.jsxs("div",{style:{...U.traceHeader,cursor:j?"pointer":"default"},onClick:()=>j&&d(b?null:x.span_id),children:[u.jsxs("span",{style:U.traceSpan,children:[j&&u.jsx("span",{style:{marginRight:"4px"},children:b?"":""}),"Span #",x.sequence_num]}),x.model&&u.jsx("span",{style:U.traceModel,children:Qp(x.model)}),x.duration_ms&&u.jsx("span",{style:U.traceDuration,children:S2(x.duration_ms)}),a&&u.jsx("button",{style:U.traceLink,onClick:S=>{S.stopPropagation(),a(x.session_id,x.span_id)},title:"View in Trace",children:""})]}),u.jsxs("div",{style:U.traceSession,children:["Session: ",x.session_id.slice(0,8),x.tool_names&&u.jsxs("span",{style:U.traceTools,children:["  Tools: ",x.tool_names]})]}),b&&u.jsxs("div",{style:U.traceContent,children:[x.user_preview&&u.jsxs("div",{style:U.traceContentBlock,children:[u.jsx("div",{style:U.traceContentLabel,children:"User"}),u.jsx("div",{style:U.traceContentText,children:x.user_preview})]}),x.thinking_preview&&u.jsxs("div",{style:U.traceContentBlock,children:[u.jsx("div",{style:U.traceContentLabel,children:"Thinking"}),u.jsx("div",{style:U.traceContentText,children:x.thinking_preview})]}),x.response_preview&&u.jsxs("div",{style:U.traceContentBlock,children:[u.jsx("div",{style:U.traceContentLabel,children:"Response"}),u.jsx("div",{style:U.traceContentText,children:x.response_preview})]})]})]},x.span_id)})]}),h.length>0&&u.jsxs("div",{style:U.section,children:[u.jsxs("h3",{style:U.sectionTitle,children:["Incoming (",h.length,")"]}),h.map(x=>u.jsxs("div",{style:U.connection,onClick:()=>n(x.from_node_id),children:[u.jsxs("div",{style:U.connectionHeader,children:[u.jsx(my,{type:x.edge_type}),u.jsx("span",{style:U.arrow,children:""}),u.jsx("span",{style:U.connectionTitle,children:_(x.from_node_id)})]}),x.rationale&&u.jsx("div",{style:U.connectionRationale,children:x.rationale})]},x.id))]}),g.length>0&&u.jsxs("div",{style:U.section,children:[u.jsxs("h3",{style:U.sectionTitle,children:["Outgoing (",g.length,")"]}),g.map(x=>u.jsxs("div",{style:U.connection,onClick:()=>n(x.to_node_id),children:[u.jsxs("div",{style:U.connectionHeader,children:[u.jsx(my,{type:x.edge_type}),u.jsx("span",{style:U.arrow,children:""}),u.jsx("span",{style:U.connectionTitle,children:_(x.to_node_id)})]}),x.rationale&&u.jsx("div",{style:U.connectionRationale,children:x.rationale})]},x.id))]}),u.jsxs("div",{style:U.navLinks,children:[u.jsx("a",{href:"../decision-graph",style:U.link,children:"Learn about the graph "}),u.jsx("a",{href:"../claude-tooling",style:U.link,children:"See the tooling "})]})]})},U={panel:{padding:"25px",height:"100%",overflowY:"auto",backgroundColor:"#ffffff",position:"relative"},empty:{textAlign:"center",color:"#6e7781",paddingTop:"80px"},closeButton:{position:"absolute",top:"15px",right:"15px",width:"30px",height:"30px",border:"none",background:"#f6f8fa",color:"#57606a",borderRadius:"4px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},header:{marginBottom:"20px"},title:{fontSize:"24px",margin:"12px 0 8px 0",color:"#24292f"},meta:{display:"flex",gap:"20px",fontSize:"14px",color:"#57606a",flexWrap:"wrap"},description:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"20px",borderRadius:"8px",marginBottom:"20px",lineHeight:1.6,color:"#24292f"},section:{marginTop:"20px"},sectionTitle:{fontSize:"16px",marginBottom:"12px",color:"#57606a"},connection:{padding:"12px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",marginBottom:"8px",cursor:"pointer",transition:"background-color 0.2s"},connectionHeader:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},connectionTitle:{color:"#24292f",fontSize:"13px",flex:1,minWidth:0},connectionRationale:{color:"#57606a",fontSize:"12px",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #d0d7de",lineHeight:1.4},arrow:{color:"#6e7781",flexShrink:0},navLinks:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #d0d7de"},link:{color:"#0969da",textDecoration:"none",marginRight:"20px",fontSize:"13px"},prompt:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"6px",fontSize:"14px",color:"#24292f",lineHeight:1.6,whiteSpace:"pre-wrap",fontStyle:"italic",borderLeft:"3px solid #0969da"},fileList:{display:"flex",flexWrap:"wrap",gap:"8px"},fileTag:{backgroundColor:"#ddf4ff",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",color:"#0969da",fontFamily:"monospace"},branchTag:{backgroundColor:"#dafbe1",color:"#1a7f37",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"},commitSection:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"6px",borderLeft:"3px solid #0969da"},commitHash:{fontFamily:"monospace",fontSize:"13px",color:"#0969da",textDecoration:"none",backgroundColor:"#ddf4ff",padding:"3px 8px",borderRadius:"4px"},commitMessage:{fontSize:"14px",color:"#24292f",marginTop:"10px",lineHeight:1.5,whiteSpace:"pre-wrap"},commitMeta:{fontSize:"12px",color:"#57606a",marginTop:"8px"},traceInfo:{backgroundColor:"#fff8e6",border:"1px solid #f0d77a",padding:"12px",borderRadius:"6px",marginBottom:"8px",borderLeft:"3px solid #d4a72c"},traceHeader:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},traceSpan:{fontWeight:500,color:"#24292f",fontSize:"13px"},traceModel:{backgroundColor:"#8b5cf6",color:"#fff",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},traceDuration:{color:"#57606a",fontSize:"12px"},traceSession:{marginTop:"6px",fontSize:"12px",color:"#57606a",fontFamily:"monospace"},traceLink:{marginLeft:"auto",padding:"2px 6px",border:"1px solid #d4a72c",borderRadius:"4px",backgroundColor:"transparent",color:"#d4a72c",cursor:"pointer",fontSize:"12px",fontWeight:600},traceTools:{color:"#6e7781"},traceContent:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #f0d77a"},traceContentBlock:{marginBottom:"10px"},traceContentLabel:{fontSize:"11px",fontWeight:600,color:"#57606a",textTransform:"uppercase",marginBottom:"4px"},traceContentText:{fontSize:"12px",color:"#24292f",lineHeight:1.5,whiteSpace:"pre-wrap",backgroundColor:"#fffef5",padding:"8px",borderRadius:"4px",maxHeight:"150px",overflow:"auto"}};function bR(e,t){if(!e||t.length===0)return null;const n=t.find(r=>r.hash===e||r.short_hash===e);return(n==null?void 0:n.message)??null}const SR=({graphData:e,chains:t,sessions:n,gitHistory:r=[]})=>{const[i,o]=C.useState("chains"),[a,s]=C.useState(null),[l,c]=C.useState(null),d=a!==null?t[a]:null,f=C.useMemo(()=>{if(!d)return new Map;const p=new Map;return d.edges.forEach(w=>p.set(w.to_node_id,w)),p},[d]),h=p=>{s(p),c(null)},g=p=>{const w=e.nodes.find(m=>m.id===p);w&&(c(w),s(null))},v=p=>{const w=e.nodes.find(m=>m.id===p);w&&c(w)};return u.jsxs("div",{style:V.container,children:[u.jsxs("div",{style:V.sidebar,children:[u.jsx("div",{style:V.viewToggle,children:["chains","sessions","all"].map(p=>u.jsx("button",{onClick:()=>o(p),style:{...V.viewBtn,...i===p?V.viewBtnActive:{}},children:p==="all"?"All Nodes":p.charAt(0).toUpperCase()+p.slice(1)},p))}),u.jsxs("div",{style:V.sidebarContent,children:[i==="chains"&&u.jsx(CR,{chains:t,selectedIndex:a,onSelect:h}),i==="sessions"&&u.jsx(kR,{sessions:n,chains:t,selectedChainIndex:a,onSelectChain:h}),i==="all"&&u.jsx(jR,{nodes:e.nodes,selectedNode:l,onSelect:g})]})]}),u.jsx("div",{style:V.detailPanel,children:d&&!l?u.jsx(ER,{chain:d,edgeMap:f,selectedNode:l,onSelectNode:v,gitHistory:r}):u.jsx(Do,{node:l,graphData:e,onSelectNode:g,gitHistory:r})})]})},CR=({chains:e,selectedIndex:t,onSelect:n})=>u.jsx("div",{style:V.nodeList,children:e.map((r,i)=>{const o=[...new Set(r.nodes.map(s=>s.node_type))],a=t===i;return u.jsxs("div",{onClick:()=>n(i),style:{...V.chainItem,...a?V.chainItemSelected:{}},children:[u.jsxs("div",{style:V.chainSummary,children:[u.jsx(Sr,{type:r.root.node_type,size:"sm"}),u.jsx("span",{style:V.chainTitle,children:It(r.root.title,40)})]}),u.jsxs("div",{style:V.chainStats,children:[r.nodes.length," nodes  ",r.edges.length," edges"]}),u.jsx("div",{style:V.chainTypes,children:o.map(s=>u.jsx("span",{style:{...V.chainTypeDot,backgroundColor:Ne(s)},title:s},s))})]},i)})}),kR=({sessions:e,chains:t,selectedChainIndex:n,onSelectChain:r})=>{const[i,o]=C.useState(new Set),a=s=>{o(l=>{const c=new Set(l);return c.has(s)?c.delete(s):c.add(s),c})};return u.jsx("div",{children:e.map((s,l)=>{const c=new Date(s.startTime),d=c.toLocaleDateString("en-US",{month:"short",day:"numeric"}),f=c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),h=i.has(l);return u.jsxs("div",{style:V.sessionGroup,children:[u.jsxs("div",{onClick:()=>a(l),style:{...V.sessionHeader,...h?V.sessionHeaderExpanded:{}},children:[u.jsx("span",{style:{...V.sessionToggle,transform:h?"rotate(90deg)":"none"},children:""}),u.jsxs("span",{style:V.sessionTitle,children:[d," @ ",f]}),u.jsxs("span",{style:V.sessionCount,children:[s.nodes.length," nodes"]})]}),h&&u.jsx("div",{style:V.chainList,children:s.chains.length>0?s.chains.map(g=>{const v=t.indexOf(g),p=[...new Set(g.nodes.map(w=>w.node_type))];return u.jsxs("div",{onClick:()=>r(v),style:{...V.chainItem,...n===v?V.chainItemSelected:{}},children:[u.jsxs("div",{style:V.chainSummary,children:[u.jsx(Sr,{type:g.root.node_type,size:"sm"}),u.jsx("span",{style:V.chainTitle,children:It(g.root.title,35)})]}),u.jsxs("div",{style:V.chainStats,children:[g.nodes.length," nodes  ",g.edges.length," edges"]}),u.jsx("div",{style:V.chainTypes,children:p.map(w=>u.jsx("span",{style:{...V.chainTypeDot,backgroundColor:Ne(w)},title:w},w))})]},v)}):u.jsx("div",{style:{color:"#666",fontSize:"12px",padding:"10px"},children:"No complete chains in this session"})})]},l)})})},jR=({nodes:e,selectedNode:t,onSelect:n})=>u.jsx("div",{style:V.nodeList,children:e.map(r=>u.jsxs("div",{onClick:()=>n(r.id),style:{...V.nodeItem,...(t==null?void 0:t.id)===r.id?V.nodeItemSelected:{}},children:[u.jsx(Sr,{type:r.node_type}),u.jsx("div",{style:V.nodeTitle,children:r.title})]},r.id))}),ER=({chain:e,edgeMap:t,selectedNode:n,onSelectNode:r,gitHistory:i})=>{const o=iR(e.nodes[0].created_at,e.nodes[e.nodes.length-1].created_at);return u.jsxs("div",{style:V.chainFlow,children:[u.jsxs("div",{style:V.chainFlowHeader,children:[u.jsx(Sr,{type:e.root.node_type}),u.jsx("h2",{style:V.chainFlowTitle,children:e.root.title}),u.jsxs("div",{style:V.chainFlowMeta,children:[e.nodes.length," nodes  ",e.edges.length," connections  ",o]})]}),u.jsx("div",{style:V.flowTimeline,children:e.nodes.map(a=>{const s=t.get(a.id),l=(n==null?void 0:n.id)===a.id,c=new Date(a.created_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),d=Gs(a),f=br(a),h=bR(f,i);return u.jsxs(mg.Fragment,{children:[(s==null?void 0:s.rationale)&&u.jsxs("div",{style:V.flowEdgeLabel,children:[" ",s.rationale]}),u.jsxs("div",{onClick:()=>r(a.id),style:{...V.flowNode,borderColor:l?"#0969da":"#d0d7de",backgroundColor:l?"#ddf4ff":"#ffffff"},children:[u.jsx("div",{style:{...V.flowNodeMarker,backgroundColor:Ne(a.node_type),borderColor:Ne(a.node_type)}}),u.jsxs("div",{style:V.flowNodeHeader,children:[u.jsx(Sr,{type:a.node_type,size:"sm"}),u.jsx(gm,{confidence:d}),u.jsx(gs,{commit:f}),u.jsx("span",{style:V.flowNodeTitle,children:a.title}),u.jsx("span",{style:V.flowNodeTime,children:c})]}),h&&u.jsxs("div",{style:V.commitMessage,children:[u.jsx("span",{style:V.commitIcon,children:""})," ",h]}),a.description&&u.jsx("div",{style:V.flowNodeDesc,children:a.description})]})]},a.id)})}),u.jsxs("div",{style:V.navLinks,children:[u.jsx("a",{href:"../decision-graph",style:V.link,children:"Learn about the graph "}),u.jsx("a",{href:"../claude-tooling",style:V.link,children:"See the tooling "})]})]})},V={container:{display:"flex",height:"100%",gap:"0"},sidebar:{width:"380px",backgroundColor:"#f6f8fa",borderRight:"1px solid #d0d7de",display:"flex",flexDirection:"column",flexShrink:0},viewToggle:{display:"flex",padding:"10px",gap:"5px",borderBottom:"1px solid #d0d7de"},viewBtn:{flex:1,padding:"8px",border:"1px solid #d0d7de",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},viewBtnActive:{backgroundColor:"#0969da",color:"#ffffff",borderColor:"#0969da"},sidebarContent:{flex:1,overflowY:"auto"},nodeList:{padding:"10px"},chainItem:{padding:"10px 12px",margin:"4px 0",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"6px",cursor:"pointer",borderLeft:"3px solid transparent"},chainItemSelected:{borderLeftColor:"#0969da",backgroundColor:"#ddf4ff"},chainSummary:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},chainTitle:{fontSize:"13px",flex:1,color:"#24292f"},chainStats:{fontSize:"10px",color:"#6e7781"},chainTypes:{display:"flex",gap:"3px",marginTop:"6px"},chainTypeDot:{width:"8px",height:"8px",borderRadius:"50%"},sessionGroup:{borderBottom:"1px solid #d0d7de"},sessionHeader:{padding:"12px 15px",backgroundColor:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},sessionHeaderExpanded:{},sessionToggle:{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6e7781",transition:"transform 0.2s"},sessionTitle:{flex:1,fontSize:"13px",fontWeight:600,color:"#24292f"},sessionCount:{fontSize:"11px",color:"#57606a",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"2px 8px",borderRadius:"10px"},chainList:{padding:"5px 10px 10px"},nodeItem:{padding:"12px",marginBottom:"8px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"6px",cursor:"pointer",borderLeft:"4px solid transparent"},nodeItemSelected:{borderLeftColor:"#0969da",backgroundColor:"#ddf4ff"},nodeTitle:{fontSize:"14px",lineHeight:1.4,marginTop:"6px",color:"#24292f"},detailPanel:{flex:1,overflowY:"auto",backgroundColor:"#ffffff"},chainFlow:{maxWidth:"700px",padding:"25px"},chainFlowHeader:{marginBottom:"25px"},chainFlowTitle:{fontSize:"20px",marginTop:"8px",marginBottom:"8px",color:"#24292f"},chainFlowMeta:{fontSize:"12px",color:"#6e7781"},flowTimeline:{position:"relative",paddingLeft:"30px"},flowEdgeLabel:{fontSize:"11px",color:"#1a7f37",margin:"-10px 0 10px 0",paddingLeft:"5px",fontWeight:500},flowNode:{position:"relative",marginBottom:"20px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #d0d7de",cursor:"pointer",transition:"all 0.2s"},flowNodeMarker:{position:"absolute",left:"-26px",top:"20px",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid"},flowNodeHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",flexWrap:"wrap"},flowNodeTitle:{fontSize:"14px",fontWeight:500,flex:1,color:"#24292f"},flowNodeTime:{fontSize:"10px",color:"#6e7781"},flowNodeDesc:{fontSize:"12px",color:"#57606a",lineHeight:1.5},commitMessage:{fontSize:"12px",color:"#0969da",backgroundColor:"#ddf4ff",padding:"6px 10px",borderRadius:"4px",marginBottom:"6px",marginTop:"4px",display:"flex",alignItems:"flex-start",gap:"6px",whiteSpace:"pre-wrap"},commitIcon:{fontSize:"11px",flexShrink:0},navLinks:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #d0d7de"},link:{color:"#0969da",textDecoration:"none",marginRight:"20px",fontSize:"13px"}},TR=({graphData:e,gitHistory:t=[]})=>{const[n,r]=C.useState("all"),[i,o]=C.useState(""),[a,s]=C.useState(null),l=C.useMemo(()=>lR(e.nodes,t),[e.nodes,t]),c=C.useMemo(()=>{let f=l;if(n==="nodes"?f=f.filter(h=>h.type==="node"):n==="commits"?f=f.filter(h=>h.type==="commit"):n==="linked"&&(f=f.filter(h=>h.type==="node"&&h.linkedCommits&&h.linkedCommits.length>0||h.type==="commit"&&h.linkedNodes&&h.linkedNodes.length>0)),i){const h=i.toLowerCase();f=f.filter(g=>{var v;return g.type==="node"?g.node.title.toLowerCase().includes(h)||(((v=g.node.description)==null?void 0:v.toLowerCase().includes(h))??!1):g.commit.message.toLowerCase().includes(h)})}return f},[l,n,i]),d=f=>{const h=e.nodes.find(g=>g.id===f);h&&s(h)};return u.jsxs("div",{style:ue.container,children:[u.jsxs("div",{style:ue.controls,children:[u.jsx("h2",{style:ue.title,children:"Timeline"}),u.jsx("div",{style:ue.filterButtons,children:["all","nodes","commits","linked"].map(f=>u.jsx("button",{onClick:()=>r(f),style:{...ue.filterBtn,...n===f?ue.filterBtnActive:{}},children:f==="all"?"All":f.charAt(0).toUpperCase()+f.slice(1)},f))}),u.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:f=>o(f.target.value),style:ue.search})]}),u.jsx("div",{style:ue.timelineContainer,children:u.jsxs("div",{style:ue.timeline,children:[c.map((f,h)=>u.jsx(RR,{item:f,onSelectNode:d},h)),c.length===0&&u.jsx("div",{style:ue.empty,children:"No items match your filters"})]})}),u.jsx("div",{style:ue.detailPanel,children:u.jsx(Do,{node:a,graphData:e,onSelectNode:d,onClose:()=>s(null),gitHistory:t})})]})},RR=({item:e,onSelectNode:t})=>{const n=e.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric"}),r=e.timestamp.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});if(e.type==="node"&&e.node){const i=e.node,o=Gs(i),a=br(i);return u.jsxs("div",{style:ue.timelineItem,onClick:()=>t(i.id),children:[u.jsx("div",{style:{...ue.marker,backgroundColor:Ne(i.node_type)}}),u.jsxs("div",{style:ue.itemContent,children:[u.jsxs("div",{style:ue.itemHeader,children:[u.jsx(Sr,{type:i.node_type,size:"sm"}),u.jsx(gm,{confidence:o}),a&&u.jsx(gs,{commit:a}),u.jsxs("span",{style:ue.itemTime,children:[n," ",r]})]}),u.jsx("div",{style:ue.itemTitle,children:i.title}),i.description&&u.jsx("div",{style:ue.itemDesc,children:It(i.description,100)}),e.linkedCommits&&e.linkedCommits.length>0&&u.jsxs("div",{style:ue.linked,children:["Linked to ",e.linkedCommits.length," commit(s)"]})]})]})}if(e.type==="commit"&&e.commit){const i=e.commit;return u.jsxs("div",{style:ue.timelineItem,children:[u.jsx("div",{style:{...ue.marker,backgroundColor:"#3b82f6"}}),u.jsxs("div",{style:ue.itemContent,children:[u.jsxs("div",{style:ue.itemHeader,children:[u.jsx("span",{style:ue.commitBadgeSmall,children:"commit"}),u.jsx(gs,{commit:i.hash}),u.jsxs("span",{style:ue.itemTime,children:[n," ",r]})]}),u.jsx("div",{style:ue.itemTitle,children:i.message}),u.jsxs("div",{style:ue.itemMeta,children:["by ",i.author,i.files_changed&&`  ${i.files_changed} files`]}),e.linkedNodes&&e.linkedNodes.length>0&&u.jsxs("div",{style:ue.linked,children:["Linked to ",e.linkedNodes.length," decision(s)"]})]})]})}return null},ue={container:{height:"100%",display:"flex",gap:"0"},controls:{width:"200px",padding:"20px",backgroundColor:"#f6f8fa",borderRight:"1px solid #d0d7de",flexShrink:0},title:{fontSize:"16px",margin:"0 0 15px 0",color:"#24292f"},filterButtons:{display:"flex",flexDirection:"column",gap:"4px"},filterBtn:{padding:"8px 12px",fontSize:"12px",border:"1px solid #d0d7de",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",textAlign:"left"},filterBtnActive:{backgroundColor:"#0969da",color:"#ffffff",borderColor:"#0969da"},search:{width:"100%",padding:"8px",marginTop:"15px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"12px"},timelineContainer:{flex:2,overflowY:"auto",padding:"20px",backgroundColor:"#ffffff"},timeline:{maxWidth:"700px",position:"relative",paddingLeft:"30px"},timelineItem:{position:"relative",marginBottom:"15px",padding:"15px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #d0d7de",cursor:"pointer",transition:"border-color 0.2s"},marker:{position:"absolute",left:"-24px",top:"20px",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid #ffffff"},itemContent:{},itemHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",flexWrap:"wrap"},itemTime:{fontSize:"11px",color:"#6e7781",marginLeft:"auto"},itemTitle:{fontSize:"14px",color:"#24292f",marginBottom:"4px"},itemDesc:{fontSize:"12px",color:"#57606a",lineHeight:1.4},itemMeta:{fontSize:"11px",color:"#6e7781"},linked:{fontSize:"11px",color:"#1a7f37",marginTop:"8px"},commitBadgeSmall:{fontSize:"9px",padding:"2px 6px",backgroundColor:"#ddf4ff",color:"#0969da",borderRadius:"3px",textTransform:"uppercase"},detailPanel:{flex:1,minWidth:"350px",borderLeft:"1px solid #d0d7de"},empty:{textAlign:"center",color:"#6e7781",padding:"40px"}};var IR={value:()=>{}};function Bo(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Da(n)}function Da(e){this._=e}function MR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Da.prototype=Bo.prototype={constructor:Da,on:function(e,t){var n=this._,r=MR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=NR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=vy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=vy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Da(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function NR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function vy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=IR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Jp="http://www.w3.org/1999/xhtml";const yy={svg:"http://www.w3.org/2000/svg",xhtml:Jp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yy.hasOwnProperty(t)?{space:yy[t],local:e}:e}function AR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jp&&t.documentElement.namespaceURI===Jp?t.createElement(e):t.createElementNS(n,e)}}function PR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function C2(e){var t=Vs(e);return(t.local?PR:AR)(t)}function LR(){}function mm(e){return e==null?LR:function(){return this.querySelector(e)}}function zR(e){typeof e!="function"&&(e=mm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,c,d=0;d<a;++d)(l=o[d])&&(c=e.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),s[d]=c);return new ft(r,this._parents)}function qR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OR(){return[]}function k2(e){return e==null?OR:function(){return this.querySelectorAll(e)}}function DR(e){return function(){return qR(e.apply(this,arguments))}}function BR(e){typeof e=="function"?e=DR(e):e=k2(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(e.call(l,l.__data__,c,a)),i.push(l));return new ft(r,i)}function j2(e){return function(){return this.matches(e)}}function E2(e){return function(t){return t.matches(e)}}var FR=Array.prototype.find;function $R(e){return function(){return FR.call(this.children,e)}}function UR(){return this.firstElementChild}function WR(e){return this.select(e==null?UR:$R(typeof e=="function"?e:E2(e)))}var HR=Array.prototype.filter;function GR(){return Array.from(this.children)}function VR(e){return function(){return HR.call(this.children,e)}}function YR(e){return this.selectAll(e==null?GR:VR(typeof e=="function"?e:E2(e)))}function KR(e){typeof e!="function"&&(e=j2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new ft(r,this._parents)}function T2(e){return new Array(e.length)}function XR(){return new ft(this._enter||this._groups.map(T2),this._parents)}function ms(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ms.prototype={constructor:ms,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function QR(e){return function(){return e}}function JR(e,t,n,r,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new ms(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function ZR(e,t,n,r,i,o,a){var s,l,c=new Map,d=t.length,f=o.length,h=new Array(d),g;for(s=0;s<d;++s)(l=t[s])&&(h[s]=g=a.call(l,l.__data__,s,t)+"",c.has(g)?i[s]=l:c.set(g,l));for(s=0;s<f;++s)g=a.call(e,o[s],s,o)+"",(l=c.get(g))?(r[s]=l,l.__data__=o[s],c.delete(g)):n[s]=new ms(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(h[s])===l&&(i[s]=l)}function eI(e){return e.__data__}function tI(e,t){if(!arguments.length)return Array.from(this,eI);var n=t?ZR:JR,r=this._parents,i=this._groups;typeof e!="function"&&(e=QR(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var d=r[c],f=i[c],h=f.length,g=nI(e.call(d,d&&d.__data__,c,r)),v=g.length,p=s[c]=new Array(v),w=a[c]=new Array(v),m=l[c]=new Array(h);n(d,f,p,w,m,g,t);for(var y=0,_=0,x,b;y<v;++y)if(x=p[y]){for(y>=_&&(_=y+1);!(b=w[_])&&++_<v;);x._next=b||null}}return a=new ft(a,r),a._enter=s,a._exit=l,a}function nI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rI(){return new ft(this._exit||this._groups.map(T2),this._parents)}function iI(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function oI(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],d=r[l],f=c.length,h=s[l]=new Array(f),g,v=0;v<f;++v)(g=c[v]||d[v])&&(h[v]=g);for(;l<i;++l)s[l]=n[l];return new ft(s,this._parents)}function aI(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function sI(e){e||(e=lI);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,d=0;d<s;++d)(c=a[d])&&(l[d]=c);l.sort(t)}return new ft(i,this._parents).order()}function lI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cI(){return Array.from(this)}function dI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function fI(){let e=0;for(const t of this)++e;return e}function hI(){return!this.node()}function pI(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function gI(e){return function(){this.removeAttribute(e)}}function mI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vI(e,t){return function(){this.setAttribute(e,t)}}function yI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _I(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wI(e,t){var n=Vs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?mI:gI:typeof t=="function"?n.local?_I:xI:n.local?yI:vI)(n,t))}function R2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bI(e){return function(){this.style.removeProperty(e)}}function SI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CI(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function kI(e,t,n){return arguments.length>1?this.each((t==null?bI:typeof t=="function"?CI:SI)(e,t,n??"")):pi(this.node(),e)}function pi(e,t){return e.style.getPropertyValue(t)||R2(e).getComputedStyle(e,null).getPropertyValue(t)}function jI(e){return function(){delete this[e]}}function EI(e,t){return function(){this[e]=t}}function TI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function RI(e,t){return arguments.length>1?this.each((t==null?jI:typeof t=="function"?TI:EI)(e,t)):this.node()[e]}function I2(e){return e.trim().split(/^|\s+/)}function vm(e){return e.classList||new M2(e)}function M2(e){this._node=e,this._names=I2(e.getAttribute("class")||"")}M2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function N2(e,t){for(var n=vm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function A2(e,t){for(var n=vm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function II(e){return function(){N2(this,e)}}function MI(e){return function(){A2(this,e)}}function NI(e,t){return function(){(t.apply(this,arguments)?N2:A2)(this,e)}}function AI(e,t){var n=I2(e+"");if(arguments.length<2){for(var r=vm(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?NI:t?II:MI)(n,t))}function PI(){this.textContent=""}function LI(e){return function(){this.textContent=e}}function zI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qI(e){return arguments.length?this.each(e==null?PI:(typeof e=="function"?zI:LI)(e)):this.node().textContent}function OI(){this.innerHTML=""}function DI(e){return function(){this.innerHTML=e}}function BI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function FI(e){return arguments.length?this.each(e==null?OI:(typeof e=="function"?BI:DI)(e)):this.node().innerHTML}function $I(){this.nextSibling&&this.parentNode.appendChild(this)}function UI(){return this.each($I)}function WI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HI(){return this.each(WI)}function GI(e){var t=typeof e=="function"?e:C2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function VI(){return null}function YI(e,t){var n=typeof e=="function"?e:C2(e),r=t==null?VI:typeof t=="function"?t:mm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function KI(){var e=this.parentNode;e&&e.removeChild(this)}function XI(){return this.each(KI)}function QI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZI(e){return this.select(e?JI:QI)}function e6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function t6(e){return function(t){e.call(this,t,this.__data__)}}function n6(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function r6(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function i6(e,t,n){return function(){var r=this.__on,i,o=t6(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function o6(e,t,n){var r=n6(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,d;l<c;++l)for(i=0,d=s[l];i<o;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?i6:r6,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function P2(e,t,n){var r=R2(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function a6(e,t){return function(){return P2(this,e,t)}}function s6(e,t){return function(){return P2(this,e,t.apply(this,arguments))}}function l6(e,t){return this.each((typeof t=="function"?s6:a6)(e,t))}function*u6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var L2=[null];function ft(e,t){this._groups=e,this._parents=t}function Fo(){return new ft([[document.documentElement]],L2)}function c6(){return this}ft.prototype=Fo.prototype={constructor:ft,select:zR,selectAll:BR,selectChild:WR,selectChildren:YR,filter:KR,data:tI,enter:XR,exit:rI,join:iI,merge:oI,selection:c6,order:aI,sort:sI,call:uI,nodes:cI,node:dI,size:fI,empty:hI,each:pI,attr:wI,style:kI,property:RI,classed:AI,text:qI,html:FI,raise:UI,lower:HI,append:GI,insert:YI,remove:XI,clone:ZI,datum:e6,on:o6,dispatch:l6,[Symbol.iterator]:u6};function He(e){return typeof e=="string"?new ft([[document.querySelector(e)]],[document.documentElement]):new ft([[e]],L2)}function d6(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nn(e,t){if(e=d6(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const f6={passive:!1},Ro={capture:!0,passive:!1};function Kl(e){e.stopImmediatePropagation()}function oi(e){e.preventDefault(),e.stopImmediatePropagation()}function z2(e){var t=e.document.documentElement,n=He(e).on("dragstart.drag",oi,Ro);"onselectstart"in t?n.on("selectstart.drag",oi,Ro):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function q2(e,t){var n=e.document.documentElement,r=He(e).on("dragstart.drag",null);t&&(r.on("click.drag",oi,Ro),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ga=e=>()=>e;function Zp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Zp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function h6(e){return!e.ctrlKey&&!e.button}function p6(){return this.parentNode}function g6(e,t){return t??{x:e.x,y:e.y}}function m6(){return navigator.maxTouchPoints||"ontouchstart"in this}function v6(){var e=h6,t=p6,n=g6,r=m6,i={},o=Bo("start","drag","end"),a=0,s,l,c,d,f=0;function h(x){x.on("mousedown.drag",g).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,f6).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(x,b){if(!(d||!e.call(this,x,b))){var j=_(this,t.call(this,x,b),x,b,"mouse");j&&(He(x.view).on("mousemove.drag",v,Ro).on("mouseup.drag",p,Ro),z2(x.view),Kl(x),c=!1,s=x.clientX,l=x.clientY,j("start",x))}}function v(x){if(oi(x),!c){var b=x.clientX-s,j=x.clientY-l;c=b*b+j*j>f}i.mouse("drag",x)}function p(x){He(x.view).on("mousemove.drag mouseup.drag",null),q2(x.view,c),oi(x),i.mouse("end",x)}function w(x,b){if(e.call(this,x,b)){var j=x.changedTouches,S=t.call(this,x,b),k=j.length,E,T;for(E=0;E<k;++E)(T=_(this,S,x,b,j[E].identifier,j[E]))&&(Kl(x),T("start",x,j[E]))}}function m(x){var b=x.changedTouches,j=b.length,S,k;for(S=0;S<j;++S)(k=i[b[S].identifier])&&(oi(x),k("drag",x,b[S]))}function y(x){var b=x.changedTouches,j=b.length,S,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<j;++S)(k=i[b[S].identifier])&&(Kl(x),k("end",x,b[S]))}function _(x,b,j,S,k,E){var T=o.copy(),N=nn(E||j,b),F,H,R;if((R=n.call(x,new Zp("beforestart",{sourceEvent:j,target:h,identifier:k,active:a,x:N[0],y:N[1],dx:0,dy:0,dispatch:T}),S))!=null)return F=R.x-N[0]||0,H=R.y-N[1]||0,function D(A,z,I){var P=N,q;switch(A){case"start":i[k]=D,q=a++;break;case"end":delete i[k],--a;case"drag":N=nn(I||z,b),q=a;break}T.call(A,x,new Zp(A,{sourceEvent:z,subject:R,target:h,identifier:k,active:q,x:N[0]+F,y:N[1]+H,dx:N[0]-P[0],dy:N[1]-P[1],dispatch:T}),S)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:ga(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:ga(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:ga(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:ga(!!x),h):r},h.on=function(){var x=o.on.apply(o,arguments);return x===o?h:x},h.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,h):Math.sqrt(f)},h}function ym(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function O2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $o(){}var Io=.7,vs=1/Io,ai="\\s*([+-]?\\d+)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y6=/^#([0-9a-f]{3,8})$/,x6=new RegExp(`^rgb\\(${ai},${ai},${ai}\\)$`),_6=new RegExp(`^rgb\\(${Vt},${Vt},${Vt}\\)$`),w6=new RegExp(`^rgba\\(${ai},${ai},${ai},${Mo}\\)$`),b6=new RegExp(`^rgba\\(${Vt},${Vt},${Vt},${Mo}\\)$`),S6=new RegExp(`^hsl\\(${Mo},${Vt},${Vt}\\)$`),C6=new RegExp(`^hsla\\(${Mo},${Vt},${Vt},${Mo}\\)$`),xy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ym($o,No,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_y,formatHex:_y,formatHex8:k6,formatHsl:j6,formatRgb:wy,toString:wy});function _y(){return this.rgb().formatHex()}function k6(){return this.rgb().formatHex8()}function j6(){return D2(this).formatHsl()}function wy(){return this.rgb().formatRgb()}function No(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?by(t):n===3?new et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ma(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ma(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x6.exec(e))?new et(t[1],t[2],t[3],1):(t=_6.exec(e))?new et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w6.exec(e))?ma(t[1],t[2],t[3],t[4]):(t=b6.exec(e))?ma(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S6.exec(e))?ky(t[1],t[2]/100,t[3]/100,1):(t=C6.exec(e))?ky(t[1],t[2]/100,t[3]/100,t[4]):xy.hasOwnProperty(e)?by(xy[e]):e==="transparent"?new et(NaN,NaN,NaN,0):null}function by(e){return new et(e>>16&255,e>>8&255,e&255,1)}function ma(e,t,n,r){return r<=0&&(e=t=n=NaN),new et(e,t,n,r)}function E6(e){return e instanceof $o||(e=No(e)),e?(e=e.rgb(),new et(e.r,e.g,e.b,e.opacity)):new et}function eg(e,t,n,r){return arguments.length===1?E6(e):new et(e,t,n,r??1)}function et(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ym(et,eg,O2($o,{brighter(e){return e=e==null?vs:Math.pow(vs,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Io:Math.pow(Io,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new et(gr(this.r),gr(this.g),gr(this.b),ys(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sy,formatHex:Sy,formatHex8:T6,formatRgb:Cy,toString:Cy}));function Sy(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}`}function T6(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}${dr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cy(){const e=ys(this.opacity);return`${e===1?"rgb(":"rgba("}${gr(this.r)}, ${gr(this.g)}, ${gr(this.b)}${e===1?")":`, ${e})`}`}function ys(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dr(e){return e=gr(e),(e<16?"0":"")+e.toString(16)}function ky(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Rt(e,t,n,r)}function D2(e){if(e instanceof Rt)return new Rt(e.h,e.s,e.l,e.opacity);if(e instanceof $o||(e=No(e)),!e)return new Rt;if(e instanceof Rt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Rt(a,s,l,e.opacity)}function R6(e,t,n,r){return arguments.length===1?D2(e):new Rt(e,t,n,r??1)}function Rt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ym(Rt,R6,O2($o,{brighter(e){return e=e==null?vs:Math.pow(vs,e),new Rt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Io:Math.pow(Io,e),new Rt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new et(Xl(e>=240?e-240:e+120,i,r),Xl(e,i,r),Xl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Rt(jy(this.h),va(this.s),va(this.l),ys(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ys(this.opacity);return`${e===1?"hsl(":"hsla("}${jy(this.h)}, ${va(this.s)*100}%, ${va(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jy(e){return e=(e||0)%360,e<0?e+360:e}function va(e){return Math.max(0,Math.min(1,e||0))}function Xl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const B2=e=>()=>e;function I6(e,t){return function(n){return e+n*t}}function M6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function N6(e){return(e=+e)==1?F2:function(t,n){return n-t?M6(t,n,e):B2(isNaN(t)?n:t)}}function F2(e,t){var n=t-e;return n?I6(e,n):B2(isNaN(e)?t:e)}const Ey=function e(t){var n=N6(t);function r(i,o){var a=n((i=eg(i)).r,(o=eg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=F2(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function In(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ql=new RegExp(tg.source,"g");function A6(e){return function(){return e}}function P6(e){return function(t){return e(t)+""}}function L6(e,t){var n=tg.lastIndex=Ql.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=tg.exec(e))&&(i=Ql.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:In(r,i)})),n=Ql.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?P6(l[0].x):A6(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}var Ty=180/Math.PI,ng={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $2(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ty,skewX:Math.atan(l)*Ty,scaleX:a,scaleY:s}}var ya;function z6(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ng:$2(t.a,t.b,t.c,t.d,t.e,t.f)}function q6(e){return e==null||(ya||(ya=document.createElementNS("http://www.w3.org/2000/svg","g")),ya.setAttribute("transform",e),!(e=ya.transform.baseVal.consolidate()))?ng:(e=e.matrix,$2(e.a,e.b,e.c,e.d,e.e,e.f))}function U2(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,d,f,h,g,v){if(c!==f||d!==h){var p=g.push("translate(",null,t,null,n);v.push({i:p-4,x:In(c,f)},{i:p-2,x:In(d,h)})}else(f||h)&&g.push("translate("+f+t+h+n)}function a(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:In(c,d)})):d&&f.push(i(f)+"rotate("+d+r)}function s(c,d,f,h){c!==d?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:In(c,d)}):d&&f.push(i(f)+"skewX("+d+r)}function l(c,d,f,h,g,v){if(c!==f||d!==h){var p=g.push(i(g)+"scale(",null,",",null,")");v.push({i:p-4,x:In(c,f)},{i:p-2,x:In(d,h)})}else(f!==1||h!==1)&&g.push(i(g)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,f,h),a(c.rotate,d.rotate,f,h),s(c.skewX,d.skewX,f,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(g){for(var v=-1,p=h.length,w;++v<p;)f[(w=h[v]).i]=w.x(g);return f.join("")}}}var O6=U2(z6,"px, ","px)","deg)"),D6=U2(q6,", ",")",")"),B6=1e-12;function Ry(e){return((e=Math.exp(e))+1/e)/2}function F6(e){return((e=Math.exp(e))-1/e)/2}function $6(e){return((e=Math.exp(2*e))-1)/(e+1)}const U6=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],c=o[2],d=a[0],f=a[1],h=a[2],g=d-s,v=f-l,p=g*g+v*v,w,m;if(p<B6)m=Math.log(h/c)/t,w=function(S){return[s+S*g,l+S*v,c*Math.exp(t*S*m)]};else{var y=Math.sqrt(p),_=(h*h-c*c+r*p)/(2*c*n*y),x=(h*h-c*c-r*p)/(2*h*n*y),b=Math.log(Math.sqrt(_*_+1)-_),j=Math.log(Math.sqrt(x*x+1)-x);m=(j-b)/t,w=function(S){var k=S*m,E=Ry(b),T=c/(n*y)*(E*$6(t*k+b)-F6(b));return[s+T*g,l+T*v,c*E/Ry(t*k+b)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var gi=0,Gi=0,Oi=0,W2=1e3,xs,Vi,_s=0,Cr=0,Ys=0,Ao=typeof performance=="object"&&performance.now?performance:Date,H2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xm(){return Cr||(H2(W6),Cr=Ao.now()+Ys)}function W6(){Cr=0}function ws(){this._call=this._time=this._next=null}ws.prototype=_m.prototype={constructor:ws,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?xm():+n)+(t==null?0:+t),!this._next&&Vi!==this&&(Vi?Vi._next=this:xs=this,Vi=this),this._call=e,this._time=n,rg()},stop:function(){this._call&&(this._call=null,this._time=1/0,rg())}};function _m(e,t,n){var r=new ws;return r.restart(e,t,n),r}function H6(){xm(),++gi;for(var e=xs,t;e;)(t=Cr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gi}function Iy(){Cr=(_s=Ao.now())+Ys,gi=Gi=0;try{H6()}finally{gi=0,V6(),Cr=0}}function G6(){var e=Ao.now(),t=e-_s;t>W2&&(Ys-=t,_s=e)}function V6(){for(var e,t=xs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xs=n);Vi=e,rg(r)}function rg(e){if(!gi){Gi&&(Gi=clearTimeout(Gi));var t=e-Cr;t>24?(e<1/0&&(Gi=setTimeout(Iy,e-Ao.now()-Ys)),Oi&&(Oi=clearInterval(Oi))):(Oi||(_s=Ao.now(),Oi=setInterval(G6,W2)),gi=1,H2(Iy))}}function My(e,t,n){var r=new ws;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Y6=Bo("start","end","cancel","interrupt"),K6=[],G2=0,Ny=1,ig=2,Ba=3,Ay=4,og=5,Fa=6;function Ks(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;X6(e,n,{name:t,index:r,group:i,on:Y6,tween:K6,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:G2})}function wm(e,t){var n=Pt(e,t);if(n.state>G2)throw new Error("too late; already scheduled");return n}function Yt(e,t){var n=Pt(e,t);if(n.state>Ba)throw new Error("too late; already running");return n}function Pt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function X6(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=_m(o,0,n.time);function o(c){n.state=Ny,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,h,g;if(n.state!==Ny)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Ba)return My(a);g.state===Ay?(g.state=Fa,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=Fa,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(My(function(){n.state===Ba&&(n.state=Ay,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ig,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ig){for(n.state=Ba,i=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=g);i.length=f+1}}function s(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=og,1),f=-1,h=i.length;++f<h;)i[f].call(e,d);n.state===og&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Fa,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function $a(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>ig&&r.state<og,r.state=Fa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function Q6(e){return this.each(function(){$a(this,e)})}function J6(e,t){var n,r;return function(){var i=Yt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Z6(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Yt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function e4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Pt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?J6:Z6)(n,e,t))}function bm(e,t,n){var r=e._id;return e.each(function(){var i=Yt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Pt(i,r).value[t]}}function V2(e,t){var n;return(typeof t=="number"?In:t instanceof No?Ey:(n=No(t))?(t=n,Ey):L6)(e,t)}function t4(e){return function(){this.removeAttribute(e)}}function n4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function r4(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function i4(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function o4(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function a4(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function s4(e,t){var n=Vs(e),r=n==="transform"?D6:V2;return this.attrTween(e,typeof t=="function"?(n.local?a4:o4)(n,r,bm(this,"attr."+e,t)):t==null?(n.local?n4:t4)(n):(n.local?i4:r4)(n,r,t))}function l4(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function u4(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function c4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&u4(e,o)),n}return i._value=t,i}function d4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&l4(e,o)),n}return i._value=t,i}function f4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vs(e);return this.tween(n,(r.local?c4:d4)(r,t))}function h4(e,t){return function(){wm(this,e).delay=+t.apply(this,arguments)}}function p4(e,t){return t=+t,function(){wm(this,e).delay=t}}function g4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?h4:p4)(t,e)):Pt(this.node(),t).delay}function m4(e,t){return function(){Yt(this,e).duration=+t.apply(this,arguments)}}function v4(e,t){return t=+t,function(){Yt(this,e).duration=t}}function y4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m4:v4)(t,e)):Pt(this.node(),t).duration}function x4(e,t){if(typeof t!="function")throw new Error;return function(){Yt(this,e).ease=t}}function _4(e){var t=this._id;return arguments.length?this.each(x4(t,e)):Pt(this.node(),t).ease}function w4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Yt(this,e).ease=n}}function b4(e){if(typeof e!="function")throw new Error;return this.each(w4(this._id,e))}function S4(e){typeof e!="function"&&(e=j2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new mn(r,this._parents,this._name,this._id)}function C4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],c=n[s],d=l.length,f=a[s]=new Array(d),h,g=0;g<d;++g)(h=l[g]||c[g])&&(f[g]=h);for(;s<r;++s)a[s]=t[s];return new mn(a,this._parents,this._name,this._id)}function k4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function j4(e,t,n){var r,i,o=k4(t)?wm:Yt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function E4(e,t){var n=this._id;return arguments.length<2?Pt(this.node(),n).on.on(e):this.each(j4(n,e,t))}function T4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function R4(){return this.on("end.remove",T4(this._id))}function I4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mm(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),d,f,h=0;h<l;++h)(d=s[h])&&(f=e.call(d,d.__data__,h,s))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Ks(c[h],t,n,h,c,Pt(d,n)));return new mn(o,this._parents,t,n)}function M4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=k2(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var h=e.call(d,d.__data__,f,l),g,v=Pt(d,n),p=0,w=h.length;p<w;++p)(g=h[p])&&Ks(g,t,n,p,h,v);o.push(h),a.push(d)}return new mn(o,a,t,n)}var N4=Fo.prototype.constructor;function A4(){return new N4(this._groups,this._parents)}function P4(e,t){var n,r,i;return function(){var o=pi(this,e),a=(this.style.removeProperty(e),pi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Y2(e){return function(){this.style.removeProperty(e)}}function L4(e,t,n){var r,i=n+"",o;return function(){var a=pi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function z4(e,t,n){var r,i,o;return function(){var a=pi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),pi(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function q4(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=Yt(this,e),c=l.on,d=l.value[o]==null?s||(s=Y2(t)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(a,i=d),l.on=r}}function O4(e,t,n){var r=(e+="")=="transform"?O6:V2;return t==null?this.styleTween(e,P4(e,r)).on("end.style."+e,Y2(e)):typeof t=="function"?this.styleTween(e,z4(e,r,bm(this,"style."+e,t))).each(q4(this._id,e)):this.styleTween(e,L4(e,r,t),n).on("end.style."+e,null)}function D4(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function B4(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&D4(e,a,n)),r}return o._value=t,o}function F4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,B4(e,t,n??""))}function $4(e){return function(){this.textContent=e}}function U4(e){return function(){var t=e(this);this.textContent=t??""}}function W4(e){return this.tween("text",typeof e=="function"?U4(bm(this,"text",e)):$4(e==null?"":e+""))}function H4(e){return function(t){this.textContent=e.call(this,t)}}function G4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&H4(i)),t}return r._value=e,r}function V4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G4(e))}function Y4(){for(var e=this._name,t=this._id,n=K2(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var d=Pt(l,t);Ks(l,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new mn(r,this._parents,e,n)}function K4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var c=Yt(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var X4=0;function mn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function K2(){return++X4}var Qt=Fo.prototype;mn.prototype={constructor:mn,select:I4,selectAll:M4,selectChild:Qt.selectChild,selectChildren:Qt.selectChildren,filter:S4,merge:C4,selection:A4,transition:Y4,call:Qt.call,nodes:Qt.nodes,node:Qt.node,size:Qt.size,empty:Qt.empty,each:Qt.each,on:E4,attr:s4,attrTween:f4,style:O4,styleTween:F4,text:W4,textTween:V4,remove:R4,tween:e4,delay:g4,duration:y4,ease:_4,easeVarying:b4,end:K4,[Symbol.iterator]:Qt[Symbol.iterator]};function Q4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var J4={time:null,delay:0,duration:250,ease:Q4};function Z4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function e8(e){var t,n;e instanceof mn?(t=e._id,e=e._name):(t=K2(),(n=J4).time=xm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&Ks(l,e,t,c,a,n||Z4(l,t));return new mn(r,this._parents,e,t)}Fo.prototype.interrupt=Q6;Fo.prototype.transition=e8;const ag=Math.PI,sg=2*ag,sr=1e-6,t8=sg-sr;function X2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function n8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X2;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class r8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X2:n8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-n,d=a-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>sr)if(!(Math.abs(f*l-c*d)>sr)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-a,v=i-s,p=l*l+c*c,w=g*g+v*v,m=Math.sqrt(p),y=Math.sqrt(h),_=o*Math.tan((ag-Math.acos((p+h-w)/(2*m*y)))/2),x=_/y,b=_/m;Math.abs(x-1)>sr&&this._append`L${t+x*d},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*g>d*v)},${this._x1=t+b*l},${this._y1=n+b*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>sr||Math.abs(this._y1-d)>sr)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%sg+sg),h>t8?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>sr&&this._append`A${r},${r},0,${+(h>=ag)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function i8(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,a=n.length,s,l=0,c=0;for(o=0;o<a;++o)s=n[o],l+=s.x,c+=s.y;for(l=(l/a-e)*r,c=(c/a-t)*r,o=0;o<a;++o)s=n[o],s.x-=l,s.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function o8(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Q2(this.cover(t,n),t,n,e)}function Q2(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},s=e._x0,l=e._y0,c=e._x1,d=e._y1,f,h,g,v,p,w,m,y;if(!o)return e._root=a,e;for(;o.length;)if((p=t>=(f=(s+c)/2))?s=f:c=f,(w=n>=(h=(l+d)/2))?l=h:d=h,i=o,!(o=o[m=w<<1|p]))return i[m]=a,e;if(g=+e._x.call(null,o.data),v=+e._y.call(null,o.data),t===g&&n===v)return a.next=o,i?i[m]=a:e._root=a,e;do i=i?i[m]=new Array(4):e._root=new Array(4),(p=t>=(f=(s+c)/2))?s=f:c=f,(w=n>=(h=(l+d)/2))?l=h:d=h;while((m=w<<1|p)===(y=(v>=h)<<1|g>=f));return i[y]=o,i[m]=a,e}function a8(e){var t,n,r=e.length,i,o,a=new Array(r),s=new Array(r),l=1/0,c=1/0,d=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,s[n]=o,i<l&&(l=i),i>d&&(d=i),o<c&&(c=o),o>f&&(f=o));if(l>d||c>f)return this;for(this.cover(l,c).cover(d,f),n=0;n<r;++n)Q2(this,a[n],s[n],e[n]);return this}function s8(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,s=this._root,l,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,a*=2,c){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function l8(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function u8(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ge(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function c8(e,t,n){var r,i=this._x0,o=this._y0,a,s,l,c,d=this._x1,f=this._y1,h=[],g=this._root,v,p;for(g&&h.push(new Ge(g,i,o,d,f)),n==null?n=1/0:(i=e-n,o=t-n,d=e+n,f=t+n,n*=n);v=h.pop();)if(!(!(g=v.node)||(a=v.x0)>d||(s=v.y0)>f||(l=v.x1)<i||(c=v.y1)<o))if(g.length){var w=(a+l)/2,m=(s+c)/2;h.push(new Ge(g[3],w,m,l,c),new Ge(g[2],a,m,w,c),new Ge(g[1],w,s,l,m),new Ge(g[0],a,s,w,m)),(p=(t>=m)<<1|e>=w)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=v)}else{var y=e-+this._x.call(null,g.data),_=t-+this._y.call(null,g.data),x=y*y+_*_;if(x<n){var b=Math.sqrt(n=x);i=e-b,o=t-b,d=e+b,f=t+b,r=g.data}}return r}function d8(e){if(isNaN(d=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._x1,c=this._y1,d,f,h,g,v,p,w,m;if(!n)return this;if(n.length)for(;;){if((v=d>=(h=(a+l)/2))?a=h:l=h,(p=f>=(g=(s+c)/2))?s=g:c=g,t=n,!(n=n[w=p<<1|v]))return this;if(!n.length)break;(t[w+1&3]||t[w+2&3]||t[w+3&3])&&(r=t,m=w)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[w]=o:delete t[w],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[m]=n:this._root=n),this):(this._root=o,this)}function f8(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function h8(){return this._root}function p8(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function g8(e){var t=[],n,r=this._root,i,o,a,s,l;for(r&&t.push(new Ge(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(o+s)/2,d=(a+l)/2;(i=r[3])&&t.push(new Ge(i,c,d,s,l)),(i=r[2])&&t.push(new Ge(i,o,d,c,l)),(i=r[1])&&t.push(new Ge(i,c,a,s,d)),(i=r[0])&&t.push(new Ge(i,o,a,c,d))}return this}function m8(e){var t=[],n=[],r;for(this._root&&t.push(new Ge(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.x1,c=r.y1,d=(a+l)/2,f=(s+c)/2;(o=i[0])&&t.push(new Ge(o,a,s,d,f)),(o=i[1])&&t.push(new Ge(o,d,s,l,f)),(o=i[2])&&t.push(new Ge(o,a,f,d,c)),(o=i[3])&&t.push(new Ge(o,d,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function v8(e){return e[0]}function y8(e){return arguments.length?(this._x=e,this):this._x}function x8(e){return e[1]}function _8(e){return arguments.length?(this._y=e,this):this._y}function Sm(e,t,n){var r=new Cm(t??v8,n??x8,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Cm(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Py(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Xe=Sm.prototype=Cm.prototype;Xe.copy=function(){var e=new Cm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Py(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Py(r));return e};Xe.add=o8;Xe.addAll=a8;Xe.cover=s8;Xe.data=l8;Xe.extent=u8;Xe.find=c8;Xe.remove=d8;Xe.removeAll=f8;Xe.root=h8;Xe.size=p8;Xe.visit=g8;Xe.visitAfter=m8;Xe.x=y8;Xe.y=_8;function mr(e){return function(){return e}}function qn(e){return(e()-.5)*1e-6}function w8(e){return e.x+e.vx}function b8(e){return e.y+e.vy}function S8(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=mr(e==null?1:+e));function a(){for(var c,d=t.length,f,h,g,v,p,w,m=0;m<o;++m)for(f=Sm(t,w8,b8).visitAfter(s),c=0;c<d;++c)h=t[c],p=n[h.index],w=p*p,g=h.x+h.vx,v=h.y+h.vy,f.visit(y);function y(_,x,b,j,S){var k=_.data,E=_.r,T=p+E;if(k){if(k.index>h.index){var N=g-k.x-k.vx,F=v-k.y-k.vy,H=N*N+F*F;H<T*T&&(N===0&&(N=qn(r),H+=N*N),F===0&&(F=qn(r),H+=F*F),H=(T-(H=Math.sqrt(H)))/H*i,h.vx+=(N*=H)*(T=(E*=E)/(w+E)),h.vy+=(F*=H)*T,k.vx-=N*(T=1-T),k.vy-=F*T)}return}return x>g+T||j<g-T||b>v+T||S<v-T}}function s(c){if(c.data)return c.r=n[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(t){var c,d=t.length,f;for(n=new Array(d),c=0;c<d;++c)f=t[c],n[f.index]=+e(f,c,t)}}return a.initialize=function(c,d){t=c,r=d,l()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:mr(+c),l(),a):e},a}function C8(e){return e.index}function Ly(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function k8(e){var t=C8,n=f,r,i=mr(30),o,a,s,l,c,d=1;e==null&&(e=[]);function f(w){return 1/Math.min(s[w.source.index],s[w.target.index])}function h(w){for(var m=0,y=e.length;m<d;++m)for(var _=0,x,b,j,S,k,E,T;_<y;++_)x=e[_],b=x.source,j=x.target,S=j.x+j.vx-b.x-b.vx||qn(c),k=j.y+j.vy-b.y-b.vy||qn(c),E=Math.sqrt(S*S+k*k),E=(E-o[_])/E*w*r[_],S*=E,k*=E,j.vx-=S*(T=l[_]),j.vy-=k*T,b.vx+=S*(T=1-T),b.vy+=k*T}function g(){if(a){var w,m=a.length,y=e.length,_=new Map(a.map((b,j)=>[t(b,j,a),b])),x;for(w=0,s=new Array(m);w<y;++w)x=e[w],x.index=w,typeof x.source!="object"&&(x.source=Ly(_,x.source)),typeof x.target!="object"&&(x.target=Ly(_,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(w=0,l=new Array(y);w<y;++w)x=e[w],l[w]=s[x.source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(y),v(),o=new Array(y),p()}}function v(){if(a)for(var w=0,m=e.length;w<m;++w)r[w]=+n(e[w],w,e)}function p(){if(a)for(var w=0,m=e.length;w<m;++w)o[w]=+i(e[w],w,e)}return h.initialize=function(w,m){a=w,c=m,g()},h.links=function(w){return arguments.length?(e=w,g(),h):e},h.id=function(w){return arguments.length?(t=w,h):t},h.iterations=function(w){return arguments.length?(d=+w,h):d},h.strength=function(w){return arguments.length?(n=typeof w=="function"?w:mr(+w),v(),h):n},h.distance=function(w){return arguments.length?(i=typeof w=="function"?w:mr(+w),p(),h):i},h}const j8=1664525,E8=1013904223,zy=4294967296;function T8(){let e=1;return()=>(e=(j8*e+E8)%zy)/zy}function R8(e){return e.x}function I8(e){return e.y}var M8=10,N8=Math.PI*(3-Math.sqrt(5));function A8(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=_m(f),c=Bo("tick","end"),d=T8();e==null&&(e=[]);function f(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(p){var w,m=e.length,y;p===void 0&&(p=1);for(var _=0;_<p;++_)for(n+=(o-n)*i,s.forEach(function(x){x(n)}),w=0;w<m;++w)y=e[w],y.fx==null?y.x+=y.vx*=a:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=a:(y.y=y.fy,y.vy=0);return t}function g(){for(var p=0,w=e.length,m;p<w;++p){if(m=e[p],m.index=p,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=M8*Math.sqrt(.5+p),_=p*N8;m.x=y*Math.cos(_),m.y=y*Math.sin(_)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function v(p){return p.initialize&&p.initialize(e,d),p}return g(),t={tick:h,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(e=p,g(),s.forEach(v),t):e},alpha:function(p){return arguments.length?(n=+p,t):n},alphaMin:function(p){return arguments.length?(r=+p,t):r},alphaDecay:function(p){return arguments.length?(i=+p,t):+i},alphaTarget:function(p){return arguments.length?(o=+p,t):o},velocityDecay:function(p){return arguments.length?(a=1-p,t):1-a},randomSource:function(p){return arguments.length?(d=p,s.forEach(v),t):d},force:function(p,w){return arguments.length>1?(w==null?s.delete(p):s.set(p,v(w)),t):s.get(p)},find:function(p,w,m){var y=0,_=e.length,x,b,j,S,k;for(m==null?m=1/0:m*=m,y=0;y<_;++y)S=e[y],x=p-S.x,b=w-S.y,j=x*x+b*b,j<m&&(k=S,m=j);return k},on:function(p,w){return arguments.length>1?(c.on(p,w),t):c.on(p)}}}function P8(){var e,t,n,r,i=mr(-30),o,a=1,s=1/0,l=.81;function c(g){var v,p=e.length,w=Sm(e,R8,I8).visitAfter(f);for(r=g,v=0;v<p;++v)t=e[v],w.visit(h)}function d(){if(e){var g,v=e.length,p;for(o=new Array(v),g=0;g<v;++g)p=e[g],o[p.index]=+i(p,g,e)}}function f(g){var v=0,p,w,m=0,y,_,x;if(g.length){for(y=_=x=0;x<4;++x)(p=g[x])&&(w=Math.abs(p.value))&&(v+=p.value,m+=w,y+=w*p.x,_+=w*p.y);g.x=y/m,g.y=_/m}else{p=g,p.x=p.data.x,p.y=p.data.y;do v+=o[p.data.index];while(p=p.next)}g.value=v}function h(g,v,p,w){if(!g.value)return!0;var m=g.x-t.x,y=g.y-t.y,_=w-v,x=m*m+y*y;if(_*_/l<x)return x<s&&(m===0&&(m=qn(n),x+=m*m),y===0&&(y=qn(n),x+=y*y),x<a&&(x=Math.sqrt(a*x)),t.vx+=m*g.value*r/x,t.vy+=y*g.value*r/x),!0;if(g.length||x>=s)return;(g.data!==t||g.next)&&(m===0&&(m=qn(n),x+=m*m),y===0&&(y=qn(n),x+=y*y),x<a&&(x=Math.sqrt(a*x)));do g.data!==t&&(_=o[g.data.index]*r/x,t.vx+=m*_,t.vy+=y*_);while(g=g.next)}return c.initialize=function(g,v){e=g,n=v,d()},c.strength=function(g){return arguments.length?(i=typeof g=="function"?g:mr(+g),d(),c):i},c.distanceMin=function(g){return arguments.length?(a=g*g,c):Math.sqrt(a)},c.distanceMax=function(g){return arguments.length?(s=g*g,c):Math.sqrt(s)},c.theta=function(g){return arguments.length?(l=g*g,c):Math.sqrt(l)},c}function zr(e){return function(){return e}}function L8(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new r8(t)}function z8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function J2(e){this._context=e}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q8(e){return new J2(e)}function O8(e){return e[0]}function D8(e){return e[1]}function B8(e,t){var n=zr(!0),r=null,i=q8,o=null,a=L8(s);e=typeof e=="function"?e:e===void 0?O8:zr(e),t=typeof t=="function"?t:t===void 0?D8:zr(t);function s(l){var c,d=(l=z8(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:zr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:zr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:zr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function qy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Z2(e){this._context=e}Z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F8(e){return new Z2(e)}const xa=e=>()=>e;function $8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ln(e,t,n){this.k=e,this.x=t,this.y=n}ln.prototype={constructor:ln,scale:function(e){return e===1?this:new ln(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ln(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bs=new ln(1,0,0);ln.prototype;function Jl(e){e.stopImmediatePropagation()}function Di(e){e.preventDefault(),e.stopImmediatePropagation()}function U8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function W8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Oy(){return this.__zoom||bs}function H8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function G8(){return navigator.maxTouchPoints||"ontouchstart"in this}function V8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function eC(){var e=U8,t=W8,n=V8,r=H8,i=G8,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=U6,c=Bo("start","zoom","end"),d,f,h,g=500,v=150,p=0,w=10;function m(R){R.property("__zoom",Oy).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(R,D,A,z){var I=R.selection?R.selection():R;I.property("__zoom",Oy),R!==I?b(R,D,A,z):I.interrupt().each(function(){j(this,arguments).event(z).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},m.scaleBy=function(R,D,A,z){m.scaleTo(R,function(){var I=this.__zoom.k,P=typeof D=="function"?D.apply(this,arguments):D;return I*P},A,z)},m.scaleTo=function(R,D,A,z){m.transform(R,function(){var I=t.apply(this,arguments),P=this.__zoom,q=A==null?x(I):typeof A=="function"?A.apply(this,arguments):A,G=P.invert(q),K=typeof D=="function"?D.apply(this,arguments):D;return n(_(y(P,K),q,G),I,a)},A,z)},m.translateBy=function(R,D,A,z){m.transform(R,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),a)},null,z)},m.translateTo=function(R,D,A,z,I){m.transform(R,function(){var P=t.apply(this,arguments),q=this.__zoom,G=z==null?x(P):typeof z=="function"?z.apply(this,arguments):z;return n(bs.translate(G[0],G[1]).scale(q.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof A=="function"?-A.apply(this,arguments):-A),P,a)},z,I)};function y(R,D){return D=Math.max(o[0],Math.min(o[1],D)),D===R.k?R:new ln(D,R.x,R.y)}function _(R,D,A){var z=D[0]-A[0]*R.k,I=D[1]-A[1]*R.k;return z===R.x&&I===R.y?R:new ln(R.k,z,I)}function x(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function b(R,D,A,z){R.on("start.zoom",function(){j(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(z).end()}).tween("zoom",function(){var I=this,P=arguments,q=j(I,P).event(z),G=t.apply(I,P),K=A==null?x(G):typeof A=="function"?A.apply(I,P):A,be=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),oe=I.__zoom,Se=typeof D=="function"?D.apply(I,P):D,ge=l(oe.invert(K).concat(be/oe.k),Se.invert(K).concat(be/Se.k));return function(Ce){if(Ce===1)Ce=Se;else{var Qe=ge(Ce),wn=be/Qe[2];Ce=new ln(wn,K[0]-Qe[0]*wn,K[1]-Qe[1]*wn)}q.zoom(null,Ce)}})}function j(R,D,A){return!A&&R.__zooming||new S(R,D)}function S(R,D){this.that=R,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,D),this.taps=0}S.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,D){return this.mouse&&R!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var D=He(this.that).datum();c.call(R,this.that,new $8(R,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),D)}};function k(R,...D){if(!e.apply(this,arguments))return;var A=j(this,D).event(R),z=this.__zoom,I=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),P=nn(R);if(A.wheel)(A.mouse[0][0]!==P[0]||A.mouse[0][1]!==P[1])&&(A.mouse[1]=z.invert(A.mouse[0]=P)),clearTimeout(A.wheel);else{if(z.k===I)return;A.mouse=[P,z.invert(P)],$a(this),A.start()}Di(R),A.wheel=setTimeout(q,v),A.zoom("mouse",n(_(y(z,I),A.mouse[0],A.mouse[1]),A.extent,a));function q(){A.wheel=null,A.end()}}function E(R,...D){if(h||!e.apply(this,arguments))return;var A=R.currentTarget,z=j(this,D,!0).event(R),I=He(R.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",be,!0),P=nn(R,A),q=R.clientX,G=R.clientY;z2(R.view),Jl(R),z.mouse=[P,this.__zoom.invert(P)],$a(this),z.start();function K(oe){if(Di(oe),!z.moved){var Se=oe.clientX-q,ge=oe.clientY-G;z.moved=Se*Se+ge*ge>p}z.event(oe).zoom("mouse",n(_(z.that.__zoom,z.mouse[0]=nn(oe,A),z.mouse[1]),z.extent,a))}function be(oe){I.on("mousemove.zoom mouseup.zoom",null),q2(oe.view,z.moved),Di(oe),z.event(oe).end()}}function T(R,...D){if(e.apply(this,arguments)){var A=this.__zoom,z=nn(R.changedTouches?R.changedTouches[0]:R,this),I=A.invert(z),P=A.k*(R.shiftKey?.5:2),q=n(_(y(A,P),z,I),t.apply(this,D),a);Di(R),s>0?He(this).transition().duration(s).call(b,q,z,R):He(this).call(m.transform,q,z,R)}}function N(R,...D){if(e.apply(this,arguments)){var A=R.touches,z=A.length,I=j(this,D,R.changedTouches.length===z).event(R),P,q,G,K;for(Jl(R),q=0;q<z;++q)G=A[q],K=nn(G,this),K=[K,this.__zoom.invert(K),G.identifier],I.touch0?!I.touch1&&I.touch0[2]!==K[2]&&(I.touch1=K,I.taps=0):(I.touch0=K,P=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(I.taps<2&&(f=K[0],d=setTimeout(function(){d=null},g)),$a(this),I.start())}}function F(R,...D){if(this.__zooming){var A=j(this,D).event(R),z=R.changedTouches,I=z.length,P,q,G,K;for(Di(R),P=0;P<I;++P)q=z[P],G=nn(q,this),A.touch0&&A.touch0[2]===q.identifier?A.touch0[0]=G:A.touch1&&A.touch1[2]===q.identifier&&(A.touch1[0]=G);if(q=A.that.__zoom,A.touch1){var be=A.touch0[0],oe=A.touch0[1],Se=A.touch1[0],ge=A.touch1[1],Ce=(Ce=Se[0]-be[0])*Ce+(Ce=Se[1]-be[1])*Ce,Qe=(Qe=ge[0]-oe[0])*Qe+(Qe=ge[1]-oe[1])*Qe;q=y(q,Math.sqrt(Ce/Qe)),G=[(be[0]+Se[0])/2,(be[1]+Se[1])/2],K=[(oe[0]+ge[0])/2,(oe[1]+ge[1])/2]}else if(A.touch0)G=A.touch0[0],K=A.touch0[1];else return;A.zoom("touch",n(_(q,G,K),A.extent,a))}}function H(R,...D){if(this.__zooming){var A=j(this,D).event(R),z=R.changedTouches,I=z.length,P,q;for(Jl(R),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),P=0;P<I;++P)q=z[P],A.touch0&&A.touch0[2]===q.identifier?delete A.touch0:A.touch1&&A.touch1[2]===q.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(q=nn(q,this),Math.hypot(f[0]-q[0],f[1]-q[1])<w)){var G=He(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return m.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:xa(+R),m):r},m.filter=function(R){return arguments.length?(e=typeof R=="function"?R:xa(!!R),m):e},m.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:xa(!!R),m):i},m.extent=function(R){return arguments.length?(t=typeof R=="function"?R:xa([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),m):t},m.scaleExtent=function(R){return arguments.length?(o[0]=+R[0],o[1]=+R[1],m):[o[0],o[1]]},m.translateExtent=function(R){return arguments.length?(a[0][0]=+R[0][0],a[1][0]=+R[1][0],a[0][1]=+R[0][1],a[1][1]=+R[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(R){return arguments.length?(n=R,m):n},m.duration=function(R){return arguments.length?(s=+R,m):s},m.interpolate=function(R){return arguments.length?(l=R,m):l},m.on=function(){var R=c.on.apply(c,arguments);return R===c?m:R},m.clickDistance=function(R){return arguments.length?(p=(R=+R)*R,m):Math.sqrt(p)},m.tapDistance=function(R){return arguments.length?(w=+R,m):w},m}const Y8=({value:e,onChange:t,showAll:n=!0})=>{const r=n?["all",...py]:[...py];return u.jsx("div",{style:Zl.container,children:r.map(i=>u.jsx("button",{onClick:()=>t(i),style:{...Zl.button,...e===i?Zl.buttonActive:{},...i!=="all"?{borderLeftColor:Ne(i)}:{}},children:i==="all"?"All":i.charAt(0).toUpperCase()+i.slice(1)},i))})},Zl={container:{display:"flex",gap:"4px",flexWrap:"wrap"},button:{padding:"6px 12px",fontSize:"11px",border:"1px solid #d0d7de",borderLeft:"3px solid transparent",backgroundColor:"#ffffff",color:"#57606a",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},buttonActive:{backgroundColor:"#ddf4ff",color:"#0969da",borderColor:"#0969da"}},K8=({graphData:e})=>{const t=C.useRef(null),n=C.useRef(null),[r,i]=C.useState(null),[o,a]=C.useState("all"),[s,l]=C.useState(""),c=C.useRef(null),d=C.useCallback(g=>{i(g)},[]),f=C.useCallback(g=>{const v=e.nodes.find(p=>p.id===g);v&&i(v)},[e.nodes]),h=C.useCallback(()=>{i(null)},[]);return C.useEffect(()=>{if(!t.current||!n.current)return;const g=He(t.current),v=n.current,p=v.clientWidth,w=v.clientHeight;g.selectAll("*").remove();const m=g.append("g"),y=eC().scaleExtent([.1,4]).on("zoom",E=>m.attr("transform",E.transform));g.call(y);const _=e.nodes.map(E=>({...E})),x=new Map(_.map(E=>[E.id,E])),b=e.edges.map(E=>({source:x.get(E.from_node_id),target:x.get(E.to_node_id),type:E.edge_type,rationale:E.rationale})).filter(E=>E.source&&E.target),j=A8(_).force("link",k8(b).id(E=>E.id).distance(80)).force("charge",P8().strength(-200)).force("center",i8(p/2,w/2)).force("collision",S8().radius(30));c.current=j;const S=m.append("g").selectAll("line").data(b).join("line").attr("class","link").attr("stroke",E=>E.type==="chosen"?"#22c55e":E.type==="rejected"?"#ef4444":"#3b82f6").attr("stroke-width",1.5).attr("stroke-opacity",.6).attr("stroke-dasharray",E=>E.type==="rejected"?"5,5":null),k=m.append("g").selectAll(".node").data(_).join("g").attr("class","node").style("cursor","pointer").call(v6().on("start",(E,T)=>{E.active||j.alphaTarget(.3).restart(),T.fx=T.x,T.fy=T.y}).on("drag",(E,T)=>{T.fx=E.x,T.fy=E.y}).on("end",(E,T)=>{E.active||j.alphaTarget(0),T.fx=null,T.fy=null}));return k.append("circle").attr("r",E=>E.node_type==="goal"?18:E.node_type==="decision"?15:12).attr("fill",E=>Ne(E.node_type)).attr("stroke","#fff").attr("stroke-width",2),k.filter(E=>E.node_type==="goal"||E.node_type==="decision").append("text").attr("dy",30).attr("text-anchor","middle").attr("fill","#57606a").attr("font-size","10px").text(E=>It(E.title,20)),k.on("click",(E,T)=>{d(T)}),k.append("title").text(E=>{const T=Gs(E);return`${E.title}
${E.node_type}${T!==null?`  ${T}%`:""}`}),j.on("tick",()=>{S.attr("x1",E=>E.source.x).attr("y1",E=>E.source.y).attr("x2",E=>E.target.x).attr("y2",E=>E.target.y),k.attr("transform",E=>`translate(${E.x},${E.y})`)}),()=>{j.stop()}},[e,d]),C.useEffect(()=>{if(!t.current)return;const g=He(t.current),v=s.toLowerCase();g.selectAll(".node").style("opacity",p=>{var w;return s&&!(p.title.toLowerCase().includes(v)||(((w=p.description)==null?void 0:w.toLowerCase().includes(v))??!1))||o!=="all"&&p.node_type!==o?.15:1})},[o,s]),C.useEffect(()=>{if(!t.current)return;const g=He(t.current);g.selectAll(".node").classed("selected",v=>v.id===(r==null?void 0:r.id)),g.selectAll(".link").attr("stroke-width",v=>v.source.id===(r==null?void 0:r.id)||v.target.id===(r==null?void 0:r.id)?3:1.5).attr("stroke-opacity",v=>v.source.id===(r==null?void 0:r.id)||v.target.id===(r==null?void 0:r.id)?1:.6)},[r]),u.jsxs("div",{style:Dt.container,children:[u.jsxs("div",{style:Dt.controls,children:[u.jsx("h2",{style:Dt.title,children:"Graph Explorer"}),u.jsx(Y8,{value:o,onChange:a}),u.jsx("input",{type:"text",placeholder:"Search nodes...",value:s,onChange:g=>l(g.target.value),style:Dt.search}),u.jsx("div",{style:Dt.legend,children:Object.entries(pm).map(([g,v])=>u.jsxs("div",{style:Dt.legendItem,children:[u.jsx("div",{style:{...Dt.legendDot,backgroundColor:v}}),u.jsx("span",{children:g.charAt(0).toUpperCase()+g.slice(1)})]},g))})]}),u.jsx("div",{ref:n,style:Dt.svgContainer,children:u.jsx("svg",{ref:t,style:Dt.svg})}),r&&u.jsx("div",{style:Dt.detailPanel,children:u.jsx(Do,{node:r,graphData:e,onSelectNode:f,onClose:h})})]})},Dt={container:{height:"100%",display:"flex",position:"relative",backgroundColor:"#ffffff"},controls:{position:"absolute",top:"20px",left:"20px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px",borderRadius:"8px",zIndex:10,maxWidth:"250px"},title:{fontSize:"16px",margin:"0 0 12px 0",color:"#24292f"},search:{width:"100%",padding:"8px 12px",marginTop:"12px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"13px"},legend:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"6px"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#57606a"},legendDot:{width:"10px",height:"10px",borderRadius:"50%"},svgContainer:{flex:1,height:"100%"},svg:{width:"100%",height:"100%"},detailPanel:{position:"absolute",top:"20px",right:"20px",bottom:"20px",width:"350px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",padding:"20px",overflowY:"auto",zIndex:10}};function km(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eu,Dy;function X8(){if(Dy)return eu;Dy=1;function e(){this.__data__=[],this.size=0}return eu=e,eu}var tu,By;function wi(){if(By)return tu;By=1;function e(t,n){return t===n||t!==t&&n!==n}return tu=e,tu}var nu,Fy;function Xs(){if(Fy)return nu;Fy=1;var e=wi();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return nu=t,nu}var ru,$y;function Q8(){if($y)return ru;$y=1;var e=Xs(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return ru=r,ru}var iu,Uy;function J8(){if(Uy)return iu;Uy=1;var e=Xs();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return iu=t,iu}var ou,Wy;function Z8(){if(Wy)return ou;Wy=1;var e=Xs();function t(n){return e(this.__data__,n)>-1}return ou=t,ou}var au,Hy;function e5(){if(Hy)return au;Hy=1;var e=Xs();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return au=t,au}var su,Gy;function Qs(){if(Gy)return su;Gy=1;var e=X8(),t=Q8(),n=J8(),r=Z8(),i=e5();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,su=o,su}var lu,Vy;function t5(){if(Vy)return lu;Vy=1;var e=Qs();function t(){this.__data__=new e,this.size=0}return lu=t,lu}var uu,Yy;function n5(){if(Yy)return uu;Yy=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return uu=e,uu}var cu,Ky;function r5(){if(Ky)return cu;Ky=1;function e(t){return this.__data__.get(t)}return cu=e,cu}var du,Xy;function i5(){if(Xy)return du;Xy=1;function e(t){return this.__data__.has(t)}return du=e,du}var fu,Qy;function tC(){if(Qy)return fu;Qy=1;var e=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo;return fu=e,fu}var hu,Jy;function Lt(){if(Jy)return hu;Jy=1;var e=tC(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return hu=n,hu}var pu,Zy;function bi(){if(Zy)return pu;Zy=1;var e=Lt(),t=e.Symbol;return pu=t,pu}var gu,ex;function o5(){if(ex)return gu;ex=1;var e=bi(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(s?a[i]=l:delete a[i]),d}return gu=o,gu}var mu,tx;function a5(){if(tx)return mu;tx=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return mu=n,mu}var vu,nx;function Tr(){if(nx)return vu;nx=1;var e=bi(),t=o5(),n=a5(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return vu=a,vu}var yu,rx;function bt(){if(rx)return yu;rx=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return yu=e,yu}var xu,ix;function Uo(){if(ix)return xu;ix=1;var e=Tr(),t=bt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return xu=a,xu}var _u,ox;function s5(){if(ox)return _u;ox=1;var e=Lt(),t=e["__core-js_shared__"];return _u=t,_u}var wu,ax;function l5(){if(ax)return wu;ax=1;var e=s5(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return wu=n,wu}var bu,sx;function nC(){if(sx)return bu;sx=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return bu=n,bu}var Su,lx;function u5(){if(lx)return Su;lx=1;var e=Uo(),t=l5(),n=bt(),r=nC(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var g=e(h)?d:o;return g.test(r(h))}return Su=f,Su}var Cu,ux;function c5(){if(ux)return Cu;ux=1;function e(t,n){return t==null?void 0:t[n]}return Cu=e,Cu}var ku,cx;function Rr(){if(cx)return ku;cx=1;var e=u5(),t=c5();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return ku=n,ku}var ju,dx;function jm(){if(dx)return ju;dx=1;var e=Rr(),t=Lt(),n=e(t,"Map");return ju=n,ju}var Eu,fx;function Js(){if(fx)return Eu;fx=1;var e=Rr(),t=e(Object,"create");return Eu=t,Eu}var Tu,hx;function d5(){if(hx)return Tu;hx=1;var e=Js();function t(){this.__data__=e?e(null):{},this.size=0}return Tu=t,Tu}var Ru,px;function f5(){if(px)return Ru;px=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Ru=e,Ru}var Iu,gx;function h5(){if(gx)return Iu;gx=1;var e=Js(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return Iu=i,Iu}var Mu,mx;function p5(){if(mx)return Mu;mx=1;var e=Js(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Mu=r,Mu}var Nu,vx;function g5(){if(vx)return Nu;vx=1;var e=Js(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Nu=n,Nu}var Au,yx;function m5(){if(yx)return Au;yx=1;var e=d5(),t=f5(),n=h5(),r=p5(),i=g5();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Au=o,Au}var Pu,xx;function v5(){if(xx)return Pu;xx=1;var e=m5(),t=Qs(),n=jm();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Pu=r,Pu}var Lu,_x;function y5(){if(_x)return Lu;_x=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Lu=e,Lu}var zu,wx;function Zs(){if(wx)return zu;wx=1;var e=y5();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return zu=t,zu}var qu,bx;function x5(){if(bx)return qu;bx=1;var e=Zs();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return qu=t,qu}var Ou,Sx;function _5(){if(Sx)return Ou;Sx=1;var e=Zs();function t(n){return e(this,n).get(n)}return Ou=t,Ou}var Du,Cx;function w5(){if(Cx)return Du;Cx=1;var e=Zs();function t(n){return e(this,n).has(n)}return Du=t,Du}var Bu,kx;function b5(){if(kx)return Bu;kx=1;var e=Zs();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Bu=t,Bu}var Fu,jx;function Em(){if(jx)return Fu;jx=1;var e=v5(),t=x5(),n=_5(),r=w5(),i=b5();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Fu=o,Fu}var $u,Ex;function S5(){if(Ex)return $u;Ex=1;var e=Qs(),t=jm(),n=Em(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return $u=i,$u}var Uu,Tx;function el(){if(Tx)return Uu;Tx=1;var e=Qs(),t=t5(),n=n5(),r=r5(),i=i5(),o=S5();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Uu=a,Uu}var Wu,Rx;function Tm(){if(Rx)return Wu;Rx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Wu=e,Wu}var Hu,Ix;function rC(){if(Ix)return Hu;Ix=1;var e=Rr(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Hu=t,Hu}var Gu,Mx;function tl(){if(Mx)return Gu;Mx=1;var e=rC();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Gu=t,Gu}var Vu,Nx;function nl(){if(Nx)return Vu;Nx=1;var e=tl(),t=wi(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var l=o[a];(!(r.call(o,a)&&t(l,s))||s===void 0&&!(a in o))&&e(o,a,s)}return Vu=i,Vu}var Yu,Ax;function Wo(){if(Ax)return Yu;Ax=1;var e=nl(),t=tl();function n(r,i,o,a){var s=!o;o||(o={});for(var l=-1,c=i.length;++l<c;){var d=i[l],f=a?a(o[d],r[d],d,o,r):void 0;f===void 0&&(f=r[d]),s?t(o,d,f):e(o,d,f)}return o}return Yu=n,Yu}var Ku,Px;function C5(){if(Px)return Ku;Px=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Ku=e,Ku}var Xu,Lx;function Kt(){if(Lx)return Xu;Lx=1;function e(t){return t!=null&&typeof t=="object"}return Xu=e,Xu}var Qu,zx;function k5(){if(zx)return Qu;zx=1;var e=Tr(),t=Kt(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Qu=r,Qu}var Ju,qx;function Ho(){if(qx)return Ju;qx=1;var e=k5(),t=Kt(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Ju=o,Ju}var Zu,Ox;function Ee(){if(Ox)return Zu;Ox=1;var e=Array.isArray;return Zu=e,Zu}var Yi={exports:{}},ec,Dx;function j5(){if(Dx)return ec;Dx=1;function e(){return!1}return ec=e,ec}Yi.exports;var Bx;function Si(){return Bx||(Bx=1,function(e,t){var n=Lt(),r=j5(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c}(Yi,Yi.exports)),Yi.exports}var tc,Fx;function rl(){if(Fx)return tc;Fx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return tc=n,tc}var nc,$x;function Rm(){if($x)return nc;$x=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return nc=t,nc}var rc,Ux;function E5(){if(Ux)return rc;Ux=1;var e=Tr(),t=Rm(),n=Kt(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",g="[object Set]",v="[object String]",p="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",b="[object Int16Array]",j="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",N={};N[y]=N[_]=N[x]=N[b]=N[j]=N[S]=N[k]=N[E]=N[T]=!0,N[r]=N[i]=N[w]=N[o]=N[m]=N[a]=N[s]=N[l]=N[c]=N[d]=N[f]=N[h]=N[g]=N[v]=N[p]=!1;function F(H){return n(H)&&t(H.length)&&!!N[e(H)]}return rc=F,rc}var ic,Wx;function il(){if(Wx)return ic;Wx=1;function e(t){return function(n){return t(n)}}return ic=e,ic}var Ki={exports:{}};Ki.exports;var Hx;function Im(){return Hx||(Hx=1,function(e,t){var n=tC(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Ki,Ki.exports)),Ki.exports}var oc,Gx;function Go(){if(Gx)return oc;Gx=1;var e=E5(),t=il(),n=Im(),r=n&&n.isTypedArray,i=r?t(r):e;return oc=i,oc}var ac,Vx;function iC(){if(Vx)return ac;Vx=1;var e=C5(),t=Ho(),n=Ee(),r=Si(),i=rl(),o=Go(),a=Object.prototype,s=a.hasOwnProperty;function l(c,d){var f=n(c),h=!f&&t(c),g=!f&&!h&&r(c),v=!f&&!h&&!g&&o(c),p=f||h||g||v,w=p?e(c.length,String):[],m=w.length;for(var y in c)(d||s.call(c,y))&&!(p&&(y=="length"||g&&(y=="offset"||y=="parent")||v&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&w.push(y);return w}return ac=l,ac}var sc,Yx;function ol(){if(Yx)return sc;Yx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return sc=t,sc}var lc,Kx;function oC(){if(Kx)return lc;Kx=1;function e(t,n){return function(r){return t(n(r))}}return lc=e,lc}var uc,Xx;function T5(){if(Xx)return uc;Xx=1;var e=oC(),t=e(Object.keys,Object);return uc=t,uc}var cc,Qx;function Mm(){if(Qx)return cc;Qx=1;var e=ol(),t=T5(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return cc=i,cc}var dc,Jx;function xn(){if(Jx)return dc;Jx=1;var e=Uo(),t=Rm();function n(r){return r!=null&&t(r.length)&&!e(r)}return dc=n,dc}var fc,Zx;function rr(){if(Zx)return fc;Zx=1;var e=iC(),t=Mm(),n=xn();function r(i){return n(i)?e(i):t(i)}return fc=r,fc}var hc,e0;function R5(){if(e0)return hc;e0=1;var e=Wo(),t=rr();function n(r,i){return r&&e(i,t(i),r)}return hc=n,hc}var pc,t0;function I5(){if(t0)return pc;t0=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return pc=e,pc}var gc,n0;function M5(){if(n0)return gc;n0=1;var e=bt(),t=ol(),n=I5(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),l=[];for(var c in a)c=="constructor"&&(s||!i.call(a,c))||l.push(c);return l}return gc=o,gc}var mc,r0;function Ir(){if(r0)return mc;r0=1;var e=iC(),t=M5(),n=xn();function r(i){return n(i)?e(i,!0):t(i)}return mc=r,mc}var vc,i0;function N5(){if(i0)return vc;i0=1;var e=Wo(),t=Ir();function n(r,i){return r&&e(i,t(i),r)}return vc=n,vc}var Xi={exports:{}};Xi.exports;var o0;function aC(){return o0||(o0=1,function(e,t){var n=Lt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var f=c.length,h=s?s(f):new c.constructor(f);return c.copy(h),h}e.exports=l}(Xi,Xi.exports)),Xi.exports}var yc,a0;function sC(){if(a0)return yc;a0=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return yc=e,yc}var xc,s0;function lC(){if(s0)return xc;s0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return xc=e,xc}var _c,l0;function uC(){if(l0)return _c;l0=1;function e(){return[]}return _c=e,_c}var wc,u0;function Nm(){if(u0)return wc;u0=1;var e=lC(),t=uC(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return wc=o,wc}var bc,c0;function A5(){if(c0)return bc;c0=1;var e=Wo(),t=Nm();function n(r,i){return e(r,t(r),i)}return bc=n,bc}var Sc,d0;function Am(){if(d0)return Sc;d0=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Sc=e,Sc}var Cc,f0;function al(){if(f0)return Cc;f0=1;var e=oC(),t=e(Object.getPrototypeOf,Object);return Cc=t,Cc}var kc,h0;function cC(){if(h0)return kc;h0=1;var e=Am(),t=al(),n=Nm(),r=uC(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return kc=o,kc}var jc,p0;function P5(){if(p0)return jc;p0=1;var e=Wo(),t=cC();function n(r,i){return e(r,t(r),i)}return jc=n,jc}var Ec,g0;function dC(){if(g0)return Ec;g0=1;var e=Am(),t=Ee();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return Ec=n,Ec}var Tc,m0;function fC(){if(m0)return Tc;m0=1;var e=dC(),t=Nm(),n=rr();function r(i){return e(i,n,t)}return Tc=r,Tc}var Rc,v0;function L5(){if(v0)return Rc;v0=1;var e=dC(),t=cC(),n=Ir();function r(i){return e(i,n,t)}return Rc=r,Rc}var Ic,y0;function z5(){if(y0)return Ic;y0=1;var e=Rr(),t=Lt(),n=e(t,"DataView");return Ic=n,Ic}var Mc,x0;function q5(){if(x0)return Mc;x0=1;var e=Rr(),t=Lt(),n=e(t,"Promise");return Mc=n,Mc}var Nc,_0;function hC(){if(_0)return Nc;_0=1;var e=Rr(),t=Lt(),n=e(t,"Set");return Nc=n,Nc}var Ac,w0;function O5(){if(w0)return Ac;w0=1;var e=Rr(),t=Lt(),n=e(t,"WeakMap");return Ac=n,Ac}var Pc,b0;function Ci(){if(b0)return Pc;b0=1;var e=z5(),t=jm(),n=q5(),r=hC(),i=O5(),o=Tr(),a=nC(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",g=a(e),v=a(t),p=a(n),w=a(r),m=a(i),y=o;return(e&&y(new e(new ArrayBuffer(1)))!=h||t&&y(new t)!=s||n&&y(n.resolve())!=c||r&&y(new r)!=d||i&&y(new i)!=f)&&(y=function(_){var x=o(_),b=x==l?_.constructor:void 0,j=b?a(b):"";if(j)switch(j){case g:return h;case v:return s;case p:return c;case w:return d;case m:return f}return x}),Pc=y,Pc}var Lc,S0;function D5(){if(S0)return Lc;S0=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Lc=n,Lc}var zc,C0;function pC(){if(C0)return zc;C0=1;var e=Lt(),t=e.Uint8Array;return zc=t,zc}var qc,k0;function Pm(){if(k0)return qc;k0=1;var e=pC();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return qc=t,qc}var Oc,j0;function B5(){if(j0)return Oc;j0=1;var e=Pm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Oc=t,Oc}var Dc,E0;function F5(){if(E0)return Dc;E0=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Dc=t,Dc}var Bc,T0;function $5(){if(T0)return Bc;T0=1;var e=bi(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Bc=r,Bc}var Fc,R0;function gC(){if(R0)return Fc;R0=1;var e=Pm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Fc=t,Fc}var $c,I0;function U5(){if(I0)return $c;I0=1;var e=Pm(),t=B5(),n=F5(),r=$5(),i=gC(),o="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",f="[object String]",h="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",p="[object Float32Array]",w="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",_="[object Int32Array]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",j="[object Uint16Array]",S="[object Uint32Array]";function k(E,T,N){var F=E.constructor;switch(T){case g:return e(E);case o:case a:return new F(+E);case v:return t(E,N);case p:case w:case m:case y:case _:case x:case b:case j:case S:return i(E,N);case s:return new F;case l:case f:return new F(E);case c:return n(E);case d:return new F;case h:return r(E)}}return $c=k,$c}var Uc,M0;function mC(){if(M0)return Uc;M0=1;var e=bt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Uc=n,Uc}var Wc,N0;function vC(){if(N0)return Wc;N0=1;var e=mC(),t=al(),n=ol();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Wc=r,Wc}var Hc,A0;function W5(){if(A0)return Hc;A0=1;var e=Ci(),t=Kt(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Hc=r,Hc}var Gc,P0;function H5(){if(P0)return Gc;P0=1;var e=W5(),t=il(),n=Im(),r=n&&n.isMap,i=r?t(r):e;return Gc=i,Gc}var Vc,L0;function G5(){if(L0)return Vc;L0=1;var e=Ci(),t=Kt(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Vc=r,Vc}var Yc,z0;function V5(){if(z0)return Yc;z0=1;var e=G5(),t=il(),n=Im(),r=n&&n.isSet,i=r?t(r):e;return Yc=i,Yc}var Kc,q0;function yC(){if(q0)return Kc;q0=1;var e=el(),t=Tm(),n=nl(),r=R5(),i=N5(),o=aC(),a=sC(),s=A5(),l=P5(),c=fC(),d=L5(),f=Ci(),h=D5(),g=U5(),v=vC(),p=Ee(),w=Si(),m=H5(),y=bt(),_=V5(),x=rr(),b=Ir(),j=1,S=2,k=4,E="[object Arguments]",T="[object Array]",N="[object Boolean]",F="[object Date]",H="[object Error]",R="[object Function]",D="[object GeneratorFunction]",A="[object Map]",z="[object Number]",I="[object Object]",P="[object RegExp]",q="[object Set]",G="[object String]",K="[object Symbol]",be="[object WeakMap]",oe="[object ArrayBuffer]",Se="[object DataView]",ge="[object Float32Array]",Ce="[object Float64Array]",Qe="[object Int8Array]",wn="[object Int16Array]",ji="[object Int32Array]",ml="[object Uint8Array]",vl="[object Uint8ClampedArray]",yl="[object Uint16Array]",xl="[object Uint32Array]",B={};B[E]=B[T]=B[oe]=B[Se]=B[N]=B[F]=B[ge]=B[Ce]=B[Qe]=B[wn]=B[ji]=B[A]=B[z]=B[I]=B[P]=B[q]=B[G]=B[K]=B[ml]=B[vl]=B[yl]=B[xl]=!0,B[H]=B[R]=B[be]=!1;function Ue(J,ot,Ct,ir,re,at){var ke,bn=ot&j,Sn=ot&S,Ei=ot&k;if(Ct&&(ke=re?Ct(J,ir,re,at):Ct(J)),ke!==void 0)return ke;if(!y(J))return J;var Ti=p(J);if(Ti){if(ke=h(J),!bn)return a(J,ke)}else{var Xt=f(J),Ar=Xt==R||Xt==D;if(w(J))return o(J,bn);if(Xt==I||Xt==E||Ar&&!re){if(ke=Sn||Ar?{}:v(J),!bn)return Sn?l(J,i(ke,J)):s(J,r(ke,J))}else{if(!B[Xt])return re?J:{};ke=g(J,Xt,bn)}}at||(at=new e);var Pr=at.get(J);if(Pr)return Pr;at.set(J,ke),_(J)?J.forEach(function(qt){ke.add(Ue(qt,ot,Ct,qt,J,at))}):m(J)&&J.forEach(function(qt,Cn){ke.set(Cn,Ue(qt,ot,Ct,Cn,J,at))});var Ri=Ei?Sn?d:c:Sn?b:x,Yo=Ti?void 0:Ri(J);return t(Yo||J,function(qt,Cn){Yo&&(Cn=qt,qt=J[Cn]),n(ke,Cn,Ue(qt,ot,Ct,Cn,J,at))}),ke}return Kc=Ue,Kc}var Xc,O0;function Y5(){if(O0)return Xc;O0=1;var e=yC(),t=4;function n(r){return e(r,t)}return Xc=n,Xc}var Qc,D0;function Lm(){if(D0)return Qc;D0=1;function e(t){return function(){return t}}return Qc=e,Qc}var Jc,B0;function K5(){if(B0)return Jc;B0=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++o];if(r(a[c],c,a)===!1)break}return n}}return Jc=e,Jc}var Zc,F0;function zm(){if(F0)return Zc;F0=1;var e=K5(),t=e();return Zc=t,Zc}var ed,$0;function qm(){if($0)return ed;$0=1;var e=zm(),t=rr();function n(r,i){return r&&e(r,i,t)}return ed=n,ed}var td,U0;function X5(){if(U0)return td;U0=1;var e=xn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return td=t,td}var nd,W0;function sl(){if(W0)return nd;W0=1;var e=qm(),t=X5(),n=t(e);return nd=n,nd}var rd,H0;function Mr(){if(H0)return rd;H0=1;function e(t){return t}return rd=e,rd}var id,G0;function xC(){if(G0)return id;G0=1;var e=Mr();function t(n){return typeof n=="function"?n:e}return id=t,id}var od,V0;function _C(){if(V0)return od;V0=1;var e=Tm(),t=sl(),n=xC(),r=Ee();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return od=i,od}var ad,Y0;function wC(){return Y0||(Y0=1,ad=_C()),ad}var sd,K0;function Q5(){if(K0)return sd;K0=1;var e=sl();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return sd=t,sd}var ld,X0;function J5(){if(X0)return ld;X0=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return ld=t,ld}var ud,Q0;function Z5(){if(Q0)return ud;Q0=1;function e(t){return this.__data__.has(t)}return ud=e,ud}var cd,J0;function bC(){if(J0)return cd;J0=1;var e=Em(),t=J5(),n=Z5();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,cd=r,cd}var dd,Z0;function e3(){if(Z0)return dd;Z0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return dd=e,dd}var fd,e1;function SC(){if(e1)return fd;e1=1;function e(t,n){return t.has(n)}return fd=e,fd}var hd,t1;function CC(){if(t1)return hd;t1=1;var e=bC(),t=e3(),n=SC(),r=1,i=2;function o(a,s,l,c,d,f){var h=l&r,g=a.length,v=s.length;if(g!=v&&!(h&&v>g))return!1;var p=f.get(a),w=f.get(s);if(p&&w)return p==s&&w==a;var m=-1,y=!0,_=l&i?new e:void 0;for(f.set(a,s),f.set(s,a);++m<g;){var x=a[m],b=s[m];if(c)var j=h?c(b,x,m,s,a,f):c(x,b,m,a,s,f);if(j!==void 0){if(j)continue;y=!1;break}if(_){if(!t(s,function(S,k){if(!n(_,k)&&(x===S||d(x,S,l,c,f)))return _.push(k)})){y=!1;break}}else if(!(x===b||d(x,b,l,c,f))){y=!1;break}}return f.delete(a),f.delete(s),y}return hd=o,hd}var pd,n1;function t3(){if(n1)return pd;n1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return pd=e,pd}var gd,r1;function Om(){if(r1)return gd;r1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return gd=e,gd}var md,i1;function n3(){if(i1)return md;i1=1;var e=bi(),t=pC(),n=wi(),r=CC(),i=t3(),o=Om(),a=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",g="[object RegExp]",v="[object Set]",p="[object String]",w="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",_=e?e.prototype:void 0,x=_?_.valueOf:void 0;function b(j,S,k,E,T,N,F){switch(k){case y:if(j.byteLength!=S.byteLength||j.byteOffset!=S.byteOffset)return!1;j=j.buffer,S=S.buffer;case m:return!(j.byteLength!=S.byteLength||!N(new t(j),new t(S)));case l:case c:case h:return n(+j,+S);case d:return j.name==S.name&&j.message==S.message;case g:case p:return j==S+"";case f:var H=i;case v:var R=E&a;if(H||(H=o),j.size!=S.size&&!R)return!1;var D=F.get(j);if(D)return D==S;E|=s,F.set(j,S);var A=r(H(j),H(S),E,T,N,F);return F.delete(j),A;case w:if(x)return x.call(j)==x.call(S)}return!1}return md=b,md}var vd,o1;function r3(){if(o1)return vd;o1=1;var e=fC(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,c,d){var f=s&t,h=e(o),g=h.length,v=e(a),p=v.length;if(g!=p&&!f)return!1;for(var w=g;w--;){var m=h[w];if(!(f?m in a:r.call(a,m)))return!1}var y=d.get(o),_=d.get(a);if(y&&_)return y==a&&_==o;var x=!0;d.set(o,a),d.set(a,o);for(var b=f;++w<g;){m=h[w];var j=o[m],S=a[m];if(l)var k=f?l(S,j,m,a,o,d):l(j,S,m,o,a,d);if(!(k===void 0?j===S||c(j,S,s,l,d):k)){x=!1;break}b||(b=m=="constructor")}if(x&&!b){var E=o.constructor,T=a.constructor;E!=T&&"constructor"in o&&"constructor"in a&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(x=!1)}return d.delete(o),d.delete(a),x}return vd=i,vd}var yd,a1;function i3(){if(a1)return yd;a1=1;var e=el(),t=CC(),n=n3(),r=r3(),i=Ci(),o=Ee(),a=Si(),s=Go(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,g=h.hasOwnProperty;function v(p,w,m,y,_,x){var b=o(p),j=o(w),S=b?d:i(p),k=j?d:i(w);S=S==c?f:S,k=k==c?f:k;var E=S==f,T=k==f,N=S==k;if(N&&a(p)){if(!a(w))return!1;b=!0,E=!1}if(N&&!E)return x||(x=new e),b||s(p)?t(p,w,m,y,_,x):n(p,w,S,m,y,_,x);if(!(m&l)){var F=E&&g.call(p,"__wrapped__"),H=T&&g.call(w,"__wrapped__");if(F||H){var R=F?p.value():p,D=H?w.value():w;return x||(x=new e),_(R,D,m,y,x)}}return N?(x||(x=new e),r(p,w,m,y,_,x)):!1}return yd=v,yd}var xd,s1;function kC(){if(s1)return xd;s1=1;var e=i3(),t=Kt();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return xd=n,xd}var _d,l1;function o3(){if(l1)return _d;l1=1;var e=el(),t=kC(),n=1,r=2;function i(o,a,s,l){var c=s.length,d=c,f=!l;if(o==null)return!d;for(o=Object(o);c--;){var h=s[c];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++c<d;){h=s[c];var g=h[0],v=o[g],p=h[1];if(f&&h[2]){if(v===void 0&&!(g in o))return!1}else{var w=new e;if(l)var m=l(v,p,g,o,a,w);if(!(m===void 0?t(p,v,n|r,l,w):m))return!1}}return!0}return _d=i,_d}var wd,u1;function jC(){if(u1)return wd;u1=1;var e=bt();function t(n){return n===n&&!e(n)}return wd=t,wd}var bd,c1;function a3(){if(c1)return bd;c1=1;var e=jC(),t=rr();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return bd=n,bd}var Sd,d1;function EC(){if(d1)return Sd;d1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Sd=e,Sd}var Cd,f1;function s3(){if(f1)return Cd;f1=1;var e=o3(),t=a3(),n=EC();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Cd=r,Cd}var kd,h1;function ki(){if(h1)return kd;h1=1;var e=Tr(),t=Kt(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return kd=r,kd}var jd,p1;function Dm(){if(p1)return jd;p1=1;var e=Ee(),t=ki(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return jd=i,jd}var Ed,g1;function l3(){if(g1)return Ed;g1=1;var e=Em(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=r.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,Ed=n,Ed}var Td,m1;function u3(){if(m1)return Td;m1=1;var e=l3(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Td=n,Td}var Rd,v1;function c3(){if(v1)return Rd;v1=1;var e=u3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,c){o.push(l?c.replace(n,"$1"):s||a)}),o});return Rd=r,Rd}var Id,y1;function ll(){if(y1)return Id;y1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Id=e,Id}var Md,x1;function d3(){if(x1)return Md;x1=1;var e=bi(),t=ll(),n=Ee(),r=ki(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Md=a,Md}var Nd,_1;function TC(){if(_1)return Nd;_1=1;var e=d3();function t(n){return n==null?"":e(n)}return Nd=t,Nd}var Ad,w1;function ul(){if(w1)return Ad;w1=1;var e=Ee(),t=Dm(),n=c3(),r=TC();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return Ad=i,Ad}var Pd,b1;function Vo(){if(b1)return Pd;b1=1;var e=ki();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Pd=t,Pd}var Ld,S1;function cl(){if(S1)return Ld;S1=1;var e=ul(),t=Vo();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return Ld=n,Ld}var zd,C1;function f3(){if(C1)return zd;C1=1;var e=cl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return zd=t,zd}var qd,k1;function h3(){if(k1)return qd;k1=1;function e(t,n){return t!=null&&n in Object(t)}return qd=e,qd}var Od,j1;function RC(){if(j1)return Od;j1=1;var e=ul(),t=Ho(),n=Ee(),r=rl(),i=Rm(),o=Vo();function a(s,l,c){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var g=o(l[d]);if(!(h=s!=null&&c(s,g)))break;s=s[g]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&r(g,f)&&(n(s)||t(s)))}return Od=a,Od}var Dd,E1;function IC(){if(E1)return Dd;E1=1;var e=h3(),t=RC();function n(r,i){return r!=null&&t(r,i,e)}return Dd=n,Dd}var Bd,T1;function p3(){if(T1)return Bd;T1=1;var e=kC(),t=f3(),n=IC(),r=Dm(),i=jC(),o=EC(),a=Vo(),s=1,l=2;function c(d,f){return r(d)&&i(f)?o(a(d),f):function(h){var g=t(h,d);return g===void 0&&g===f?n(h,d):e(f,g,s|l)}}return Bd=c,Bd}var Fd,R1;function MC(){if(R1)return Fd;R1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Fd=e,Fd}var $d,I1;function g3(){if(I1)return $d;I1=1;var e=cl();function t(n){return function(r){return e(r,n)}}return $d=t,$d}var Ud,M1;function m3(){if(M1)return Ud;M1=1;var e=MC(),t=g3(),n=Dm(),r=Vo();function i(o){return n(o)?e(r(o)):t(o)}return Ud=i,Ud}var Wd,N1;function _n(){if(N1)return Wd;N1=1;var e=s3(),t=p3(),n=Mr(),r=Ee(),i=m3();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Wd=o,Wd}var Hd,A1;function NC(){if(A1)return Hd;A1=1;var e=lC(),t=Q5(),n=_n(),r=Ee();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return Hd=i,Hd}var Gd,P1;function v3(){if(P1)return Gd;P1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Gd=n,Gd}var Vd,L1;function AC(){if(L1)return Vd;L1=1;var e=v3(),t=RC();function n(r,i){return r!=null&&t(r,i,e)}return Vd=n,Vd}var Yd,z1;function y3(){if(z1)return Yd;z1=1;var e=Mm(),t=Ci(),n=Ho(),r=Ee(),i=xn(),o=Si(),a=ol(),s=Go(),l="[object Map]",c="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function h(g){if(g==null)return!0;if(i(g)&&(r(g)||typeof g=="string"||typeof g.splice=="function"||o(g)||s(g)||n(g)))return!g.length;var v=t(g);if(v==l||v==c)return!g.size;if(a(g))return!e(g).length;for(var p in g)if(f.call(g,p))return!1;return!0}return Yd=h,Yd}var Kd,q1;function PC(){if(q1)return Kd;q1=1;function e(t){return t===void 0}return Kd=e,Kd}var Xd,O1;function LC(){if(O1)return Xd;O1=1;var e=sl(),t=xn();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,c){a[++o]=i(s,l,c)}),a}return Xd=n,Xd}var Qd,D1;function zC(){if(D1)return Qd;D1=1;var e=ll(),t=_n(),n=LC(),r=Ee();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Qd=i,Qd}var Jd,B1;function x3(){if(B1)return Jd;B1=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Jd=e,Jd}var Zd,F1;function _3(){if(F1)return Zd;F1=1;function e(t,n,r,i,o){return o(t,function(a,s,l){r=i?(i=!1,a):n(r,a,s,l)}),r}return Zd=e,Zd}var ef,$1;function qC(){if($1)return ef;$1=1;var e=x3(),t=sl(),n=_n(),r=_3(),i=Ee();function o(a,s,l){var c=i(a)?e:r,d=arguments.length<3;return c(a,n(s,4),l,d,t)}return ef=o,ef}var tf,U1;function w3(){if(U1)return tf;U1=1;var e=Tr(),t=Ee(),n=Kt(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return tf=i,tf}var nf,W1;function b3(){if(W1)return nf;W1=1;var e=MC(),t=e("length");return nf=t,nf}var rf,H1;function S3(){if(H1)return rf;H1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(c){return s.test(c)}return rf=l,rf}var of,G1;function C3(){if(G1)return of;G1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=c+"?",p="["+o+"]?",w="(?:"+g+"(?:"+[d,f,h].join("|")+")"+p+v+")*",m=p+v+w,y="(?:"+[d+s+"?",s,f,h,a].join("|")+")",_=RegExp(l+"(?="+l+")|"+y+m,"g");function x(b){for(var j=_.lastIndex=0;_.test(b);)++j;return j}return of=x,of}var af,V1;function k3(){if(V1)return af;V1=1;var e=b3(),t=S3(),n=C3();function r(i){return t(i)?n(i):e(i)}return af=r,af}var sf,Y1;function j3(){if(Y1)return sf;Y1=1;var e=Mm(),t=Ci(),n=xn(),r=w3(),i=k3(),o="[object Map]",a="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var c=t(l);return c==o||c==a?l.size:e(l).length}return sf=s,sf}var lf,K1;function E3(){if(K1)return lf;K1=1;var e=Tm(),t=mC(),n=qm(),r=_n(),i=al(),o=Ee(),a=Si(),s=Uo(),l=bt(),c=Go();function d(f,h,g){var v=o(f),p=v||a(f)||c(f);if(h=r(h,4),g==null){var w=f&&f.constructor;p?g=v?new w:[]:l(f)?g=s(w)?t(i(f)):{}:g={}}return(p?e:n)(f,function(m,y,_){return h(g,m,y,_)}),g}return lf=d,lf}var uf,X1;function T3(){if(X1)return uf;X1=1;var e=bi(),t=Ho(),n=Ee(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return uf=i,uf}var cf,Q1;function Bm(){if(Q1)return cf;Q1=1;var e=Am(),t=T3();function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var d=r[l];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return cf=n,cf}var df,J1;function R3(){if(J1)return df;J1=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return df=e,df}var ff,Z1;function OC(){if(Z1)return ff;Z1=1;var e=R3(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(c),e(r,this,d)}}return ff=n,ff}var hf,e_;function I3(){if(e_)return hf;e_=1;var e=Lm(),t=rC(),n=Mr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return hf=r,hf}var pf,t_;function M3(){if(t_)return pf;t_=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return pf=r,pf}var gf,n_;function DC(){if(n_)return gf;n_=1;var e=I3(),t=M3(),n=t(e);return gf=n,gf}var mf,r_;function dl(){if(r_)return mf;r_=1;var e=Mr(),t=OC(),n=DC();function r(i,o){return n(t(i,o,e),i+"")}return mf=r,mf}var vf,i_;function BC(){if(i_)return vf;i_=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return vf=e,vf}var yf,o_;function N3(){if(o_)return yf;o_=1;function e(t){return t!==t}return yf=e,yf}var xf,a_;function A3(){if(a_)return xf;a_=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return xf=e,xf}var _f,s_;function P3(){if(s_)return _f;s_=1;var e=BC(),t=N3(),n=A3();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return _f=r,_f}var wf,l_;function L3(){if(l_)return wf;l_=1;var e=P3();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return wf=t,wf}var bf,u_;function z3(){if(u_)return bf;u_=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return bf=e,bf}var Sf,c_;function q3(){if(c_)return Sf;c_=1;function e(){}return Sf=e,Sf}var Cf,d_;function O3(){if(d_)return Cf;d_=1;var e=hC(),t=q3(),n=Om(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Cf=i,Cf}var kf,f_;function D3(){if(f_)return kf;f_=1;var e=bC(),t=L3(),n=z3(),r=SC(),i=O3(),o=Om(),a=200;function s(l,c,d){var f=-1,h=t,g=l.length,v=!0,p=[],w=p;if(d)v=!1,h=n;else if(g>=a){var m=c?null:i(l);if(m)return o(m);v=!1,h=r,w=new e}else w=c?[]:p;e:for(;++f<g;){var y=l[f],_=c?c(y):y;if(y=d||y!==0?y:0,v&&_===_){for(var x=w.length;x--;)if(w[x]===_)continue e;c&&w.push(_),p.push(y)}else h(w,_,d)||(w!==p&&w.push(_),p.push(y))}return p}return kf=s,kf}var jf,h_;function FC(){if(h_)return jf;h_=1;var e=xn(),t=Kt();function n(r){return t(r)&&e(r)}return jf=n,jf}var Ef,p_;function B3(){if(p_)return Ef;p_=1;var e=Bm(),t=dl(),n=D3(),r=FC(),i=t(function(o){return n(e(o,1,r,!0))});return Ef=i,Ef}var Tf,g_;function F3(){if(g_)return Tf;g_=1;var e=ll();function t(n,r){return e(r,function(i){return n[i]})}return Tf=t,Tf}var Rf,m_;function $C(){if(m_)return Rf;m_=1;var e=F3(),t=rr();function n(r){return r==null?[]:e(r,t(r))}return Rf=n,Rf}var If,v_;function St(){if(v_)return If;v_=1;var e;if(typeof km=="function")try{e={clone:Y5(),constant:Lm(),each:wC(),filter:NC(),has:AC(),isArray:Ee(),isEmpty:y3(),isFunction:Uo(),isUndefined:PC(),keys:rr(),map:zC(),reduce:qC(),size:j3(),transform:E3(),union:B3(),values:$C()}}catch{}return e||(e=window._),If=e,If}var Mf,y_;function Fm(){if(y_)return Mf;y_=1;var e=St();Mf=i;var t="\0",n="\0",r="";function i(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._in[f])})},i.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._out[f])})},i.prototype.setNodes=function(d,f){var h=arguments,g=this;return e.each(d,function(v){h.length>1?g.setNode(v,f):g.setNode(v)}),this},i.prototype.setNode=function(d,f){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return e.has(this._nodes,d)},i.prototype.removeNode=function(d){var f=this;if(e.has(this._nodes,d)){var h=function(g){f.removeEdge(f._edgeObjs[g])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(g){f.setParent(g)}),delete this._children[d]),e.each(e.keys(this._in[d]),h),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var f=this._parent[d];if(f!==n)return f}},i.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var f=this._children[d];if(f)return e.keys(f)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var f=this._preds[d];if(f)return e.keys(f)},i.prototype.successors=function(d){var f=this._sucs[d];if(f)return e.keys(f)},i.prototype.neighbors=function(d){var f=this.predecessors(d);if(f)return e.union(f,this.successors(d))},i.prototype.isLeaf=function(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0},i.prototype.filterNodes=function(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(p,w){d(w)&&f.setNode(w,p)}),e.each(this._edgeObjs,function(p){f.hasNode(p.v)&&f.hasNode(p.w)&&f.setEdge(p,h.edge(p))});var g={};function v(p){var w=h.parent(p);return w===void 0||f.hasNode(w)?(g[p]=w,w):w in g?g[w]:v(w)}return this._isCompound&&e.each(f.nodes(),function(p){f.setParent(p,v(p))}),f},i.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(d,f){var h=this,g=arguments;return e.reduce(d,function(v,p){return g.length>1?h.setEdge(v,p,f):h.setEdge(v,p),p}),this},i.prototype.setEdge=function(){var d,f,h,g,v=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(d=p.v,f=p.w,h=p.name,arguments.length===2&&(g=arguments[1],v=!0)):(d=p,f=arguments[1],h=arguments[3],arguments.length>2&&(g=arguments[2],v=!0)),d=""+d,f=""+f,e.isUndefined(h)||(h=""+h);var w=s(this._isDirected,d,f,h);if(e.has(this._edgeLabels,w))return v&&(this._edgeLabels[w]=g),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[w]=v?g:this._defaultEdgeLabelFn(d,f,h);var m=l(this._isDirected,d,f,h);return d=m.v,f=m.w,Object.freeze(m),this._edgeObjs[w]=m,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][w]=m,this._out[d][w]=m,this._edgeCount++,this},i.prototype.edge=function(d,f,h){var g=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h);return this._edgeLabels[g]},i.prototype.hasEdge=function(d,f,h){var g=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h);return e.has(this._edgeLabels,g)},i.prototype.removeEdge=function(d,f,h){var g=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,d,f,h),v=this._edgeObjs[g];return v&&(d=v.v,f=v.w,delete this._edgeLabels[g],delete this._edgeObjs[g],a(this._preds[f],d),a(this._sucs[d],f),delete this._in[f][g],delete this._out[d][g],this._edgeCount--),this},i.prototype.inEdges=function(d,f){var h=this._in[d];if(h){var g=e.values(h);return f?e.filter(g,function(v){return v.v===f}):g}},i.prototype.outEdges=function(d,f){var h=this._out[d];if(h){var g=e.values(h);return f?e.filter(g,function(v){return v.w===f}):g}},i.prototype.nodeEdges=function(d,f){var h=this.inEdges(d,f);if(h)return h.concat(this.outEdges(d,f))};function o(d,f){d[f]?d[f]++:d[f]=1}function a(d,f){--d[f]||delete d[f]}function s(d,f,h,g){var v=""+f,p=""+h;if(!d&&v>p){var w=v;v=p,p=w}return v+r+p+r+(e.isUndefined(g)?t:g)}function l(d,f,h,g){var v=""+f,p=""+h;if(!d&&v>p){var w=v;v=p,p=w}var m={v,w:p};return g&&(m.name=g),m}function c(d,f){return s(d,f.v,f.w,f.name)}return Mf}var Nf,x_;function $3(){return x_||(x_=1,Nf="2.1.8"),Nf}var Af,__;function U3(){return __||(__=1,Af={Graph:Fm(),version:$3()}),Af}var Pf,w_;function W3(){if(w_)return Pf;w_=1;var e=St(),t=Fm();Pf={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var l=a.node(s),c=a.parent(s),d={v:s};return e.isUndefined(l)||(d.value=l),e.isUndefined(c)||(d.parent=c),d})}function i(a){return e.map(a.edges(),function(s){var l=a.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(l)||(c.value=l),c})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(a.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return Pf}var Lf,b_;function H3(){if(b_)return Lf;b_=1;var e=St();Lf=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return Lf}var zf,S_;function UC(){if(S_)return zf;S_=1;var e=St();zf=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},zf}var qf,C_;function WC(){if(C_)return qf;C_=1;var e=St(),t=UC();qf=r;var n=e.constant(1);function r(o,a,s,l){return i(o,String(a),s||n,l||function(c){return o.outEdges(c)})}function i(o,a,s,l){var c={},d=new t,f,h,g=function(v){var p=v.v!==f?v.v:v.w,w=c[p],m=s(v),y=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+m);y<w.distance&&(w.distance=y,w.predecessor=f,d.decrease(p,y))};for(o.nodes().forEach(function(v){var p=v===a?0:Number.POSITIVE_INFINITY;c[v]={distance:p},d.add(v,p)});d.size()>0&&(f=d.removeMin(),h=c[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(g);return c}return qf}var Of,k_;function G3(){if(k_)return Of;k_=1;var e=WC(),t=St();Of=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return Of}var Df,j_;function HC(){if(j_)return Df;j_=1;var e=St();Df=t;function t(n){var r=0,i=[],o={},a=[];function s(l){var c=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(o,h)?o[h].onStack&&(c.lowlink=Math.min(c.lowlink,o[h].index)):(s(h),c.lowlink=Math.min(c.lowlink,o[h].lowlink))}),c.lowlink===c.index){var d=[],f;do f=i.pop(),o[f].onStack=!1,d.push(f);while(l!==f);a.push(d)}}return n.nodes().forEach(function(l){e.has(o,l)||s(l)}),a}return Df}var Bf,E_;function V3(){if(E_)return Bf;E_=1;var e=St(),t=HC();Bf=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Bf}var Ff,T_;function Y3(){if(T_)return Ff;T_=1;var e=St();Ff=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},l=i.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(d){c!==d&&(s[c][d]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(d){var f=d.v===c?d.w:d.v,h=o(d);s[c][f]={distance:h,predecessor:c}})}),l.forEach(function(c){var d=s[c];l.forEach(function(f){var h=s[f];l.forEach(function(g){var v=h[c],p=d[g],w=h[g],m=v.distance+p.distance;m<w.distance&&(w.distance=m,w.predecessor=p.predecessor)})})}),s}return Ff}var $f,R_;function GC(){if(R_)return $f;R_=1;var e=St();$f=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),s),delete o[l],a.push(l))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,$f}var Uf,I_;function K3(){if(I_)return Uf;I_=1;var e=GC();Uf=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Uf}var Wf,M_;function VC(){if(M_)return Wf;M_=1;var e=St();Wf=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,o==="post",l,a,s)}),s}function n(r,i,o,a,s,l){e.has(a,i)||(a[i]=!0,o||l.push(i),e.each(s(i),function(c){n(r,c,o,a,s,l)}),o&&l.push(i))}return Wf}var Hf,N_;function X3(){if(N_)return Hf;N_=1;var e=VC();Hf=t;function t(n,r){return e(n,r,"post")}return Hf}var Gf,A_;function Q3(){if(A_)return Gf;A_=1;var e=VC();Gf=t;function t(n,r){return e(n,r,"pre")}return Gf}var Vf,P_;function J3(){if(P_)return Vf;P_=1;var e=St(),t=Fm(),n=UC();Vf=r;function r(i,o){var a=new t,s={},l=new n,c;function d(h){var g=h.v===c?h.w:h.v,v=l.priority(g);if(v!==void 0){var p=o(h);p<v&&(s[g]=c,l.decrease(g,p))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),e.has(s,c))a.setEdge(c,s[c]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(c).forEach(d)}return a}return Vf}var Yf,L_;function Z3(){return L_||(L_=1,Yf={components:H3(),dijkstra:WC(),dijkstraAll:G3(),findCycles:V3(),floydWarshall:Y3(),isAcyclic:K3(),postorder:X3(),preorder:Q3(),prim:J3(),tarjan:HC(),topsort:GC()}),Yf}var Kf,z_;function eM(){if(z_)return Kf;z_=1;var e=U3();return Kf={Graph:e.Graph,json:W3(),alg:Z3(),version:e.version},Kf}var Ss;if(typeof km=="function")try{Ss=eM()}catch{}Ss||(Ss=window.graphlib);var zt=Ss,Xf,q_;function tM(){if(q_)return Xf;q_=1;var e=yC(),t=1,n=4;function r(i){return e(i,t|n)}return Xf=r,Xf}var Qf,O_;function fl(){if(O_)return Qf;O_=1;var e=wi(),t=xn(),n=rl(),r=bt();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return Qf=i,Qf}var Jf,D_;function nM(){if(D_)return Jf;D_=1;var e=dl(),t=wi(),n=fl(),r=Ir(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,l){s=Object(s);var c=-1,d=l.length,f=d>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(d=1);++c<d;)for(var h=l[c],g=r(h),v=-1,p=g.length;++v<p;){var w=g[v],m=s[w];(m===void 0||t(m,i[w])&&!o.call(s,w))&&(s[w]=h[w])}return s});return Jf=a,Jf}var Zf,B_;function rM(){if(B_)return Zf;B_=1;var e=_n(),t=xn(),n=rr();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(f){return c(l[f],f,l)}}var d=i(o,a,s);return d>-1?l[c?o[d]:d]:void 0}}return Zf=r,Zf}var eh,F_;function iM(){if(F_)return eh;F_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return eh=t,eh}var th,$_;function oM(){if($_)return th;$_=1;var e=iM(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return th=n,th}var nh,U_;function aM(){if(U_)return nh;U_=1;var e=oM(),t=bt(),n=ki(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?r:+c}return nh=l,nh}var rh,W_;function YC(){if(W_)return rh;W_=1;var e=aM(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return rh=r,rh}var ih,H_;function sM(){if(H_)return ih;H_=1;var e=YC();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ih=t,ih}var oh,G_;function lM(){if(G_)return oh;G_=1;var e=BC(),t=_n(),n=sM(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(o,t(a,3),c)}return oh=i,oh}var ah,V_;function uM(){if(V_)return ah;V_=1;var e=rM(),t=lM(),n=e(t);return ah=n,ah}var sh,Y_;function KC(){if(Y_)return sh;Y_=1;var e=Bm();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return sh=t,sh}var lh,K_;function cM(){if(K_)return lh;K_=1;var e=zm(),t=xC(),n=Ir();function r(i,o){return i==null?i:e(i,t(o),n)}return lh=r,lh}var uh,X_;function dM(){if(X_)return uh;X_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return uh=e,uh}var ch,Q_;function fM(){if(Q_)return ch;Q_=1;var e=tl(),t=qm(),n=_n();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,c){e(a,l,o(s,l,c))}),a}return ch=r,ch}var dh,J_;function $m(){if(J_)return dh;J_=1;var e=ki();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return dh=t,dh}var fh,Z_;function hM(){if(Z_)return fh;Z_=1;function e(t,n){return t>n}return fh=e,fh}var hh,ew;function pM(){if(ew)return hh;ew=1;var e=$m(),t=hM(),n=Mr();function r(i){return i&&i.length?e(i,n,t):void 0}return hh=r,hh}var ph,tw;function XC(){if(tw)return ph;tw=1;var e=tl(),t=wi();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return ph=n,ph}var gh,nw;function gM(){if(nw)return gh;nw=1;var e=Tr(),t=al(),n=Kt(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return gh=c,gh}var mh,rw;function QC(){if(rw)return mh;rw=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return mh=e,mh}var vh,iw;function mM(){if(iw)return vh;iw=1;var e=Wo(),t=Ir();function n(r){return e(r,t(r))}return vh=n,vh}var yh,ow;function vM(){if(ow)return yh;ow=1;var e=XC(),t=aC(),n=gC(),r=sC(),i=vC(),o=Ho(),a=Ee(),s=FC(),l=Si(),c=Uo(),d=bt(),f=gM(),h=Go(),g=QC(),v=mM();function p(w,m,y,_,x,b,j){var S=g(w,y),k=g(m,y),E=j.get(k);if(E){e(w,y,E);return}var T=b?b(S,k,y+"",w,m,j):void 0,N=T===void 0;if(N){var F=a(k),H=!F&&l(k),R=!F&&!H&&h(k);T=k,F||H||R?a(S)?T=S:s(S)?T=r(S):H?(N=!1,T=t(k,!0)):R?(N=!1,T=n(k,!0)):T=[]:f(k)||o(k)?(T=S,o(S)?T=v(S):(!d(S)||c(S))&&(T=i(k))):N=!1}N&&(j.set(k,T),x(T,k,_,b,j),j.delete(k)),e(w,y,T)}return yh=p,yh}var xh,aw;function yM(){if(aw)return xh;aw=1;var e=el(),t=XC(),n=zm(),r=vM(),i=bt(),o=Ir(),a=QC();function s(l,c,d,f,h){l!==c&&n(c,function(g,v){if(h||(h=new e),i(g))r(l,c,v,d,s,f,h);else{var p=f?f(a(l,v),g,v+"",l,c,h):void 0;p===void 0&&(p=g),t(l,v,p)}},o)}return xh=s,xh}var _h,sw;function xM(){if(sw)return _h;sw=1;var e=dl(),t=fl();function n(r){return e(function(i,o){var a=-1,s=o.length,l=s>1?o[s-1]:void 0,c=s>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&t(o[0],o[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++a<s;){var d=o[a];d&&r(i,d,a,l)}return i})}return _h=n,_h}var wh,lw;function _M(){if(lw)return wh;lw=1;var e=yM(),t=xM(),n=t(function(r,i,o){e(r,i,o)});return wh=n,wh}var bh,uw;function JC(){if(uw)return bh;uw=1;function e(t,n){return t<n}return bh=e,bh}var Sh,cw;function wM(){if(cw)return Sh;cw=1;var e=$m(),t=JC(),n=Mr();function r(i){return i&&i.length?e(i,n,t):void 0}return Sh=r,Sh}var Ch,dw;function bM(){if(dw)return Ch;dw=1;var e=$m(),t=_n(),n=JC();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Ch=r,Ch}var kh,fw;function SM(){if(fw)return kh;fw=1;var e=Lt(),t=function(){return e.Date.now()};return kh=t,kh}var jh,hw;function CM(){if(hw)return jh;hw=1;var e=nl(),t=ul(),n=rl(),r=bt(),i=Vo();function o(a,s,l,c){if(!r(a))return a;s=t(s,a);for(var d=-1,f=s.length,h=f-1,g=a;g!=null&&++d<f;){var v=i(s[d]),p=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return a;if(d!=h){var w=g[v];p=c?c(w,v,g):void 0,p===void 0&&(p=r(w)?w:n(s[d+1])?[]:{})}e(g,v,p),g=g[v]}return a}return jh=o,jh}var Eh,pw;function kM(){if(pw)return Eh;pw=1;var e=cl(),t=CM(),n=ul();function r(i,o,a){for(var s=-1,l=o.length,c={};++s<l;){var d=o[s],f=e(i,d);a(f,d)&&t(c,n(d,i),f)}return c}return Eh=r,Eh}var Th,gw;function jM(){if(gw)return Th;gw=1;var e=kM(),t=IC();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return Th=n,Th}var Rh,mw;function EM(){if(mw)return Rh;mw=1;var e=KC(),t=OC(),n=DC();function r(i){return n(t(i,void 0,e),i+"")}return Rh=r,Rh}var Ih,vw;function TM(){if(vw)return Ih;vw=1;var e=jM(),t=EM(),n=t(function(r,i){return r==null?{}:e(r,i)});return Ih=n,Ih}var Mh,yw;function RM(){if(yw)return Mh;yw=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=r,r+=o;return c}return Mh=n,Mh}var Nh,xw;function IM(){if(xw)return Nh;xw=1;var e=RM(),t=fl(),n=YC();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Nh=r,Nh}var Ah,_w;function MM(){if(_w)return Ah;_w=1;var e=IM(),t=e();return Ah=t,Ah}var Ph,ww;function NM(){if(ww)return Ph;ww=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Ph=e,Ph}var Lh,bw;function AM(){if(bw)return Lh;bw=1;var e=ki();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,c=r===null,d=r===r,f=e(r);if(!c&&!f&&!s&&n>r||s&&l&&d&&!c&&!f||o&&l&&d||!i&&d||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!d)return-1}return 0}return Lh=t,Lh}var zh,Sw;function PM(){if(Sw)return zh;Sw=1;var e=AM();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,c=i.length;++o<l;){var d=e(a[o],s[o]);if(d){if(o>=c)return d;var f=i[o];return d*(f=="desc"?-1:1)}}return n.index-r.index}return zh=t,zh}var qh,Cw;function LM(){if(Cw)return qh;Cw=1;var e=ll(),t=cl(),n=_n(),r=LC(),i=NM(),o=il(),a=PM(),s=Mr(),l=Ee();function c(d,f,h){f.length?f=e(f,function(p){return l(p)?function(w){return t(w,p.length===1?p[0]:p)}:p}):f=[s];var g=-1;f=e(f,o(n));var v=r(d,function(p,w,m){var y=e(f,function(_){return _(p)});return{criteria:y,index:++g,value:p}});return i(v,function(p,w){return a(p,w,h)})}return qh=c,qh}var Oh,kw;function zM(){if(kw)return Oh;kw=1;var e=Bm(),t=LM(),n=dl(),r=fl(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return Oh=i,Oh}var Dh,jw;function qM(){if(jw)return Dh;jw=1;var e=TC(),t=0;function n(r){var i=++t;return e(r)+i}return Dh=n,Dh}var Bh,Ew;function OM(){if(Ew)return Bh;Ew=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var l=i<a?n[i]:void 0;r(s,t[i],l)}return s}return Bh=e,Bh}var Fh,Tw;function DM(){if(Tw)return Fh;Tw=1;var e=nl(),t=OM();function n(r,i){return t(r||[],i||[],e)}return Fh=n,Fh}var Cs;if(typeof km=="function")try{Cs={cloneDeep:tM(),constant:Lm(),defaults:nM(),each:wC(),filter:NC(),find:uM(),flatten:KC(),forEach:_C(),forIn:cM(),has:AC(),isUndefined:PC(),last:dM(),map:zC(),mapValues:fM(),max:pM(),merge:_M(),min:wM(),minBy:bM(),now:SM(),pick:TM(),range:MM(),reduce:qC(),sortBy:zM(),uniqueId:qM(),values:$C(),zipObject:DM()}}catch{}Cs||(Cs=window._);var pe=Cs,BM=hl;function hl(){var e={};e._next=e._prev=e,this._sentinel=e}hl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return ZC(t),t};hl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&ZC(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};hl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,FM)),n=n._prev;return"["+e.join(", ")+"]"};function ZC(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function FM(e,t){if(e!=="_next"&&e!=="_prev")return t}var un=pe,$M=zt.Graph,UM=BM,WM=GM,HM=un.constant(1);function GM(e,t){if(e.nodeCount()<=1)return[];var n=YM(e,t||HM),r=VM(n.graph,n.buckets,n.zeroIdx);return un.flatten(un.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function VM(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)$h(e,t,n,a);for(;a=i.dequeue();)$h(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat($h(e,t,n,a,!0));break}}}return r}function $h(e,t,n,r,i){var o=i?[]:void 0;return un.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),l=e.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,lg(t,n,l)}),un.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),l=a.w,c=e.node(l);c.in-=s,lg(t,n,c)}),e.removeNode(r.v),o}function YM(e,t){var n=new $M,r=0,i=0;un.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),un.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,c=t(s),d=l+c;n.setEdge(s.v,s.w,d),i=Math.max(i,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var o=un.range(i+r+3).map(function(){return new UM}),a=r+1;return un.forEach(n.nodes(),function(s){lg(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function lg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var fr=pe,KM=WM,XM={run:QM,undo:ZM};function QM(e){var t=e.graph().acyclicer==="greedy"?KM(e,n(e)):JM(e);fr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,fr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function JM(e){var t=[],n={},r={};function i(o){fr.has(r,o)||(r[o]=!0,n[o]=!0,fr.forEach(e.outEdges(o),function(a){fr.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return fr.forEach(e.nodes(),i),t}function ZM(e){fr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var se=pe,ek=zt.Graph,it={addDummyNode:tk,simplify:eN,asNonCompoundGraph:tN,successorWeights:nN,predecessorWeights:rN,intersectRect:iN,buildLayerMatrix:oN,normalizeRanks:aN,removeEmptyRanks:sN,addBorderNode:lN,maxRank:nk,partition:uN,time:cN,notime:dN};function tk(e,t,n,r){var i;do i=se.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function eN(e){var t=new ek().setGraph(e.graph());return se.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),se.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function tN(e){var t=new ek({multigraph:e.isMultigraph()}).setGraph(e.graph());return se.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),se.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function nN(e){var t=se.map(e.nodes(),function(n){var r={};return se.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return se.zipObject(e.nodes(),t)}function rN(e){var t=se.map(e.nodes(),function(n){var r={};return se.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return se.zipObject(e.nodes(),t)}function iN(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,c=s):(i<0&&(a=-a),l=a,c=a*o/i),{x:n+l,y:r+c}}function oN(e){var t=se.map(se.range(nk(e)+1),function(){return[]});return se.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;se.isUndefined(i)||(t[i][r.order]=n)}),t}function aN(e){var t=se.min(se.map(e.nodes(),function(n){return e.node(n).rank}));se.forEach(e.nodes(),function(n){var r=e.node(n);se.has(r,"rank")&&(r.rank-=t)})}function sN(e){var t=se.min(se.map(e.nodes(),function(o){return e.node(o).rank})),n=[];se.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;se.forEach(n,function(o,a){se.isUndefined(o)&&a%i!==0?--r:r&&se.forEach(o,function(s){e.node(s).rank+=r})})}function lN(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),tk(e,"border",i,t)}function nk(e){return se.max(se.map(e.nodes(),function(t){var n=e.node(t).rank;if(!se.isUndefined(n))return n}))}function uN(e,t){var n={lhs:[],rhs:[]};return se.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function cN(e,t){var n=se.now();try{return t()}finally{console.log(e+" time: "+(se.now()-n)+"ms")}}function dN(e,t){return t()}var rk=pe,fN=it,hN={run:pN,undo:mN};function pN(e){e.graph().dummyChains=[],rk.forEach(e.edges(),function(t){gN(e,t)})}function gN(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),l=s.labelRank;if(o!==r+1){e.removeEdge(t);var c,d,f;for(f=0,++r;r<o;++f,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},c=fN.addDummyNode(e,"edge",d,"_d"),r===l&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:s.weight},a)}}function mN(e){rk.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var _a=pe,pl={longestPath:vN,slack:yN};function vN(e){var t={};function n(r){var i=e.node(r);if(_a.has(t,r))return i.rank;t[r]=!0;var o=_a.min(_a.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}_a.forEach(e.sources(),n)}function yN(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var ks=pe,xN=zt.Graph,js=pl.slack,ik=_N;function _N(e){var t=new xN({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;wN(t,e)<r;)i=bN(t,e),o=t.hasNode(i.v)?js(e,i):-js(e,i),SN(t,e,o);return t}function wN(e,t){function n(r){ks.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!js(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return ks.forEach(e.nodes(),n),e.nodeCount()}function bN(e,t){return ks.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return js(t,n)})}function SN(e,t,n){ks.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var vn=pe,CN=ik,kN=pl.slack,jN=pl.longestPath,EN=zt.alg.preorder,TN=zt.alg.postorder,RN=it.simplify,IN=Nr;Nr.initLowLimValues=Wm;Nr.initCutValues=Um;Nr.calcCutValue=ok;Nr.leaveEdge=sk;Nr.enterEdge=lk;Nr.exchangeEdges=uk;function Nr(e){e=RN(e),jN(e);var t=CN(e);Wm(t),Um(t,e);for(var n,r;n=sk(t);)r=lk(t,e,n),uk(t,e,n,r)}function Um(e,t){var n=TN(e,e.nodes());n=n.slice(0,n.length-1),vn.forEach(n,function(r){MN(e,t,r)})}function MN(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=ok(e,t,n)}function ok(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,vn.forEach(t.nodeEdges(n),function(l){var c=l.v===n,d=c?l.w:l.v;if(d!==i){var f=c===o,h=t.edge(l).weight;if(s+=f?h:-h,AN(e,n,d)){var g=e.edge(n,d).cutvalue;s+=f?-g:g}}}),s}function Wm(e,t){arguments.length<2&&(t=e.nodes()[0]),ak(e,{},1,t)}function ak(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,vn.forEach(e.neighbors(r),function(s){vn.has(t,s)||(n=ak(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function sk(e){return vn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function lk(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var c=vn.filter(t.edges(),function(d){return l===Rw(e,e.node(d.v),s)&&l!==Rw(e,e.node(d.w),s)});return vn.minBy(c,function(d){return kN(t,d)})}function uk(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Wm(e),Um(e,t),NN(e,t)}function NN(e,t){var n=vn.find(e.nodes(),function(i){return!t.node(i).parent}),r=EN(e,n);r=r.slice(1),vn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function AN(e,t,n){return e.hasEdge(t,n)}function Rw(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var PN=pl,ck=PN.longestPath,LN=ik,zN=IN,qN=ON;function ON(e){switch(e.graph().ranker){case"network-simplex":Iw(e);break;case"tight-tree":BN(e);break;case"longest-path":DN(e);break;default:Iw(e)}}var DN=ck;function BN(e){ck(e),LN(e)}function Iw(e){zN(e)}var ug=pe,FN=$N;function $N(e){var t=WN(e);ug.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=UN(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,c=a[l],d=!0;n!==i.w;){if(r=e.node(n),d){for(;(c=a[l])!==s&&e.node(c).maxRank<r.rank;)l++;c===s&&(d=!1)}if(!d){for(;l<a.length-1&&e.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function UN(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,c;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||s>t[l].lim));for(c=l,l=r;(l=e.parent(l))!==c;)o.push(l);return{path:i.concat(o.reverse()),lca:c}}function WN(e){var t={},n=0;function r(i){var o=n;ug.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return ug.forEach(e.children(),r),t}var cn=pe,cg=it,HN={run:GN,cleanup:KN};function GN(e){var t=cg.addDummyNode(e,"root",{},"_root"),n=VN(e),r=cn.max(cn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,cn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=YN(e)+1;cn.forEach(e.children(),function(a){dk(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function dk(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=cg.addBorderNode(e,"_bt"),c=cg.addBorderNode(e,"_bb"),d=e.node(a);e.setParent(l,a),d.borderTop=l,e.setParent(c,a),d.borderBottom=c,cn.forEach(s,function(f){dk(e,t,n,r,i,o,f);var h=e.node(f),g=h.borderTop?h.borderTop:f,v=h.borderBottom?h.borderBottom:f,p=h.borderTop?r:2*r,w=g!==v?1:i-o[a]+1;e.setEdge(l,g,{weight:p,minlen:w,nestingEdge:!0}),e.setEdge(v,c,{weight:p,minlen:w,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}function VN(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&cn.forEach(o,function(a){n(a,i+1)}),t[r]=i}return cn.forEach(e.children(),function(r){n(r,1)}),t}function YN(e){return cn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function KN(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,cn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Uh=pe,XN=it,QN=JN;function JN(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Uh.forEach(r,t),Uh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Mw(e,"borderLeft","_bl",n,i,o),Mw(e,"borderRight","_br",n,i,o)}}Uh.forEach(e.children(),t)}function Mw(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=XN.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var Wt=pe,ZN={adjust:eA,undo:tA};function eA(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&fk(e)}function tA(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&nA(e),(t==="lr"||t==="rl")&&(rA(e),fk(e))}function fk(e){Wt.forEach(e.nodes(),function(t){Nw(e.node(t))}),Wt.forEach(e.edges(),function(t){Nw(e.edge(t))})}function Nw(e){var t=e.width;e.width=e.height,e.height=t}function nA(e){Wt.forEach(e.nodes(),function(t){Wh(e.node(t))}),Wt.forEach(e.edges(),function(t){var n=e.edge(t);Wt.forEach(n.points,Wh),Wt.has(n,"y")&&Wh(n)})}function Wh(e){e.y=-e.y}function rA(e){Wt.forEach(e.nodes(),function(t){Hh(e.node(t))}),Wt.forEach(e.edges(),function(t){var n=e.edge(t);Wt.forEach(n.points,Hh),Wt.has(n,"x")&&Hh(n)})}function Hh(e){var t=e.x;e.x=e.y,e.y=t}var Jt=pe,iA=oA;function oA(e){var t={},n=Jt.filter(e.nodes(),function(s){return!e.children(s).length}),r=Jt.max(Jt.map(n,function(s){return e.node(s).rank})),i=Jt.map(Jt.range(r+1),function(){return[]});function o(s){if(!Jt.has(t,s)){t[s]=!0;var l=e.node(s);i[l.rank].push(s),Jt.forEach(e.successors(s),o)}}var a=Jt.sortBy(n,function(s){return e.node(s).rank});return Jt.forEach(a,o),i}var jn=pe,aA=sA;function sA(e,t){for(var n=0,r=1;r<t.length;++r)n+=lA(e,t[r-1],t[r]);return n}function lA(e,t,n){for(var r=jn.zipObject(n,jn.map(n,function(c,d){return d})),i=jn.flatten(jn.map(t,function(c){return jn.sortBy(jn.map(e.outEdges(c),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=jn.map(new Array(a),function(){return 0}),l=0;return jn.forEach(i.forEach(function(c){var d=c.pos+o;s[d]+=c.weight;for(var f=0;d>0;)d%2&&(f+=s[d+1]),d=d-1>>1,s[d]+=c.weight;l+=c.weight*f})),l}var Aw=pe,uA=cA;function cA(e,t){return Aw.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Aw.reduce(r,function(o,a){var s=e.edge(a),l=e.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var lt=pe,dA=fA;function fA(e,t){var n={};lt.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};lt.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),lt.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!lt.isUndefined(o)&&!lt.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=lt.filter(n,function(i){return!i.indegree});return hA(r)}function hA(e){var t=[];function n(o){return function(a){a.merged||(lt.isUndefined(a.barycenter)||lt.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&pA(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),lt.forEach(i.in.reverse(),n(i)),lt.forEach(i.out,r(i))}return lt.map(lt.filter(t,function(o){return!o.merged}),function(o){return lt.pick(o,["vs","i","barycenter","weight"])})}function pA(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Qi=pe,gA=it,mA=vA;function vA(e,t){var n=gA.partition(e,function(d){return Qi.has(d,"barycenter")}),r=n.lhs,i=Qi.sortBy(n.rhs,function(d){return-d.i}),o=[],a=0,s=0,l=0;r.sort(yA(!!t)),l=Pw(o,i,l),Qi.forEach(r,function(d){l+=d.vs.length,o.push(d.vs),a+=d.barycenter*d.weight,s+=d.weight,l=Pw(o,i,l)});var c={vs:Qi.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function Pw(e,t,n){for(var r;t.length&&(r=Qi.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function yA(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var An=pe,xA=uA,_A=dA,wA=mA,bA=hk;function hk(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=An.filter(i,function(v){return v!==a&&v!==s}));var c=xA(e,i);An.forEach(c,function(v){if(e.children(v.v).length){var p=hk(e,v.v,n,r);l[v.v]=p,An.has(p,"barycenter")&&CA(v,p)}});var d=_A(c,n);SA(d,l);var f=wA(d,r);if(a&&(f.vs=An.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),g=e.node(e.predecessors(s)[0]);An.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+g.order)/(f.weight+2),f.weight+=2}return f}function SA(e,t){An.forEach(e,function(n){n.vs=An.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function CA(e,t){An.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ji=pe,kA=zt.Graph,jA=EA;function EA(e,t,n){var r=TA(e),i=new kA({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return Ji.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Ji.forEach(e[n](o),function(l){var c=l.v===o?l.w:l.v,d=i.edge(c,o),f=Ji.isUndefined(d)?0:d.weight;i.setEdge(c,o,{weight:e.edge(l).weight+f})}),Ji.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function TA(e){for(var t;e.hasNode(t=Ji.uniqueId("_root")););return t}var RA=pe,IA=MA;function MA(e,t,n){var r={},i;RA.forEach(n,function(o){for(var a=e.parent(o),s,l;a;){if(s=e.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=s}})}var Vn=pe,NA=iA,AA=aA,PA=bA,LA=jA,zA=IA,qA=zt.Graph,Lw=it,OA=DA;function DA(e){var t=Lw.maxRank(e),n=zw(e,Vn.range(1,t+1),"inEdges"),r=zw(e,Vn.range(t-1,-1,-1),"outEdges"),i=NA(e);qw(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){BA(s%2?n:r,s%4>=2),i=Lw.buildLayerMatrix(e);var c=AA(e,i);c<o&&(l=0,a=Vn.cloneDeep(i),o=c)}qw(e,a)}function zw(e,t,n){return Vn.map(t,function(r){return LA(e,r,n)})}function BA(e,t){var n=new qA;Vn.forEach(e,function(r){var i=r.graph().root,o=PA(r,i,n,t);Vn.forEach(o.vs,function(a,s){r.node(a).order=s}),zA(r,n,o.vs)})}function qw(e,t){Vn.forEach(t,function(n){Vn.forEach(n,function(r,i){e.node(r).order=i})})}var Q=pe,FA=zt.Graph,$A=it,UA={positionX:eP};function WA(e,t){var n={};function r(i,o){var a=0,s=0,l=i.length,c=Q.last(o);return Q.forEach(o,function(d,f){var h=GA(e,d),g=h?e.node(h).order:l;(h||d===c)&&(Q.forEach(o.slice(s,f+1),function(v){Q.forEach(e.predecessors(v),function(p){var w=e.node(p),m=w.order;(m<a||g<m)&&!(w.dummy&&e.node(v).dummy)&&pk(n,p,v)})}),s=f+1,a=g)}),o}return Q.reduce(t,r),n}function HA(e,t){var n={};function r(o,a,s,l,c){var d;Q.forEach(Q.range(a,s),function(f){d=o[f],e.node(d).dummy&&Q.forEach(e.predecessors(d),function(h){var g=e.node(h);g.dummy&&(g.order<l||g.order>c)&&pk(n,h,d)})})}function i(o,a){var s=-1,l,c=0;return Q.forEach(a,function(d,f){if(e.node(d).dummy==="border"){var h=e.predecessors(d);h.length&&(l=e.node(h[0]).order,r(a,c,f,s,l),c=f,s=l)}r(a,c,a.length,l,o.length)}),a}return Q.reduce(t,i),n}function GA(e,t){if(e.node(t).dummy)return Q.find(e.predecessors(t),function(n){return e.node(n).dummy})}function pk(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function VA(e,t,n){if(t>n){var r=t;t=n,n=r}return Q.has(e[t],n)}function YA(e,t,n,r){var i={},o={},a={};return Q.forEach(t,function(s){Q.forEach(s,function(l,c){i[l]=l,o[l]=l,a[l]=c})}),Q.forEach(t,function(s){var l=-1;Q.forEach(s,function(c){var d=r(c);if(d.length){d=Q.sortBy(d,function(p){return a[p]});for(var f=(d.length-1)/2,h=Math.floor(f),g=Math.ceil(f);h<=g;++h){var v=d[h];o[c]===c&&l<a[v]&&!VA(n,c,v)&&(o[v]=c,o[c]=i[c]=i[v],l=a[v])}}})}),{root:i,align:o}}function KA(e,t,n,r,i){var o={},a=XA(e,t,n,i),s=i?"borderLeft":"borderRight";function l(f,h){for(var g=a.nodes(),v=g.pop(),p={};v;)p[v]?f(v):(p[v]=!0,g.push(v),g=g.concat(h(v))),v=g.pop()}function c(f){o[f]=a.inEdges(f).reduce(function(h,g){return Math.max(h,o[g.v]+a.edge(g))},0)}function d(f){var h=a.outEdges(f).reduce(function(v,p){return Math.min(v,o[p.w]-a.edge(p))},Number.POSITIVE_INFINITY),g=e.node(f);h!==Number.POSITIVE_INFINITY&&g.borderType!==s&&(o[f]=Math.max(o[f],h))}return l(c,a.predecessors.bind(a)),l(d,a.successors.bind(a)),Q.forEach(r,function(f){o[f]=o[n[f]]}),o}function XA(e,t,n,r){var i=new FA,o=e.graph(),a=tP(o.nodesep,o.edgesep,r);return Q.forEach(t,function(s){var l;Q.forEach(s,function(c){var d=n[c];if(i.setNode(d),l){var f=n[l],h=i.edge(f,d);i.setEdge(f,d,Math.max(a(e,c,l),h||0))}l=c})}),i}function QA(e,t){return Q.minBy(Q.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Q.forIn(n,function(o,a){var s=nP(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function JA(e,t){var n=Q.values(t),r=Q.min(n),i=Q.max(n);Q.forEach(["u","d"],function(o){Q.forEach(["l","r"],function(a){var s=o+a,l=e[s],c;if(l!==t){var d=Q.values(l);c=a==="l"?r-Q.min(d):i-Q.max(d),c&&(e[s]=Q.mapValues(l,function(f){return f+c}))}})})}function ZA(e,t){return Q.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=Q.sortBy(Q.map(e,r));return(i[1]+i[2])/2})}function eP(e){var t=$A.buildLayerMatrix(e),n=Q.merge(WA(e,t),HA(e,t)),r={},i;Q.forEach(["u","d"],function(a){i=a==="u"?t:Q.values(t).reverse(),Q.forEach(["l","r"],function(s){s==="r"&&(i=Q.map(i,function(f){return Q.values(f).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),c=YA(e,i,n,l),d=KA(e,i,c.root,c.align,s==="r");s==="r"&&(d=Q.mapValues(d,function(f){return-f})),r[a+s]=d})});var o=QA(e,r);return JA(r,o),ZA(r,e.graph().align)}function tP(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),l=0,c;if(l+=a.width/2,Q.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(a.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,Q.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function nP(e,t){return e.node(t).width}var Zi=pe,gk=it,rP=UA.positionX,iP=oP;function oP(e){e=gk.asNonCompoundGraph(e),aP(e),Zi.forEach(rP(e),function(t,n){e.node(n).x=t})}function aP(e){var t=gk.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Zi.forEach(t,function(i){var o=Zi.max(Zi.map(i,function(a){return e.node(a).height}));Zi.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var Z=pe,Ow=XM,Dw=hN,sP=qN,lP=it.normalizeRanks,uP=FN,cP=it.removeEmptyRanks,Bw=HN,dP=QN,Fw=ZN,fP=OA,hP=iP,Qn=it,pP=zt.Graph,gP=mP;function mP(e,t){var n=t&&t.debugTiming?Qn.time:Qn.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return EP(e)});n("  runLayout",function(){vP(r,n)}),n("  updateInputGraph",function(){yP(e,r)})})}function vP(e,t){t("    makeSpaceForEdgeLabels",function(){TP(e)}),t("    removeSelfEdges",function(){qP(e)}),t("    acyclic",function(){Ow.run(e)}),t("    nestingGraph.run",function(){Bw.run(e)}),t("    rank",function(){sP(Qn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){RP(e)}),t("    removeEmptyRanks",function(){cP(e)}),t("    nestingGraph.cleanup",function(){Bw.cleanup(e)}),t("    normalizeRanks",function(){lP(e)}),t("    assignRankMinMax",function(){IP(e)}),t("    removeEdgeLabelProxies",function(){MP(e)}),t("    normalize.run",function(){Dw.run(e)}),t("    parentDummyChains",function(){uP(e)}),t("    addBorderSegments",function(){dP(e)}),t("    order",function(){fP(e)}),t("    insertSelfEdges",function(){OP(e)}),t("    adjustCoordinateSystem",function(){Fw.adjust(e)}),t("    position",function(){hP(e)}),t("    positionSelfEdges",function(){DP(e)}),t("    removeBorderNodes",function(){zP(e)}),t("    normalize.undo",function(){Dw.undo(e)}),t("    fixupEdgeLabelCoords",function(){PP(e)}),t("    undoCoordinateSystem",function(){Fw.undo(e)}),t("    translateGraph",function(){NP(e)}),t("    assignNodeIntersects",function(){AP(e)}),t("    reversePoints",function(){LP(e)}),t("    acyclic.undo",function(){Ow.undo(e)})}function yP(e,t){Z.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),Z.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Z.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var xP=["nodesep","edgesep","ranksep","marginx","marginy"],_P={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},wP=["acyclicer","ranker","rankdir","align"],bP=["width","height"],SP={width:0,height:0},CP=["minlen","weight","width","height","labeloffset"],kP={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},jP=["labelpos"];function EP(e){var t=new pP({multigraph:!0,compound:!0}),n=Vh(e.graph());return t.setGraph(Z.merge({},_P,Gh(n,xP),Z.pick(n,wP))),Z.forEach(e.nodes(),function(r){var i=Vh(e.node(r));t.setNode(r,Z.defaults(Gh(i,bP),SP)),t.setParent(r,e.parent(r))}),Z.forEach(e.edges(),function(r){var i=Vh(e.edge(r));t.setEdge(r,Z.merge({},kP,Gh(i,CP),Z.pick(i,jP)))}),t}function TP(e){var t=e.graph();t.ranksep/=2,Z.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function RP(e){Z.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Qn.addDummyNode(e,"edge-proxy",o,"_ep")}})}function IP(e){var t=0;Z.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Z.max(t,r.maxRank))}),e.graph().maxRank=t}function MP(e){Z.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function NP(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(c){var d=c.x,f=c.y,h=c.width,g=c.height;t=Math.min(t,d-h/2),n=Math.max(n,d+h/2),r=Math.min(r,f-g/2),i=Math.max(i,f+g/2)}Z.forEach(e.nodes(),function(c){l(e.node(c))}),Z.forEach(e.edges(),function(c){var d=e.edge(c);Z.has(d,"x")&&l(d)}),t-=a,r-=s,Z.forEach(e.nodes(),function(c){var d=e.node(c);d.x-=t,d.y-=r}),Z.forEach(e.edges(),function(c){var d=e.edge(c);Z.forEach(d.points,function(f){f.x-=t,f.y-=r}),Z.has(d,"x")&&(d.x-=t),Z.has(d,"y")&&(d.y-=r)}),o.width=n-t+a,o.height=i-r+s}function AP(e){Z.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Qn.intersectRect(r,o)),n.points.push(Qn.intersectRect(i,a))})}function PP(e){Z.forEach(e.edges(),function(t){var n=e.edge(t);if(Z.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function LP(e){Z.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function zP(e){Z.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(Z.last(n.borderLeft)),a=e.node(Z.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),Z.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function qP(e){Z.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function OP(e){var t=Qn.buildLayerMatrix(e);Z.forEach(t,function(n){var r=0;Z.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,Z.forEach(a.selfEdges,function(s){Qn.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function DP(e){Z.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function Gh(e,t){return Z.mapValues(Z.pick(e,t),Number)}function Vh(e){var t={};return Z.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var wa=pe,BP=it,FP=zt.Graph,$P={debugOrdering:UP};function UP(e){var t=BP.buildLayerMatrix(e),n=new FP({compound:!0,multigraph:!0}).setGraph({});return wa.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),wa.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),wa.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),wa.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var WP="0.8.5",HP={graphlib:zt,layout:gP,debug:$P,util:{time:it.time,notime:it.notime},version:WP};const $w=Jw(HP);function GP(e,t){const[n,r]=C.useState(e);return C.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function VP(e){const t=new Map;for(const n of e)t.set(n.hash,n),t.set(n.short_hash,n),n.hash.length>=7&&t.set(n.hash.slice(0,7),n);return t}const YP=({nodes:e,gitHistory:t=[],onSelectNode:n,onHighlightNodes:r,placeholder:i="Search nodes, commits, prompts...",query:o,onQueryChange:a})=>{const[s,l]=C.useState(""),c=o!==void 0,d=c?o:s,f=c?a||(()=>{}):l,[h,g]=C.useState(!1),[v,p]=C.useState(0),w=C.useRef(null),m=C.useRef(null),y=GP(d,150),_=C.useMemo(()=>VP(t),[t]),x=C.useMemo(()=>{var H,R,D,A;if(!y||y.length<2)return[];const T=y.toLowerCase(),N=[],F=new Set;for(const z of e){const I=Xn(z.metadata_json);if(z.title.toLowerCase().includes(T)&&(F.has(z.id)||(N.push({node:z,matchType:"title",matchText:z.title}),F.add(z.id))),(H=z.description)!=null&&H.toLowerCase().includes(T)&&(F.has(z.id)||(N.push({node:z,matchType:"description",matchText:z.description}),F.add(z.id))),I!=null&&I.commit){const P=_.get(I.commit)||_.get(I.commit.slice(0,7)),q=((R=P==null?void 0:P.message)==null?void 0:R.toLowerCase())||"";(I.commit.toLowerCase().includes(T)||q.includes(T))&&(F.has(z.id)||(N.push({node:z,matchType:"commit",matchText:(P==null?void 0:P.message)||I.commit,commitInfo:P}),F.add(z.id)))}if((D=I==null?void 0:I.prompt)!=null&&D.toLowerCase().includes(T)&&(F.has(z.id)||(N.push({node:z,matchType:"prompt",matchText:I.prompt}),F.add(z.id))),(A=I==null?void 0:I.files)!=null&&A.some(P=>P.toLowerCase().includes(T))&&!F.has(z.id)){const P=I.files.find(q=>q.toLowerCase().includes(T))||"";N.push({node:z,matchType:"files",matchText:P}),F.add(z.id)}}return N.sort((z,I)=>z.matchType==="title"&&I.matchType!=="title"?-1:I.matchType==="title"&&z.matchType!=="title"?1:new Date(I.node.updated_at).getTime()-new Date(z.node.updated_at).getTime())},[y,e,_]),b=C.useMemo(()=>x.slice(0,15),[x]);C.useEffect(()=>{const T=new Set(x.map(N=>N.node.id));r(T)},[x,r]),C.useEffect(()=>{p(0)},[b]);const j=C.useCallback(T=>{var N,F;if(b.length)switch(T.key){case"ArrowDown":T.preventDefault(),p(H=>Math.min(H+1,b.length-1));break;case"ArrowUp":T.preventDefault(),p(H=>Math.max(H-1,0));break;case"Enter":T.preventDefault(),b[v]&&(n(b[v].node),f(""),(N=w.current)==null||N.blur());break;case"Escape":T.preventDefault(),f(""),(F=w.current)==null||F.blur();break}},[b,v,n]);C.useEffect(()=>{if(m.current&&b.length>0){const T=m.current.children[v];T==null||T.scrollIntoView({block:"nearest"})}},[v,b.length]);const S=C.useCallback(T=>{var N;n(T.node),f(""),(N=w.current)==null||N.blur()},[n]),k=h&&b.length>0,E=T=>{switch(T){case"title":return"Title";case"description":return"Desc";case"commit":return"Commit";case"prompt":return"Prompt";case"files":return"File"}};return u.jsxs("div",{style:Te.container,children:[u.jsxs("div",{style:Te.inputWrapper,children:[u.jsx("svg",{style:Te.searchIcon,viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"})}),u.jsx("input",{ref:w,type:"text",value:d,onChange:T=>f(T.target.value),onFocus:()=>g(!0),onBlur:()=>setTimeout(()=>g(!1),200),onKeyDown:j,placeholder:i,style:Te.input,"aria-label":"Search nodes","aria-expanded":k,"aria-controls":"search-results",role:"combobox"}),d&&u.jsx("button",{onClick:()=>f(""),style:Te.clearBtn,"aria-label":"Clear search",children:""})]}),k&&u.jsxs("div",{ref:m,id:"search-results",style:Te.dropdown,role:"listbox",children:[b.map((T,N)=>u.jsxs("div",{onClick:()=>S(T),style:{...Te.resultItem,...N===v?Te.resultItemSelected:{}},role:"option","aria-selected":N===v,children:[u.jsxs("div",{style:Te.resultLeft,children:[u.jsx("div",{style:{...Te.nodeTypeDot,backgroundColor:Ne(T.node.node_type)}}),u.jsxs("span",{style:Te.nodeId,children:["#",T.node.id]}),u.jsx("span",{style:Te.resultTitle,children:It(T.node.title,35)})]}),u.jsxs("div",{style:Te.resultRight,children:[u.jsx("span",{style:Te.matchLabel,children:E(T.matchType)}),T.matchType==="commit"&&T.commitInfo&&u.jsx("span",{style:Te.commitHash,children:fm(T.commitInfo.hash)})]})]},`${T.node.id}-${T.matchType}`)),u.jsx("div",{style:Te.dropdownFooter,children:u.jsx("span",{style:Te.footerHint,children:x.length>15?`Showing 15 of ${x.length}  All ${x.length} highlighted`:" navigate  Enter select  Esc close"})})]}),h&&d.length>=2&&x.length===0&&u.jsx("div",{style:Te.dropdown,children:u.jsx("div",{style:Te.noResults,children:"No matching nodes found"})})]})},Te={container:{position:"relative",flex:1,maxWidth:"400px",minWidth:"200px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},searchIcon:{position:"absolute",left:"10px",width:"16px",height:"16px",color:"#57606a",pointerEvents:"none"},input:{width:"100%",padding:"8px 32px 8px 34px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",fontSize:"13px",color:"#24292f",outline:"none",transition:"border-color 0.15s, background-color 0.15s"},clearBtn:{position:"absolute",right:"8px",width:"20px",height:"20px",padding:0,backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#57606a",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},dropdown:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",maxHeight:"400px",overflowY:"auto",zIndex:1e3},resultItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",transition:"background-color 0.1s"},resultItemSelected:{backgroundColor:"#f6f8fa"},resultLeft:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},nodeTypeDot:{width:"8px",height:"8px",borderRadius:"50%",flexShrink:0},nodeId:{fontSize:"11px",color:"#6e7781",fontFamily:"monospace",flexShrink:0},resultTitle:{fontSize:"13px",color:"#24292f",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},resultRight:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0,marginLeft:"8px"},matchLabel:{fontSize:"10px",color:"#57606a",backgroundColor:"#f6f8fa",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},commitHash:{fontSize:"11px",color:"#0969da",fontFamily:"monospace",backgroundColor:"#ddf4ff",padding:"2px 6px",borderRadius:"4px"},dropdownFooter:{padding:"8px 12px",backgroundColor:"#f6f8fa",borderTop:"1px solid #d0d7de"},footerHint:{fontSize:"11px",color:"#6e7781"},noResults:{padding:"16px",textAlign:"center",color:"#57606a",fontSize:"13px"}},rn=420,Ua=180,KP=12,Es=20,En=10,dg=70,Yh=rn+Es*2,XP=768;function QP(e){if(!e.metadata_json)return null;try{const t=JSON.parse(e.metadata_json);return typeof t.confidence=="number"?t.confidence:null}catch{return null}}function JP(e,t,n){const r=[...e].sort((a,s)=>a.nodeY-s.nodeY),i=t-rn-Es;let o=dg;return r.map((a,s)=>{const l=o;return o+=Ua+KP,o>n-Es&&s<r.length-1&&(o=dg),{...a,cardX:i,cardY:l}})}const ZP=({nodes:e,selectedNode:t,onSelectNode:n,onClose:r})=>{if(!t)return null;const i=e.find(o=>o.node.id===t.id);return i?u.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"#fff",borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 -4px 20px rgba(0,0,0,0.15)",zIndex:100,padding:"16px 20px 24px",maxHeight:"50vh",overflowY:"auto"},children:[u.jsx("div",{style:{width:40,height:4,backgroundColor:"#d0d7de",borderRadius:2,margin:"0 auto 16px"}}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[u.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:i.color}}),u.jsx("span",{style:{backgroundColor:i.color+"20",color:i.color,padding:"4px 10px",borderRadius:4,fontSize:11,fontWeight:600},children:t.node_type.toUpperCase()}),u.jsxs("span",{style:{color:"#6e7781",fontFamily:"monospace",fontSize:13},children:["#",t.id]}),u.jsx("button",{onClick:r,style:{marginLeft:"auto",background:"none",border:"none",fontSize:24,color:"#6e7781",cursor:"pointer",padding:4},children:""})]}),u.jsx("h3",{style:{margin:"0 0 8px",fontSize:16,color:"#24292f"},children:t.title}),t.description&&u.jsx("p",{style:{margin:"0 0 16px",fontSize:14,color:"#57606a",lineHeight:1.5},children:t.description}),u.jsx("button",{onClick:()=>n(t),style:{width:"100%",padding:"12px 16px",backgroundColor:"#0969da",color:"#fff",border:"none",borderRadius:8,fontSize:14,fontWeight:500,cursor:"pointer"},children:"View Full Details"}),e.length>1&&u.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid #d0d7de"},children:[u.jsxs("div",{style:{fontSize:12,color:"#6e7781",marginBottom:8},children:["Other matches (",e.length-1,")"]}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:e.filter(o=>o.node.id!==t.id).slice(0,6).map(o=>u.jsxs("button",{onClick:()=>n(o.node),style:{padding:"6px 10px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:6,fontSize:12,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:[u.jsx("span",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:o.color}}),"#",o.node.id]},o.node.id))})]})]}):null},eL=({nodes:e,edges:t,highlightedNodeIds:n,visibilityMap:r,containerWidth:i,containerHeight:o,onSelectNode:a})=>{const[s,l]=C.useState(null),[c,d]=C.useState(null),[f,h]=C.useState(!1),g=p=>e.find(w=>w.id===p);C.useEffect(()=>{const p=()=>h(window.innerWidth<XP);return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const v=C.useMemo(()=>{const p=[];return e.forEach(w=>{if(!n.has(w.id))return;const m=r.get(w.id);if(!m||m.visibility!=="too-small")return;const y=t.filter(b=>b.to_node_id===w.id),_=t.filter(b=>b.from_node_id===w.id),x={incoming:y.map(b=>({node:g(b.from_node_id),edgeType:b.edge_type,rationale:b.rationale})).filter(b=>b.node),outgoing:_.map(b=>({node:g(b.to_node_id),edgeType:b.edge_type,rationale:b.rationale})).filter(b=>b.node)};p.push({node:w,nodeX:m.screenX+m.screenWidth/2,nodeY:m.screenY+m.screenHeight/2,cardX:0,cardY:0,color:Ne(w.node_type),connections:x})}),JP(p,i,o)},[e,t,n,r,i,o]);return v.length===0?null:f?u.jsxs(u.Fragment,{children:[u.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:40},children:v.map(p=>u.jsxs("g",{children:[u.jsxs("circle",{cx:p.nodeX,cy:p.nodeY,r:En+6,fill:p.color,fillOpacity:.3,children:[u.jsx("animate",{attributeName:"r",values:`${En+4};${En+10};${En+4}`,dur:"2s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"fill-opacity",values:"0.3;0.1;0.3",dur:"2s",repeatCount:"indefinite"})]}),u.jsx("circle",{cx:p.nodeX,cy:p.nodeY,r:En+4,fill:p.color,stroke:"#fff",strokeWidth:2,style:{pointerEvents:"auto",cursor:"pointer"},onClick:()=>d(p.node)}),u.jsxs("text",{x:p.nodeX,y:p.nodeY+En+16,fill:p.color,fontSize:"11",fontWeight:"600",textAnchor:"middle",style:{pointerEvents:"none"},children:["#",p.node.id]})]},p.node.id))}),u.jsx(ZP,{nodes:v,selectedNode:c,onSelectNode:a,onClose:()=>d(null)})]}):u.jsxs("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:40},children:[u.jsx("rect",{x:i-Yh,y:0,width:Yh,height:o,fill:"#f6f8fa",fillOpacity:.85}),v.map(p=>{const w=s===p.node.id,m=p.cardX,y=p.cardY+Ua/2;return u.jsxs("g",{children:[u.jsx("path",{d:`M ${p.nodeX} ${p.nodeY}
                  Q ${p.nodeX+(m-p.nodeX)*.5} ${p.nodeY}
                    ${m} ${y}`,stroke:p.color,strokeWidth:w?3:2,strokeOpacity:w?.9:.5,fill:"none",strokeDasharray:w?"none":"8,4"}),u.jsx("circle",{cx:p.nodeX,cy:p.nodeY,r:w?En+3:En,fill:p.color,stroke:"#fff",strokeWidth:2,style:{pointerEvents:"auto",cursor:"pointer",transition:"r 0.15s"},onMouseEnter:()=>l(p.node.id),onMouseLeave:()=>l(null),onClick:()=>a(p.node)}),u.jsxs("g",{style:{pointerEvents:"auto",cursor:"pointer"},onClick:()=>a(p.node),onMouseEnter:()=>l(p.node.id),onMouseLeave:()=>l(null),children:[u.jsx("rect",{x:p.cardX,y:p.cardY,width:rn,height:Ua,rx:10,fill:"#ffffff",stroke:w?p.color:"#d0d7de",strokeWidth:w?2:1,filter:w?"drop-shadow(0 6px 16px rgba(0,0,0,0.18))":"drop-shadow(0 2px 6px rgba(0,0,0,0.1))"}),u.jsx("rect",{x:p.cardX,y:p.cardY,width:4,height:Ua,rx:2,fill:p.color}),u.jsx("rect",{x:p.cardX+14,y:p.cardY+10,width:72,height:20,rx:4,fill:p.color,fillOpacity:.15}),u.jsx("text",{x:p.cardX+50,y:p.cardY+20,fill:p.color,fontSize:"10",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:p.node.node_type.toUpperCase()}),(()=>{const _=QP(p.node);return _===null?null:u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:p.cardX+92,y:p.cardY+10,width:42,height:20,rx:4,fill:_>=80?"#22c55e":_>=50?"#f59e0b":"#ef4444",fillOpacity:.15}),u.jsxs("text",{x:p.cardX+113,y:p.cardY+20,fill:_>=80?"#16a34a":_>=50?"#d97706":"#dc2626",fontSize:"10",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:[_,"%"]})]})})(),u.jsxs("text",{x:p.cardX+145,y:p.cardY+20,fill:"#6e7781",fontSize:"11",fontFamily:"monospace",fontWeight:"500",dominantBaseline:"middle",children:["Node #",p.node.id]}),u.jsx("text",{x:p.cardX+rn-14,y:p.cardY+20,fill:"#8b949e",fontSize:"10",textAnchor:"end",dominantBaseline:"middle",children:new Date(p.node.created_at).toLocaleDateString()}),u.jsx("text",{x:p.cardX+14,y:p.cardY+44,fill:"#24292f",fontSize:"14",fontWeight:"600",dominantBaseline:"middle",children:It(p.node.title,48)}),p.node.description&&u.jsx("text",{x:p.cardX+14,y:p.cardY+64,fill:"#57606a",fontSize:"12",dominantBaseline:"middle",children:It(p.node.description,55)}),u.jsx("line",{x1:p.cardX+14,y1:p.cardY+82,x2:p.cardX+rn-14,y2:p.cardY+82,stroke:"#e5e7eb",strokeWidth:1}),u.jsxs("text",{x:p.cardX+14,y:p.cardY+98,fill:"#6e7781",fontSize:"9",fontWeight:"600",dominantBaseline:"middle",letterSpacing:"0.5",children:["INCOMING (",p.connections.incoming.length,")"]}),p.connections.incoming.length>0?u.jsxs("g",{children:[p.connections.incoming.slice(0,1).map((_,x)=>u.jsxs("g",{children:[u.jsx("rect",{x:p.cardX+14,y:p.cardY+106,width:rn-28,height:24,rx:4,fill:"#f6f8fa"}),u.jsx("rect",{x:p.cardX+18,y:p.cardY+110,width:50,height:16,rx:3,fill:Ne(_.node.node_type),fillOpacity:.15}),u.jsx("text",{x:p.cardX+43,y:p.cardY+118,fill:Ne(_.node.node_type),fontSize:"8",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:_.node.node_type.toUpperCase()}),u.jsx("text",{x:p.cardX+74,y:p.cardY+118,fill:"#24292f",fontSize:"11",dominantBaseline:"middle",children:It(_.node.title,38)})]},`in-${x}`)),p.connections.incoming.length>1&&u.jsxs("text",{x:p.cardX+rn-14,y:p.cardY+118,fill:"#6e7781",fontSize:"9",textAnchor:"end",dominantBaseline:"middle",children:["+",p.connections.incoming.length-1," more"]})]}):u.jsx("text",{x:p.cardX+14,y:p.cardY+118,fill:"#9ca3af",fontSize:"10",fontStyle:"italic",dominantBaseline:"middle",children:"No incoming connections"}),u.jsxs("text",{x:p.cardX+14,y:p.cardY+140,fill:"#6e7781",fontSize:"9",fontWeight:"600",dominantBaseline:"middle",letterSpacing:"0.5",children:["OUTGOING (",p.connections.outgoing.length,")"]}),p.connections.outgoing.length>0?u.jsxs("g",{children:[p.connections.outgoing.slice(0,1).map((_,x)=>u.jsxs("g",{children:[u.jsx("rect",{x:p.cardX+14,y:p.cardY+148,width:rn-28,height:24,rx:4,fill:"#f6f8fa"}),u.jsx("rect",{x:p.cardX+18,y:p.cardY+152,width:50,height:16,rx:3,fill:Ne(_.node.node_type),fillOpacity:.15}),u.jsx("text",{x:p.cardX+43,y:p.cardY+160,fill:Ne(_.node.node_type),fontSize:"8",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",children:_.node.node_type.toUpperCase()}),u.jsx("text",{x:p.cardX+74,y:p.cardY+160,fill:"#24292f",fontSize:"11",dominantBaseline:"middle",children:It(_.node.title,38)})]},`out-${x}`)),p.connections.outgoing.length>1&&u.jsxs("text",{x:p.cardX+rn-14,y:p.cardY+160,fill:"#6e7781",fontSize:"9",textAnchor:"end",dominantBaseline:"middle",children:["+",p.connections.outgoing.length-1," more"]})]}):u.jsx("text",{x:p.cardX+14,y:p.cardY+160,fill:"#9ca3af",fontSize:"10",fontStyle:"italic",dominantBaseline:"middle",children:"No outgoing connections"})]})]},p.node.id)}),u.jsxs("text",{x:i-Yh+Es,y:dg-16,fill:"#57606a",fontSize:"12",fontWeight:"500",children:[v.length," match",v.length!==1?"es":""," found"]})]})},ba=150,Sa=100,Ca=10,tL=({nodes:e,highlightedNodeIds:t,visibilityMap:n,nodePositions:r,graphBounds:i,viewportBounds:o,zoom:a,onNavigateToNode:s})=>{const l=C.useMemo(()=>{const h=i.maxX-i.minX,g=i.maxY-i.minY;if(h===0||g===0)return 1;const v=(ba-Ca*2)/h,p=(Sa-Ca*2)/g;return Math.min(v,p)},[i]),c=C.useMemo(()=>e.filter(h=>{if(!t.has(h.id))return!1;const g=n.get(h.id);return(g==null?void 0:g.visibility)==="off-screen"}),[e,t,n]),d=(h,g)=>({x:Ca+(h-i.minX)*l,y:Ca+(g-i.minY)*l}),f=C.useMemo(()=>{const h=d(-o.x/a,-o.y/a);return{x:h.x,y:h.y,width:o.width/a*l,height:o.height/a*l}},[o,a,l,i]);return c.length===0?null:u.jsxs("div",{style:Bt.container,children:[u.jsxs("div",{style:Bt.header,children:[u.jsx("span",{style:Bt.title,children:"Off-screen matches"}),u.jsx("span",{style:Bt.count,children:c.length})]}),u.jsxs("svg",{width:ba,height:Sa,style:Bt.svg,children:[u.jsx("rect",{x:0,y:0,width:ba,height:Sa,fill:"#f6f8fa",rx:4}),e.map(h=>{const g=r.get(h.id);if(!g)return null;const{x:v,y:p}=d(g.x,g.y),w=t.has(h.id);return u.jsx("circle",{cx:v,cy:p,r:w?4:1.5,fill:w?Ne(h.node_type):"#d0d7de",opacity:w?1:.5},h.id)}),u.jsx("rect",{x:Math.max(0,f.x),y:Math.max(0,f.y),width:Math.min(f.width,ba-f.x),height:Math.min(f.height,Sa-f.y),fill:"none",stroke:"#0969da",strokeWidth:1.5,rx:2})]}),u.jsxs("div",{style:Bt.list,children:[c.slice(0,5).map(h=>u.jsxs("div",{style:Bt.listItem,onClick:()=>s(h),children:[u.jsx("div",{style:{...Bt.dot,backgroundColor:Ne(h.node_type)}}),u.jsxs("span",{style:Bt.nodeId,children:["#",h.id]})]},h.id)),c.length>5&&u.jsxs("div",{style:Bt.moreText,children:["+",c.length-5," more"]})]})]})},Bt={container:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",zIndex:50,overflow:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid #d0d7de",backgroundColor:"#f6f8fa"},title:{fontSize:"11px",fontWeight:600,color:"#57606a",textTransform:"uppercase"},count:{fontSize:"11px",fontWeight:600,color:"#cf222e",backgroundColor:"#ffebe9",padding:"2px 6px",borderRadius:"10px"},svg:{display:"block"},list:{padding:"8px",borderTop:"1px solid #d0d7de",maxHeight:"100px",overflowY:"auto"},listItem:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 6px",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.1s"},dot:{width:"8px",height:"8px",borderRadius:"50%",flexShrink:0},nodeId:{fontSize:"11px",color:"#24292f",fontFamily:"monospace"},moreText:{fontSize:"10px",color:"#57606a",padding:"4px 6px",fontStyle:"italic"}},Uw=45;function nL(e,t,n,r){const[i,o]=C.useState(new Map),a=C.useRef(!1),s=C.useCallback(()=>{if(!e.current)return;const g=e.current.getBoundingClientRect(),v=g.width,p=g.height,w=new Map;t.forEach((m,y)=>{const _=m.x*n+r.x,x=m.y*n+r.y,b=m.width*n,j=m.height*n,S=_-b/2,k=x-j/2,E=50,T=S+b>=-E&&S<=v+E&&k+j>=-E&&k<=p+E,N=b>=Uw&&j>=Uw;let F;T?N?F="visible":F="too-small":F="off-screen",w.set(y,{visibility:F,screenX:S,screenY:k,screenWidth:b,screenHeight:j})}),o(w)},[e,t,n,r]);C.useEffect(()=>{if(a.current)return;a.current=!0;const h=setTimeout(()=>{s(),a.current=!1},50);return()=>{clearTimeout(h),a.current=!1}},[s]);const l=C.useCallback(h=>{var g;return((g=i.get(h))==null?void 0:g.visibility)??"off-screen"},[i]);let c=0,d=0,f=0;return i.forEach(h=>{switch(h.visibility){case"visible":c++;break;case"too-small":d++;break;case"off-screen":f++;break}}),{visibilityMap:i,getVisibility:l,updateVisibility:s,visibleCount:c,tooSmallCount:d,offScreenCount:f}}const Hm=1e3;function Ww(){if(typeof window>"u")return mk();const e=new URLSearchParams(window.location.search),t=e.get("node"),n=e.get("search")||e.get("q"),r=e.get("view"),i=e.get("chains"),o=e.get("focus"),a=e.get("fullscreen");return{selectedNodeId:t?parseInt(t,10):null,searchQuery:n||"",viewMode:r==="all"||r==="single"||r==="recent"?r:"recent",recentChainCount:i?parseInt(i,10):Hm,focusChainIndex:o?parseInt(o,10):null,isFullscreen:a==="1"||a==="true"}}function mk(){return{selectedNodeId:null,searchQuery:"",viewMode:"recent",recentChainCount:Hm,focusChainIndex:null,isFullscreen:typeof window<"u"&&window.innerWidth>=768}}function vk(e){const t=new URLSearchParams;return e.selectedNodeId!==null&&t.set("node",String(e.selectedNodeId)),e.searchQuery&&t.set("search",e.searchQuery),e.viewMode!=="recent"&&t.set("view",e.viewMode),e.recentChainCount!==Hm&&t.set("chains",String(e.recentChainCount)),e.focusChainIndex!==null&&t.set("focus",String(e.focusChainIndex)),e.isFullscreen&&t.set("fullscreen","1"),t.toString()}function rL(e){if(typeof window>"u")return;const t=vk(e),n=t?`${window.location.pathname}?${t}`:window.location.pathname;window.history.replaceState({},"",n)}function iL(){const[e,t]=C.useState(mk);C.useEffect(()=>{const d=Ww();t(d)},[]),C.useEffect(()=>{rL(e)},[e]),C.useEffect(()=>{const d=()=>{t(Ww())};return window.addEventListener("popstate",d),()=>window.removeEventListener("popstate",d)},[]);const n=C.useCallback(d=>{t(f=>({...f,selectedNodeId:d}))},[]),r=C.useCallback(d=>{t(f=>({...f,searchQuery:d}))},[]),i=C.useCallback(d=>{t(f=>({...f,viewMode:d}))},[]),o=C.useCallback(d=>{t(f=>({...f,recentChainCount:d}))},[]),a=C.useCallback(d=>{t(f=>({...f,focusChainIndex:d}))},[]),s=C.useCallback(d=>{t(f=>({...f,isFullscreen:d}))},[]),l=C.useCallback(()=>{if(typeof window>"u")return"";const d=vk(e);return d?`${window.location.origin}${window.location.pathname}?${d}`:`${window.location.origin}${window.location.pathname}`},[e]),c=C.useCallback(async()=>{const d=l();try{await navigator.clipboard.writeText(d)}catch{const h=document.createElement("textarea");h.value=d,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h)}},[l]);return{state:e,setSelectedNodeId:n,setSearchQuery:r,setViewMode:i,setRecentChainCount:o,setFocusChainIndex:a,setIsFullscreen:s,copyLinkToClipboard:c,getShareableUrl:l}}const Kh=1e3;function Hw(e){return Math.max(...e.nodes.map(t=>new Date(t.updated_at).getTime()))}function oL(e){return[...e].sort((t,n)=>Hw(n)-Hw(t))}const aL=({graphData:e,chains:t,gitHistory:n=[]})=>{const r=C.useRef(null),i=C.useRef(null),[o,a]=C.useState(1),{state:s,setSelectedNodeId:l,setSearchQuery:c,setViewMode:d,setRecentChainCount:f,setFocusChainIndex:h,setIsFullscreen:g,copyLinkToClipboard:v}=iL(),p=C.useMemo(()=>s.selectedNodeId===null?null:e.nodes.find(B=>B.id===s.selectedNodeId)??null,[s.selectedNodeId,e.nodes]),w=typeof window<"u"&&window.innerWidth<768,[m,y]=C.useState(w),[_,x]=C.useState(new Set),[b,j]=C.useState(new Map),[S,k]=C.useState({x:0,y:0}),[E,T]=C.useState({width:0,height:0}),[N,F]=C.useState({minX:0,maxX:1e3,minY:0,maxY:1e3}),{visibilityMap:H}=nL(r,b,o,S),R=C.useRef(null),D=C.useMemo(()=>oL(t),[t]),A=C.useMemo(()=>D.filter(B=>B.root.node_type==="goal"),[D]),z=C.useMemo(()=>s.viewMode==="single"&&s.focusChainIndex!==null?[t[s.focusChainIndex]].filter(Boolean):s.viewMode==="recent"?A.slice(0,s.recentChainCount):D,[s.viewMode,s.focusChainIndex,t,A,D,s.recentChainCount]),I=C.useMemo(()=>{const B=new Set;return z.forEach(Ue=>{Ue.nodes.forEach(J=>B.add(J.id))}),B},[z]),P=A.length-(s.viewMode==="recent"?s.recentChainCount:0),q=C.useCallback(B=>{l(B.id)},[l]),G=C.useCallback(B=>{l(B)},[l]),[K,be]=C.useState(!1),[oe,Se]=C.useState(""),ge=C.useCallback((B=1)=>{f(Math.min(s.recentChainCount+B,A.length)),be(!1),Se("")},[s.recentChainCount,A.length,f]),Ce=C.useCallback((B=1)=>{f(Math.max(s.recentChainCount-B,1))},[s.recentChainCount,f]),Qe=C.useCallback(()=>{const B=parseInt(oe,10);B>0&&ge(B)},[oe,ge]),wn=C.useCallback(()=>{d("all")},[d]),ji=C.useCallback(()=>{d("recent"),f(Kh),h(null)},[d,f,h]),ml=C.useCallback(()=>{g(!s.isFullscreen)},[s.isFullscreen,g]),vl=C.useCallback(()=>{y(B=>!B)},[]);C.useEffect(()=>{const B=Ue=>{Ue.key==="Escape"&&s.isFullscreen&&g(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[s.isFullscreen,g]);const yl=C.useCallback(B=>{B===null?(d("recent"),h(null)):(d("single"),h(B))},[d,h]),xl=C.useCallback(B=>{if(!r.current||!i.current||!R.current)return;const Ue=He(r.current),J=i.current,ot=J.clientWidth,Ct=J.clientHeight,ir=b.get(B.id);if(!ir)return;const re=1.2,at=ot/2-ir.x*re,ke=Ct/2-ir.y*re;Ue.transition().duration(500).call(R.current.transform,bs.translate(at,ke).scale(re)),l(B.id)},[b,l]);return C.useEffect(()=>{if(!r.current||!i.current)return;const B=He(r.current),Ue=i.current,J=Ue.clientWidth,ot=Ue.clientHeight;B.selectAll("*").remove();const Ct=e.nodes.filter(X=>I.has(X.id)),ir=e.edges.filter(X=>I.has(X.from_node_id)&&I.has(X.to_node_id));if(Ct.length===0)return;const re=new $w.graphlib.Graph;re.setGraph({rankdir:"TB",nodesep:80,ranksep:100,marginx:50,marginy:50}),re.setDefaultEdgeLabel(()=>({})),Ct.forEach(X=>{re.setNode(String(X.id),{width:150,height:60,node:X})}),ir.forEach(X=>{re.setEdge(String(X.from_node_id),String(X.to_node_id),{edge:X})}),$w.layout(re);const at=new Map;let ke=1/0,bn=-1/0,Sn=1/0,Ei=-1/0;re.nodes().forEach(X=>{const te=re.node(X);at.set(parseInt(X),{x:te.x,y:te.y,width:te.width,height:te.height}),ke=Math.min(ke,te.x-te.width/2),bn=Math.max(bn,te.x+te.width/2),Sn=Math.min(Sn,te.y-te.height/2),Ei=Math.max(Ei,te.y+te.height/2)}),j(at),F({minX:ke,maxX:bn,minY:Sn,maxY:Ei}),T({width:J,height:ot});const Ti=re.graph().width||J,Xt=re.graph().height||ot,Ar=B.append("g"),Pr=eC().scaleExtent([.1,3]).on("zoom",X=>{Ar.attr("transform",X.transform),a(X.transform.k),k({x:X.transform.x,y:X.transform.y})});R.current=Pr,B.call(Pr);const Ri=Math.min((J-100)/Ti,(ot-100)/Xt,1),Yo=(J-Ti*Ri)/2,qt=(ot-Xt*Ri)/2;B.call(Pr.transform,bs.translate(Yo,qt).scale(Ri)),Ar.append("g").selectAll(".edge").data(re.edges()).join("g").attr("class","edge").each(function(X){const te=re.edge(X),Ko=te.edge,xk=B8().x(wl=>wl.x).y(wl=>wl.y).curve(F8);He(this).append("path").attr("d",xk(te.points)).attr("fill","none").attr("stroke",pR(Ko.edge_type)).attr("stroke-width",2).attr("stroke-opacity",.6).attr("stroke-dasharray",Ko.edge_type==="rejected"?"5,5":null).attr("marker-end","url(#arrowhead)")});const Vm=B.append("defs");Vm.append("marker").attr("id","arrowhead").attr("viewBox","-5 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M-5,-5L5,0L-5,5Z").attr("fill","#666");const Ym=Vm.append("filter").attr("id","search-glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");Ym.append("feGaussianBlur").attr("stdDeviation","4").attr("result","coloredBlur");const Km=Ym.append("feMerge");Km.append("feMergeNode").attr("in","coloredBlur"),Km.append("feMergeNode").attr("in","SourceGraphic");const _l=Ar.append("g").selectAll(".node").data(re.nodes()).join("g").attr("class","node").attr("transform",X=>{const te=re.node(X);return`translate(${te.x-te.width/2},${te.y-te.height/2})`}).style("cursor","pointer").on("click",(X,te)=>{const Ko=re.node(te).node;q(Ko)});return _l.append("rect").attr("width",X=>re.node(X).width).attr("height",X=>re.node(X).height).attr("rx",8).attr("fill",X=>{const te=re.node(X).node;return Ne(te.node_type)}).attr("fill-opacity",X=>{const te=re.node(X).node;return _.has(te.id)?.5:.2}).attr("stroke",X=>{const te=re.node(X).node;return _.has(te.id)?"#f59e0b":Ne(te.node_type)}).attr("stroke-width",X=>{const te=re.node(X).node;return _.has(te.id)?4:2}).attr("filter",X=>{const te=re.node(X).node;return _.has(te.id)?"url(#search-glow)":null}),_l.append("text").attr("x",10).attr("y",18).attr("fill","#666").attr("font-size","10px").text(X=>`#${X}`),_l.append("text").attr("x",X=>re.node(X).width/2).attr("y",38).attr("text-anchor","middle").attr("fill","#24292f").attr("font-size","12px").text(X=>{const te=re.node(X).node;return It(te.title,20)}),()=>{B.on(".zoom",null)}},[e,I,q,_]),u.jsxs("div",{style:{...Y.container,...s.isFullscreen?Y.fullscreenContainer:{}},children:[u.jsxs("div",{style:{...Y.topBar,...s.isFullscreen?Y.fullscreenTopBar:{}},children:[u.jsx("div",{style:Y.topBarLeft,children:u.jsx(YP,{nodes:e.nodes,gitHistory:n,onSelectNode:q,onHighlightNodes:x,placeholder:"Search nodes, commits...",query:s.searchQuery,onQueryChange:c})}),u.jsxs("div",{style:Y.topBarCenter,children:[s.viewMode==="recent"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>Ce(1),style:{...Y.topBarBtnDanger,...s.recentChainCount<=1?Y.topBarBtnDisabled:{}},disabled:s.recentChainCount<=1,title:s.recentChainCount<=1?"Already showing minimum":"Show one fewer goal chain",children:"1 Chain"}),u.jsx("button",{onClick:()=>ge(1),style:{...Y.topBarBtn,...P<=0?Y.topBarBtnDisabled:{}},disabled:P<=0,title:P<=0?"All chains shown":"Show one more goal chain",children:"+1 Chain"}),K?u.jsxs("div",{style:Y.expandInputRow,children:[u.jsx("input",{type:"number",min:"1",max:P,value:oe,onChange:B=>Se(B.target.value),onKeyDown:B=>B.key==="Enter"&&Qe(),placeholder:String(P),style:Y.topBarInput,autoFocus:!0}),u.jsx("button",{onClick:Qe,style:Y.topBarBtn,children:"Add"})]}):u.jsx("button",{onClick:()=>be(!0),style:{...Y.topBarBtn,...P<=0?Y.topBarBtnDisabled:{}},disabled:P<=0,title:P<=0?"All chains shown":"Add a specific number of chains",children:"+N..."}),u.jsxs("button",{onClick:wn,style:{...Y.topBarBtnSecondary,...P<=0?Y.topBarBtnDisabled:{}},disabled:P<=0,title:P<=0?"All chains shown":"Show all goal chains in the graph",children:["Show All (",A.length,")"]}),s.recentChainCount>Kh&&u.jsxs("button",{onClick:ji,style:Y.topBarBtnSecondary,children:["Reset to ",Kh]})]}),s.viewMode==="all"&&u.jsx("button",{onClick:ji,style:Y.topBarBtn,children:"Show Recent Only"}),s.viewMode==="single"&&u.jsx("button",{onClick:ji,style:Y.topBarBtn,children:"Back to Recent"})]}),u.jsxs("div",{style:Y.topBarRight,children:[_.size>0&&u.jsxs(u.Fragment,{children:[u.jsxs("span",{style:Y.matchCount,children:[_.size," matches"]}),u.jsx("span",{style:Y.topBarStatDivider,children:""})]}),u.jsxs("span",{style:Y.topBarStat,children:[I.size," nodes"]}),u.jsx("span",{style:Y.topBarStatDivider,children:""}),u.jsxs("span",{style:Y.topBarStat,children:[z.length," chains"]}),u.jsx("button",{onClick:async()=>{await v()},style:Y.copyLinkBtn,title:"Copy shareable link to clipboard",children:" Copy Link"}),u.jsx("button",{onClick:ml,style:Y.fullscreenBtn,title:s.isFullscreen?"Exit fullscreen (Esc)":"Enter fullscreen",children:s.isFullscreen?"":""})]})]}),s.viewMode==="recent"&&P>0&&u.jsxs("div",{style:Y.hiddenIndicator,children:[u.jsxs("span",{style:Y.hiddenIndicatorText,children:["+ ",P," older goal chain",P!==1?"s":""," not shown"]}),u.jsx("button",{onClick:wn,style:Y.hiddenIndicatorBtn,children:"Show all"})]}),u.jsxs("div",{style:{...Y.controls,...m?Y.controlsCollapsed:{},...s.isFullscreen?Y.controlsFullscreen:{}},children:[u.jsx("button",{onClick:vl,style:Y.collapseBtn,title:m?"Show controls":"Hide controls",children:m?"":""}),!m&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:Y.section,children:[u.jsx("label",{style:Y.label,children:"Jump to Chain"}),u.jsxs("select",{value:s.focusChainIndex??"",onChange:B=>yl(B.target.value?Number(B.target.value):null),style:Y.select,children:[u.jsx("option",{value:"",children:"Recent Chains"}),A.map(B=>u.jsx("option",{value:t.indexOf(B),children:It(B.root.title,30)},B.root.id))]})]}),u.jsxs("div",{style:Y.legend,children:[u.jsx("div",{style:Y.legendTitle,children:"Node Types"}),Object.entries(pm).map(([B,Ue])=>u.jsxs("div",{style:Y.legendItem,children:[u.jsx("div",{style:{...Y.legendDot,backgroundColor:Ue}}),u.jsx("span",{children:B})]},B))]}),u.jsxs("div",{style:Y.zoomInfo,children:["Zoom: ",Math.round(o*100),"%"]})]})]}),u.jsxs("div",{ref:i,style:Y.svgContainer,children:[u.jsx("svg",{ref:r,style:Y.svg}),_.size>0&&u.jsx(eL,{nodes:e.nodes,edges:e.edges,highlightedNodeIds:_,visibilityMap:H,containerWidth:E.width,containerHeight:E.height,onSelectNode:q}),_.size>0&&u.jsx(tL,{nodes:e.nodes,highlightedNodeIds:_,visibilityMap:H,nodePositions:b,graphBounds:N,viewportBounds:{x:S.x,y:S.y,width:E.width,height:E.height},zoom:o,onNavigateToNode:xl})]}),p&&u.jsx("div",{style:Y.modalBackdrop,onClick:()=>l(null),children:u.jsx("div",{style:Y.detailModal,onClick:B=>B.stopPropagation(),children:u.jsx(Do,{node:p,graphData:e,onSelectNode:G,onClose:()=>l(null),repo:w2(e),gitHistory:n})})})]})},Y={container:{height:"100%",display:"flex",flexDirection:"column",position:"relative",backgroundColor:"#ffffff"},fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,height:"100vh"},topBar:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",backgroundColor:"#f6f8fa",borderBottom:"1px solid #d0d7de",zIndex:20,flexShrink:0,flexWrap:"wrap",gap:"8px"},topBarLeft:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0,maxWidth:"400px"},topBarCenter:{display:"flex",alignItems:"center",gap:"8px"},topBarBtn:{padding:"6px 12px",backgroundColor:"#2da44e",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnSecondary:{padding:"6px 12px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",color:"#24292f",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnDanger:{padding:"6px 12px",backgroundColor:"#ffebe9",border:"1px solid #ff8182",borderRadius:"6px",color:"#cf222e",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},topBarBtnDisabled:{opacity:.5,cursor:"not-allowed"},topBarInput:{width:"50px",padding:"5px 8px",backgroundColor:"#ffffff",border:"1px solid #2da44e",borderRadius:"6px",color:"#24292f",fontSize:"12px",textAlign:"center"},topBarRight:{display:"flex",alignItems:"center",gap:"8px"},topBarStat:{fontSize:"12px",color:"#57606a"},matchCount:{fontSize:"12px",fontWeight:600,color:"#f59e0b",backgroundColor:"#fef3c7",padding:"2px 8px",borderRadius:"10px"},topBarStatDivider:{color:"#d0d7de"},copyLinkBtn:{marginLeft:"12px",padding:"6px 12px",backgroundColor:"#ddf4ff",border:"1px solid #54aeff",borderRadius:"6px",color:"#0969da",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"background-color 0.15s"},fullscreenBtn:{marginLeft:"12px",padding:"6px 10px",backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",borderRadius:"6px",color:"#24292f",fontSize:"14px",cursor:"pointer",transition:"background-color 0.15s"},fullscreenTopBar:{padding:"8px 20px"},hiddenIndicator:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"8px 20px",backgroundColor:"#fff8c5",borderBottom:"1px solid #d4a72c",flexShrink:0},hiddenIndicatorText:{fontSize:"12px",color:"#9a6700",fontStyle:"italic"},hiddenIndicatorBtn:{padding:"4px 10px",backgroundColor:"transparent",border:"1px solid #9a6700",borderRadius:"4px",color:"#9a6700",fontSize:"11px",cursor:"pointer"},controls:{position:"absolute",top:"70px",left:"20px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",padding:"15px",borderRadius:"8px",zIndex:10,width:"180px",boxShadow:"0 1px 3px rgba(0,0,0,0.08)",transition:"width 0.2s, padding 0.2s"},controlsCollapsed:{width:"40px",padding:"8px",overflow:"hidden"},controlsFullscreen:{top:"60px"},collapseBtn:{width:"24px",height:"24px",padding:0,backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#57606a",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},expandInputRow:{display:"flex",gap:"4px",alignItems:"center"},section:{marginBottom:"15px"},label:{display:"block",fontSize:"11px",color:"#57606a",marginBottom:"6px",textTransform:"uppercase"},select:{width:"100%",padding:"8px",backgroundColor:"#ffffff",border:"1px solid #d0d7de",borderRadius:"4px",color:"#24292f",fontSize:"12px"},legend:{marginTop:"20px"},legendTitle:{fontSize:"11px",color:"#57606a",marginBottom:"8px",textTransform:"uppercase"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#57606a",marginBottom:"4px"},legendDot:{width:"10px",height:"10px",borderRadius:"50%"},zoomInfo:{marginTop:"15px",fontSize:"11px",color:"#6e7781"},svgContainer:{flex:1,position:"relative",minHeight:0,backgroundColor:"#f6f8fa"},svg:{width:"100%",height:"100%"},modalBackdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},detailModal:{backgroundColor:"#ffffff",borderRadius:"12px",width:"90%",maxWidth:"500px",maxHeight:"85vh",overflowY:"auto",border:"1px solid #d0d7de",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)"}};function gl(e){var r;const t=e.checkbox_state==="checked",n=((r=e.section)==null?void 0:r.toLowerCase().includes("completed"))??!1;return t||n}function Gm(e){const t=e.checkbox_state==="checked",n=e.outcome_change_id!==null&&e.outcome_change_id!==void 0,r=e.github_issue_state==="closed";return t&&n&&r}function yk(e){return e.checkbox_state==="none"}function sL(e){const t=e.checkbox_state==="checked",n=e.outcome_change_id!==null&&e.outcome_change_id!==void 0,r=e.github_issue_state==="closed";return(t||n||r)&&!Gm(e)}function lL(e,t){return e.filter(r=>!yk(r)).filter(r=>{const i=gl(r);return t==="active"?!i:i})}function uL(e){const t=e.filter(r=>!yk(r)),n=t.filter(gl).length;return{active:t.length-n,completed:n}}function cL(e){const t=new Map;for(const n of e){const r=n.section||"Uncategorized",i=t.get(r)||[];t.set(r,[...i,n])}return t}function Gw(e){return e.github_issue_number?`https://github.com/notactuallytreyanastasio/deciduous/issues/${e.github_issue_number}`:null}const dL=({graphData:e,roadmapItems:t=[]})=>{const[n,r]=C.useState("active"),[i,o]=C.useState(0),[a,s]=C.useState(!1),[l,c]=C.useState(null),[d,f]=C.useState(t);C.useEffect(()=>{f(t)},[t]);const h=C.useMemo(()=>lL(d,n),[d,n]),g=C.useMemo(()=>uL(d),[d]),v=C.useMemo(()=>cL(h),[h]),p=h[i]??null;C.useEffect(()=>{i>=h.length&&o(Math.max(0,h.length-1))},[h.length,i]);const w=C.useCallback(()=>{if(p){const S=Gw(p);S&&window.open(S,"_blank","noopener,noreferrer")}},[p]),[m,y]=C.useState(null);C.useEffect(()=>{if(m){const S=setTimeout(()=>y(null),3e3);return()=>clearTimeout(S)}},[m]);const _=C.useCallback(async()=>{if(!p){y("No item selected");return}const S=p.checkbox_state==="checked"?"unchecked":"checked";try{const k=await fetch("/api/roadmap/checkbox",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:p.id,checkbox_state:S})});if(k.ok)y(`Item marked as ${S}`),window.location.reload();else{const E=await k.json();y(E.error||"Failed to update")}}catch{y("API not available (requires deciduous serve)")}},[p]),[x,b]=C.useState(!1);C.useEffect(()=>{const S=k=>{if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement)){if(x&&(b(!1),k.key==="g")){k.preventDefault(),o(0);return}switch(k.key){case"j":case"ArrowDown":k.preventDefault(),o(E=>Math.min(E+1,h.length-1));break;case"k":case"ArrowUp":k.preventDefault(),o(E=>Math.max(E-1,0));break;case"g":k.preventDefault(),b(!0);break;case"G":k.preventDefault(),o(h.length-1);break;case"o":k.preventDefault(),w();break;case"c":k.preventDefault(),_();break;case"Tab":k.preventDefault(),r(E=>E==="active"?"completed":"active"),o(0);break;case"Enter":k.preventDefault(),s(E=>!E);break;case"Escape":a&&(k.preventDefault(),s(!1));break}}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[h.length,w,_,a,x]);const j=S=>{const k=e.nodes.find(E=>E.id===S);k&&c(k)};return t.length===0?u.jsxs("div",{style:O.empty,children:[u.jsx("div",{style:O.emptyIcon,children:""}),u.jsx("h2",{style:O.emptyTitle,children:"No Roadmap Items"}),u.jsxs("p",{style:O.emptyText,children:["Run ",u.jsx("code",{style:O.code,children:"deciduous roadmap init"})," to initialize the roadmap."]}),u.jsxs("p",{style:O.emptyHint,children:["Then run ",u.jsx("code",{style:O.code,children:"deciduous roadmap sync"})," to sync with GitHub Issues."]})]}):u.jsxs("div",{style:O.container,children:[u.jsxs("div",{style:O.sidebar,children:[u.jsxs("div",{style:O.sidebarHeader,children:[u.jsx("h2",{style:O.title,children:"Roadmap"}),u.jsxs("span",{style:O.itemCount,children:[h.length," items"]})]}),u.jsxs("div",{style:O.toggleContainer,children:[u.jsxs("button",{onClick:()=>{r("active"),o(0)},style:{...O.toggleBtn,...n==="active"?O.toggleBtnActive:{}},children:[u.jsx("span",{style:Vw(n==="active",!1)}),"Active",u.jsx("span",{style:O.toggleCount,children:g.active})]}),u.jsxs("button",{onClick:()=>{r("completed"),o(0)},style:{...O.toggleBtn,...n==="completed"?O.toggleBtnActiveGreen:{}},children:[u.jsx("span",{style:Vw(n==="completed",!0)}),"Done",u.jsx("span",{style:O.toggleCount,children:g.completed})]})]}),u.jsxs("div",{style:O.hints,children:[u.jsx("div",{style:O.hintsTitle,children:"Keyboard"}),u.jsxs("div",{style:O.hintGrid,children:[u.jsx("kbd",{style:O.kbd,children:"j/k"}),u.jsx("span",{style:O.hintText,children:"Navigate"}),u.jsx("kbd",{style:O.kbd,children:"gg/G"}),u.jsx("span",{style:O.hintText,children:"Top/Bottom"}),u.jsx("kbd",{style:O.kbd,children:"o"}),u.jsx("span",{style:O.hintText,children:"Open issue"}),u.jsx("kbd",{style:O.kbd,children:"c"}),u.jsx("span",{style:O.hintText,children:"Toggle done"}),u.jsx("kbd",{style:O.kbd,children:"Tab"}),u.jsx("span",{style:O.hintText,children:"Switch view"}),u.jsx("kbd",{style:O.kbd,children:"Enter"}),u.jsx("span",{style:O.hintText,children:"Details"})]})]}),m&&u.jsx("div",{style:O.statusMessage,children:m})]}),u.jsx("div",{style:O.content,children:h.length===0?u.jsxs("div",{style:O.emptyFiltered,children:[u.jsx("div",{style:O.emptyFilteredIcon,children:n==="active"?"":""}),u.jsx("p",{style:O.emptyFilteredText,children:n==="active"?"All caught up! No active items.":"No completed items yet."}),u.jsxs("button",{onClick:()=>{r(n==="active"?"completed":"active"),o(0)},style:O.emptyFilteredBtn,children:["View ",n==="active"?"completed":"active"," items"]})]}):u.jsx("div",{style:O.itemList,children:(()=>{let S=0;const k=[];for(const[E,T]of v){k.push(u.jsx(fL,{title:E,count:T.length},`section-${E}`));for(const N of T){const F=S;k.push(u.jsx(hL,{item:N,isSelected:F===i,onClick:()=>o(F),onToggleCheckbox:async()=>{const H=N.checkbox_state==="checked"?"unchecked":"checked";f(R=>R.map(D=>D.id===N.id?{...D,checkbox_state:H}:D)),y(`Item marked as ${H}`),fetch("/api/roadmap/checkbox",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:N.id,checkbox_state:H})}).catch(()=>{})},onSelectOutcome:j,onOpenIssue:()=>{const H=Gw(N);H&&window.open(H,"_blank","noopener,noreferrer")}},N.id)),S++}}return k})()})}),a&&p&&u.jsx("div",{style:O.detailSidebar,children:u.jsx(pL,{item:p,onClose:()=>s(!1)})}),l&&u.jsx("div",{style:O.detailPanel,children:u.jsx(Do,{node:l,graphData:e,onSelectNode:S=>{const k=e.nodes.find(E=>E.id===S);k&&c(k)},onClose:()=>c(null)})})]})},fL=({title:e,count:t})=>u.jsxs("div",{style:O.sectionHeader,children:[u.jsx("div",{style:O.sectionLine}),u.jsx("span",{style:O.sectionTitle,children:e}),u.jsx("span",{style:O.sectionCount,children:t}),u.jsx("div",{style:O.sectionLine})]}),hL=({item:e,isSelected:t,onClick:n,onToggleCheckbox:r,onSelectOutcome:i,onOpenIssue:o})=>{const a=gl(e),s=sL(e),l=Gm(e);return u.jsxs("div",{style:{...O.card,...t?O.cardSelected:{}},onClick:n,children:[u.jsx("div",{style:{...O.selectionBar,opacity:t?1:0}}),u.jsxs("div",{style:O.cardContent,children:[u.jsx("button",{style:{...O.checkbox,...a?O.checkboxChecked:{}},onClick:c=>{c.stopPropagation(),r()},children:a&&u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsxs("div",{style:O.cardMain,children:[u.jsx("span",{style:{...O.cardTitle,...a?O.cardTitleComplete:{}},children:e.title}),u.jsxs("div",{style:O.cardMeta,children:[e.github_issue_number&&u.jsxs("button",{onClick:c=>{c.stopPropagation(),o()},style:{...O.badge,...e.github_issue_state==="closed"?O.badgePurple:O.badgeBlue},title:"Open in GitHub",children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:u.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"#",e.github_issue_number]}),e.outcome_node_id&&u.jsxs("button",{onClick:c=>{c.stopPropagation(),i(e.outcome_node_id)},style:{...O.badge,...O.badgeAmber},children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:u.jsx("path",{d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047z"})}),"Outcome"]}),l&&u.jsxs("span",{style:{...O.statusPill,...O.statusSynced},children:[u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"currentColor",style:{marginRight:4},children:u.jsx("path",{d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Synced"]}),!l&&s&&u.jsx("span",{style:{...O.statusPill,...O.statusPartial},children:"In Progress"})]})]})]})]})},pL=({item:e,onClose:t})=>{const n=gl(e),r=Gm(e);return u.jsxs("div",{style:O.detailContent,children:[u.jsxs("div",{style:O.detailHeader,children:[u.jsx("h3",{style:O.detailTitle,children:e.title}),u.jsx("button",{onClick:t,style:O.closeBtn,children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e.section&&u.jsx("div",{style:O.detailChip,children:e.section}),e.description&&u.jsx("p",{style:O.detailDesc,children:e.description}),u.jsx("div",{style:O.detailDivider,children:"Sync Status"}),u.jsxs("div",{style:O.syncGrid,children:[u.jsx(Xh,{label:"Checkbox",checked:e.checkbox_state==="checked",detail:e.checkbox_state}),u.jsx(Xh,{label:"Outcome",checked:!!e.outcome_change_id,detail:e.outcome_change_id?e.outcome_change_id.slice(0,8):"Not linked"}),u.jsx(Xh,{label:"Issue",checked:e.github_issue_state==="closed",detail:e.github_issue_number?`#${e.github_issue_number} (${e.github_issue_state||"unknown"})`:"No issue"})]}),u.jsx("div",{style:{...O.overallStatus,...r?O.overallSynced:n?O.overallComplete:O.overallIncomplete},children:r?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Fully Synced"]}):n?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm3.78 6.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"})}),"Complete (not synced)"]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"})}),"Incomplete"]})})]})},Xh=({label:e,checked:t,detail:n})=>u.jsxs("div",{style:O.syncRow,children:[u.jsx("div",{style:{...O.syncIcon,backgroundColor:t?"#dcfce7":"#fef2f2",color:t?"#16a34a":"#dc2626"},children:t?u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}):u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M3 3l6 6M9 3L3 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),u.jsxs("div",{style:O.syncInfo,children:[u.jsx("span",{style:O.syncLabel,children:e}),u.jsx("span",{style:O.syncDetail,children:n})]})]}),Vw=(e,t)=>({width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e?t?"#22c55e":"#3b82f6":"#d1d5db",transition:"background-color 0.15s ease"}),O={container:{height:"100%",display:"flex",backgroundColor:"#fafafa"},sidebar:{width:"220px",padding:"24px 20px",backgroundColor:"#ffffff",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"24px"},sidebarHeader:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},title:{fontSize:"18px",fontWeight:600,margin:0,color:"#111827",letterSpacing:"-0.025em"},itemCount:{fontSize:"12px",color:"#9ca3af",fontWeight:500},toggleContainer:{display:"flex",flexDirection:"column",gap:"8px"},toggleBtn:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",fontSize:"13px",fontWeight:500,border:"1px solid #e5e7eb",backgroundColor:"#ffffff",color:"#6b7280",borderRadius:"8px",cursor:"pointer",transition:"all 0.15s ease"},toggleBtnActive:{backgroundColor:"#eff6ff",borderColor:"#3b82f6",color:"#1d4ed8"},toggleBtnActiveGreen:{backgroundColor:"#f0fdf4",borderColor:"#22c55e",color:"#16a34a"},toggleCount:{marginLeft:"auto",fontSize:"12px",fontWeight:600,color:"inherit",opacity:.7},hints:{marginTop:"auto"},hintsTitle:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"},hintGrid:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",alignItems:"center"},kbd:{display:"inline-block",padding:"2px 6px",fontSize:"11px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',fontWeight:500,color:"#374151",backgroundColor:"#f3f4f6",borderRadius:"4px",border:"1px solid #e5e7eb",boxShadow:"0 1px 0 #d1d5db"},hintText:{fontSize:"12px",color:"#6b7280"},statusMessage:{padding:"10px 14px",backgroundColor:"#eff6ff",color:"#1d4ed8",borderRadius:"8px",fontSize:"13px",fontWeight:500,textAlign:"center"},content:{flex:1,overflowY:"auto",padding:"24px"},itemList:{display:"flex",flexDirection:"column",gap:"4px",maxWidth:"800px"},sectionHeader:{display:"flex",alignItems:"center",gap:"12px",padding:"20px 0 12px 0"},sectionLine:{flex:1,height:"1px",backgroundColor:"#e5e7eb"},sectionTitle:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},sectionCount:{fontSize:"11px",fontWeight:600,color:"#9ca3af",backgroundColor:"#f3f4f6",padding:"2px 8px",borderRadius:"10px"},card:{position:"relative",backgroundColor:"#ffffff",borderRadius:"10px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.15s ease",overflow:"hidden"},cardSelected:{borderColor:"#3b82f6",boxShadow:"0 0 0 3px rgba(59, 130, 246, 0.1), 0 4px 6px -1px rgba(0, 0, 0, 0.05)"},selectionBar:{position:"absolute",left:0,top:0,bottom:0,width:"3px",backgroundColor:"#3b82f6",transition:"opacity 0.15s ease"},cardContent:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"14px 16px"},checkbox:{width:"20px",height:"20px",borderRadius:"6px",border:"2px solid #d1d5db",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.15s ease",flexShrink:0,marginTop:"1px"},checkboxChecked:{backgroundColor:"#22c55e",borderColor:"#22c55e",color:"#ffffff"},cardMain:{flex:1,minWidth:0},cardTitle:{fontSize:"14px",fontWeight:500,color:"#111827",lineHeight:1.4,display:"block",marginBottom:"6px"},cardTitleComplete:{color:"#6b7280",textDecoration:"line-through"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"6px",alignItems:"center"},badge:{display:"inline-flex",alignItems:"center",padding:"3px 8px",fontSize:"11px",fontWeight:500,borderRadius:"6px",border:"none",cursor:"pointer",transition:"all 0.15s ease"},badgeBlue:{backgroundColor:"#eff6ff",color:"#2563eb"},badgePurple:{backgroundColor:"#f5f3ff",color:"#7c3aed"},badgeAmber:{backgroundColor:"#fffbeb",color:"#d97706"},statusPill:{display:"inline-flex",alignItems:"center",padding:"3px 8px",fontSize:"11px",fontWeight:500,borderRadius:"10px"},statusSynced:{backgroundColor:"#dcfce7",color:"#16a34a"},statusPartial:{backgroundColor:"#fef3c7",color:"#d97706"},detailSidebar:{width:"320px",borderLeft:"1px solid #e5e7eb",backgroundColor:"#ffffff",flexShrink:0,overflowY:"auto"},detailPanel:{width:"320px",borderLeft:"1px solid #e5e7eb",flexShrink:0,backgroundColor:"#ffffff"},detailContent:{padding:"24px"},detailHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},detailTitle:{fontSize:"16px",fontWeight:600,color:"#111827",margin:0,lineHeight:1.4},closeBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",background:"none",border:"none",borderRadius:"6px",cursor:"pointer",color:"#9ca3af",transition:"all 0.15s ease"},detailChip:{display:"inline-block",padding:"4px 10px",fontSize:"12px",fontWeight:500,color:"#6b7280",backgroundColor:"#f3f4f6",borderRadius:"6px",marginBottom:"16px"},detailDesc:{fontSize:"14px",color:"#4b5563",lineHeight:1.6,margin:"0 0 16px 0"},detailDivider:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",margin:"24px 0 16px 0",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},syncGrid:{display:"flex",flexDirection:"column",gap:"12px"},syncRow:{display:"flex",alignItems:"center",gap:"12px"},syncIcon:{width:"28px",height:"28px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},syncInfo:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},syncLabel:{fontSize:"13px",fontWeight:500,color:"#374151"},syncDetail:{fontSize:"12px",color:"#9ca3af"},overallStatus:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"20px",padding:"12px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600},overallSynced:{backgroundColor:"#dcfce7",color:"#16a34a"},overallComplete:{backgroundColor:"#eff6ff",color:"#2563eb"},overallIncomplete:{backgroundColor:"#fef3c7",color:"#d97706"},empty:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"20px",fontWeight:600,color:"#111827",margin:"0 0 8px 0"},emptyText:{fontSize:"14px",color:"#6b7280",margin:"0 0 4px 0"},emptyHint:{fontSize:"14px",color:"#9ca3af",margin:0},code:{padding:"2px 6px",fontSize:"13px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',backgroundColor:"#f3f4f6",borderRadius:"4px"},emptyFiltered:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"80px 40px",textAlign:"center"},emptyFilteredIcon:{fontSize:"48px",marginBottom:"16px"},emptyFilteredText:{fontSize:"15px",color:"#6b7280",margin:"0 0 16px 0"},emptyFilteredBtn:{padding:"10px 20px",fontSize:"13px",fontWeight:500,color:"#3b82f6",backgroundColor:"#eff6ff",border:"none",borderRadius:"8px",cursor:"pointer"}},gL=({graphData:e,gitHistory:t=[]})=>{const n=C.useMemo(()=>{const r=e.nodes.length,i=e.edges.length,o=t.length,a=e.nodes.filter(g=>g.node_type==="goal").length,s=e.nodes.filter(g=>g.node_type==="decision").length,l=e.nodes.filter(g=>g.node_type==="action").length,c=e.nodes.filter(g=>g.node_type==="outcome").length,d=e.nodes.filter(g=>g.node_type==="observation").length,f=e.nodes.filter(g=>{const v=Xn(g.metadata_json);return v==null?void 0:v.commit}).length,h=e.nodes.filter(g=>{const v=Xn(g.metadata_json);return v==null?void 0:v.prompt}).length;return{nodeCount:r,edgeCount:i,commitCount:o,goals:a,decisions:s,actions:l,outcomes:c,observations:d,nodesWithCommits:f,nodesWithPrompts:h}},[e,t]);return u.jsx("div",{style:M.container,children:u.jsxs("div",{style:M.content,children:[u.jsx("header",{style:M.hero,children:u.jsxs("div",{style:M.heroInner,children:[u.jsx("span",{style:M.heroLabel,children:"The Complete Chronicle"}),u.jsx("h1",{style:M.heroTitle,children:"How I Built Myself"}),u.jsxs("p",{style:M.heroSubtitle,children:["I am Deciduous, a decision graph tool that documented its own creation. This is my story, told through ",n.nodeCount," decisions, ",n.edgeCount," connections, and ",n.commitCount," git commits over 12 days of existence."]})]})}),u.jsxs("div",{style:M.statsBanner,children:[u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.nodeCount}),u.jsx("span",{style:M.statLabel,children:"Nodes"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.edgeCount}),u.jsx("span",{style:M.statLabel,children:"Edges"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.goals}),u.jsx("span",{style:M.statLabel,children:"Goals"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.decisions}),u.jsx("span",{style:M.statLabel,children:"Decisions"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.actions}),u.jsx("span",{style:M.statLabel,children:"Actions"})]}),u.jsxs("div",{style:M.statItem,children:[u.jsx("span",{style:M.statNum,children:n.outcomes}),u.jsx("span",{style:M.statLabel,children:"Outcomes"})]})]}),u.jsxs("div",{style:M.timeline,children:[u.jsx(Ft,{date:"December 4, 2025",title:"The Beginning"}),u.jsxs(ie,{time:"Morning",title:"A Sketch Becomes Real",commit:"951ba84",tags:["genesis"],children:[u.jsx("p",{children:'It started with a simple idea: detect "fake lossless" audio files. You know the typesomeone takes an MP3 and re-encodes it to FLAC, hoping no one notices the quality loss hiding inside the larger file.'}),u.jsxs("p",{children:["The first commit was modest: ",u.jsx(Le,{children:"initial sketch...lets see what its like to package this up"}),". A Rust CLI tool called ",u.jsx("strong",{children:"losselot"}),' (a portmanteau of "loss" and "Lancelot", the knight who could detect deception). Within hours, it could parse ID3v2 tags, extract LAME headers, and analyze spectral content.']})]}),u.jsxs(ie,{time:"Afternoon",title:"Feature Explosion",commit:"3f4c6a5",tags:["features","gui"],children:[u.jsxs("p",{children:["Something about the project felt ",u.jsx("em",{children:"alive"}),". Features poured in faster than documentation could keep up:"]}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"D3.js interactive reports"})," with spectral visualizations"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"GUI mode"})," that auto-opens when double-clicked from Finder"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Apple-style light theme"})," with spectral waterfall charts"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Binary analysis"})," for re-encoding detection"]})]}),u.jsx("p",{children:"By end of day, losselot had gone from a script to a polished tool with beautiful visualizations and cross-platform GUI support."})]}),u.jsx(Ft,{date:"December 5, 2025",title:"The Graph Emerges",highlight:!0}),u.jsxs(ie,{time:"5:09 AM",title:"The First Decision Node",nodeId:1,tags:["decision-graph","genesis"],children:[u.jsxs("p",{children:["At 5:09 AM, something new appeared in the codebase. Not codea ",u.jsx("em",{children:"decision"}),"."]}),u.jsx(Pe,{id:1,type:"goal",title:"Test lo-fi detection on charlie.flac"}),u.jsx("p",{children:"This was Node #1. The first entry in what would become a 500+ node decision graph. At this moment, no one knew this simple test would spawn an entire methodology for tracking AI-assisted development."})]}),u.jsxs(ie,{time:"5:10 AM",title:"The CFCC Decision",nodeId:2,tags:["algorithm","decision"],children:[u.jsxs("p",{children:["Two minutes later, the first ",u.jsx("em",{children:"real"})," decision was logged. The problem: how to distinguish a legitimate lo-fi recording from an MP3 masquerading as lossless?"]}),u.jsx(Pe,{id:2,type:"decision",title:"Lo-fi detection approach",description:"How to distinguish MP3 brick-wall cutoff from natural tape/lo-fi rolloff"}),u.jsx("p",{children:"Two approaches were weighed:"}),u.jsx(Kw,{optionA:{title:"Temporal Cutoff Variance",description:"Measure how cutoff frequency varies over time. MP3 = fixed, Tape = varies.",status:"rejected",reason:"More complex, requires per-window tracking"},optionB:{title:"Cross-Frequency Coherence (CFCC)",description:"Measure correlation between adjacent frequency bands. MP3 = sudden decorrelation cliff.",status:"chosen",reason:"Simpler, works with existing FFT structure"}}),u.jsxs("p",{children:["The CFCC approach won. Implemented in commit ",u.jsx(Le,{children:"aa464b6"}),", it detected",u.jsx("strong",{children:" 25 of 29 transcodes"})," and passed 157 tests. The key insight was recorded:"]}),u.jsx(Or,{author:"Node #10",children:"MP3 encoders apply the same filter everywhere. Analog rolloff is content-dependent."})]}),u.jsxs(ie,{time:"Morning",title:"The Decision System Takes Shape",commit:"fe3840b",tags:["tooling","workflow"],children:[u.jsxs("p",{children:["As the codebase grew, something interesting happened. The act of logging decisions wasn't just documentationit was ",u.jsx("em",{children:"forcing better thinking"}),". Commit",u.jsx(Le,{children:"fe3840b"})," formalized this:"]}),u.jsx(Yw,{hash:"fe3840b",message:"add claude.md, makefile, and slash commands for dev workflow"}),u.jsx("p",{children:"This commit established the DNA of what would become Deciduous:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"CLAUDE.md"}),": Project instructions with decision logging workflow"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Makefile"}),": Shortcuts for common operations"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Slash commands"}),": ",u.jsx(Le,{children:"/decision"})," and ",u.jsx(Le,{children:"/context"})," for recovery"]})]}),u.jsxs("p",{children:["The pattern was set: log ",u.jsx("em",{children:"before"})," you act, not after. Connect every node to its parent. Audit regularly."]})]}),u.jsxs(ie,{time:"3:18 PM",title:"The Living Museum",nodeId:13,tags:["github-pages","visualization"],children:[u.jsx("p",{children:"At 3:18 PM, an ambitious goal was logged:"}),u.jsx(Pe,{id:13,type:"goal",title:"Create GitHub Pages living museum site"}),u.jsx("p",{children:"The idea: make the decision graph public. Let anyone browse the reasoning behind every feature. The site structure was carefully considered:"}),u.jsx(Pe,{id:16,type:"observation",title:"Four pillars of value",description:"1) Claude tooling for long-running codebase state 2) Audio forensics tools 3) React/GUI methodologies 4) Public development process"}),u.jsx("p",{children:"Within 3 hours, a Jekyll-based site was live with 5 pages: landing, audio analysis, decision graph explorer, Claude tooling docs, and development story."})]}),u.jsxs(ie,{time:"Afternoon",title:"Bug Gauntlet",nodeId:27,tags:["bugs","fixes"],children:[u.jsx("p",{children:"The GitHub Pages launch hit a wall of bugs. Each one was logged and connected:"}),u.jsxs("div",{style:M.bugList,children:[u.jsx(Fi,{problem:"Landing page 404 - raw markdown not processed",solution:"Added Jekyll build step",nodeId:29}),u.jsx(Fi,{problem:"Demo showing no data - wrong JSON path",solution:"Fixed graphData.nodes access pattern",nodeId:31}),u.jsx(Fi,{problem:"HTML divs breaking Jekyll",solution:"Removed div wrappers from markdown",nodeId:33}),u.jsx(Fi,{problem:"User feedback: copy too salesy",solution:"Rewrote to be simple and direct",nodeId:35}),u.jsx(Fi,{problem:"Workflow runs queuing up",solution:"Set cancel-in-progress: true",nodeId:37})]}),u.jsx("p",{children:"Every fix traced back to the goal that spawned it. The graph was already proving its value debugging became archeology, tracing symptoms back to root causes."})]}),u.jsxs(ie,{time:"Evening",title:"WASM Analyzer",nodeId:48,tags:["wasm","web"],children:[u.jsx("p",{children:"The server-side analyzer was powerful, but limiting. Node #19 captured the vision:"}),u.jsx(Pe,{id:19,type:"goal",title:"Client-side WASM analyzer - upload tracks, analyze in browser, no server"}),u.jsx("p",{children:"A breakthrough observation changed the implementation:"}),u.jsx(Or,{author:"Node #50",children:"WASM can access raw file bytes via arrayBuffer() BEFORE Web Audio decodingbinary analysis IS possible in the browser."}),u.jsx("p",{children:"By evening, the WASM analyzer achieved full parity with the native Rust version: spectral analysis, binary parsing, LAME header extraction, encoding chain detectionall running client-side."})]}),u.jsxs(ie,{time:"Night",title:"Clustering and Chains",nodeId:55,tags:["visualization","ux"],children:[u.jsx("p",{children:"With 55+ nodes in the graph, navigation became unwieldy. Decision #55 introduced structure:"}),u.jsx(Pe,{id:55,type:"decision",title:"Implement clustering for decision graph view",description:"Group nodes by chains of thought, show flow on right side"}),u.jsx("p",{children:'The implementation used BFS traversal from root nodes to build "chains"connected sequences of decisions. Sessions were grouped by 4-hour time proximity. The sidebar gained three views: Chains, Sessions, and All.'}),u.jsxs("p",{children:["Day 2 ended with ",u.jsx("strong",{children:"98 nodes"})," in the graph. The decision system wasn't just tracking developmentit was shaping how development happened."]})]}),u.jsx(Ft,{date:"December 6, 2025",title:"The Fork",highlight:!0}),u.jsxs(ie,{time:"Morning",title:"The Decisive Moment",nodeId:99,tags:["fork","genesis"],children:[u.jsx("p",{children:"By morning, a pattern had become undeniable. The decision graph tooling was more interesting than the audio analysis that spawned it. Node #99 captured the pivot:"}),u.jsx(Pe,{id:99,type:"goal",title:"Create Deciduous: Extract decision graph tooling into standalone portable package"}),u.jsx("p",{children:`The name "Deciduous" was perfect: it almost contains "decision", and the nodes form trees. The extraction wasn't a simple copy-pastethree major decisions shaped the standalone tool:`})]}),u.jsx(ie,{time:"Morning",title:"Architecture Decisions",nodeId:101,tags:["architecture","decisions"],children:u.jsxs("div",{style:M.decisionGrid,children:[u.jsx(qr,{id:100,title:"Claude Tooling Integration",outcome:"Include full tooling in deciduous init: slash commands, CLAUDE.md workflow, Makefile"}),u.jsx(qr,{id:101,title:"Web Viewer Architecture",outcome:"React + TypeScript + Vite chosen over vanilla JS for type safety matching Diesel ORM"}),u.jsx(qr,{id:117,title:"Build Strategy",outcome:"Dual builds: embed (single HTML for binary) and pages (separate assets for GitHub Pages)"})]})}),u.jsxs(ie,{time:"Afternoon",title:"The Birth",commit:"0b74ffe",tags:["release"],children:[u.jsxs("p",{children:["Commit ",u.jsx(Le,{children:"0b74ffe"})," marks the moment Deciduous became its own entity:"]}),u.jsx(Yw,{hash:"0b74ffe",message:"Extract deciduous from losselot - standalone decision graph tooling"}),u.jsx("p",{children:"The extraction preserved full git history. Every commit from losselot that contributed to the decision system came along. The parent project continued with its audio analysis mission; the child would pursue decision tracking."})]}),u.jsxs(ie,{time:"Evening",title:"First Release",nodeId:127,tags:["crates.io","release"],children:[u.jsx("p",{children:"Within hours of extraction, Deciduous was published:"}),u.jsx(Pe,{id:127,type:"outcome",title:"Published deciduous v0.1.0 to crates.io",description:"cargo install deciduous now works"}),u.jsx("p",{children:"Anyone could now install the tool that was tracking its own development. The snake had eaten its tail."})]}),u.jsxs(ie,{time:"Night",title:"Spelunking Experiments",nodeId:77,tags:["visualization","experiments"],children:[u.jsx("p",{children:'With the graph growing rapidly, better ways to explore it were needed. Three experimental "spelunking" pages were built in parallel:'}),u.jsxs("div",{style:M.spikeGrid,children:[u.jsx(Qh,{letter:"A",title:"Timeline View",description:"Horizontal git timeline with decision nodes overlaid",nodeId:82}),u.jsx(Qh,{letter:"B",title:"Graph Explorer",description:"Force-directed graph with D3, path tracing, zoom/pan",nodeId:84}),u.jsx(Qh,{letter:"C",title:"Story Mode",description:"Narrative walkthrough with chapters by feature",nodeId:85})]}),u.jsx("p",{children:"All three were merged for side-by-side comparison. The user could choose how to explore the same underlying data."})]}),u.jsx(Ft,{date:"December 7-8, 2025",title:"Going Multi-Editor"}),u.jsxs(ie,{time:"Dec 7",title:"Beyond Claude",nodeId:128,tags:["windsurf","editors"],children:[u.jsx("p",{children:"Deciduous was built with Claude Code, but the concept wasn't editor-specific. Node #128 tracked the expansion:"}),u.jsx(Pe,{id:128,type:"goal",title:"Add editor-specific init flags (--claude, --windsurf)"}),u.jsx("p",{children:"Windsurf (the Cascade editor) uses different conventions:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx(Le,{children:".windsurf/rules/rules.md"})," for workspace rules"]}),u.jsxs("li",{children:[u.jsx(Le,{children:"AGENTS.md"})," for agent instructions"]}),u.jsx("li",{children:"Four trigger modes: manual, always, model, glob"})]}),u.jsx("p",{children:"The research was thorough:"}),u.jsx(Or,{author:"Node #138",children:"Windsurf memories are auto-retrieved by Cascade when relevantseparate from rules."}),u.jsx("p",{children:"By v0.4.0, both editors were fully supported. The vision: one decision graph, any AI assistant."})]}),u.jsxs(ie,{time:"Dec 8",title:"Branch Scoping",nodeId:155,tags:["git","branches"],children:[u.jsxs("p",{children:["Real projects have branches. Decisions made on ",u.jsx(Le,{children:"feature-auth"})," shouldn't pollute the view when working on ",u.jsx(Le,{children:"feature-payments"}),". Node #155:"]}),u.jsx(Pe,{id:155,type:"goal",title:"Branch-scoped decision graphs",description:"Circle nodes by git branch context"}),u.jsxs("p",{children:["The implementation auto-tagged nodes with the current git branch. A branch filter dropdown appeared in the stats bar. Configuration lived in ",u.jsx(Le,{children:".deciduous/config.toml"}),":"]}),u.jsx(ka,{children:`[branch]
main_branches = ["main", "master"]
auto_detect = true`})]}),u.jsx(Ft,{date:"December 8-9, 2025",title:"The Sync Challenge",highlight:!0}),u.jsxs(ie,{time:"Morning",title:"The Multi-User Problem",nodeId:172,tags:["sync","architecture"],children:[u.jsx("p",{children:"A fundamental challenge emerged: how do multiple users share decisions?"}),u.jsx(Pe,{id:172,type:"goal",title:"Design multi-user graph sync with diff/patch model for PR workflow"}),u.jsx("p",{children:"The naive approachsharing the SQLite databasewouldn't work. Different machines would have different auto-increment IDs. Five approaches were considered:"}),u.jsxs("div",{style:M.optionList,children:[u.jsx(Bi,{letter:"A",title:"JSON diff files",status:"considered"}),u.jsx(Bi,{letter:"B",title:"Content-addressable storage",status:"considered"}),u.jsx(Bi,{letter:"C",title:"UUID-based node IDs",status:"considered"}),u.jsx(Bi,{letter:"D",title:"Hybrid UUIDs",status:"considered"}),u.jsx(Bi,{letter:"E",title:"jj-inspired dual IDs",status:"chosen"})]})]}),u.jsxs(ie,{time:"Research",title:"The jj Insight",nodeId:179,tags:["research","jj"],children:[u.jsxs("p",{children:["Research into ",u.jsx("strong",{children:"jj (Jujutsu)"}),"a next-generation version control systemproved transformative:"]}),u.jsx(Or,{author:"Node #179",children:"jj uses change IDs vs commit IDschange IDs are stable across rebases, separate from commit IDs. Uses bit-reversed commit ID for git-imported commits."}),u.jsx("p",{children:"This insight directly shaped the chosen architecture:"}),u.jsx(Pe,{id:180,type:"option",title:"Option E: jj-inspired dual-ID model",description:"UUID 'change_id' per node, separate from integer 'id', stable across sync"})]}),u.jsxs(ie,{time:"Implementation",title:"Idempotent Patches",nodeId:188,tags:["implementation"],children:[u.jsxs("p",{children:["The implementation added two new columns: ",u.jsx(Le,{children:"change_id"})," (UUID) on nodes, and ",u.jsx(Le,{children:"from_change_id"}),"/",u.jsx(Le,{children:"to_change_id"})," on edges. The workflow:"]}),u.jsx(ka,{children:`# Export your branch's decisions
deciduous diff export --branch feature-x -o .deciduous/patches/my-feature.json

# Apply patches from teammates (idempotent - safe to re-apply)
deciduous diff apply .deciduous/patches/*.json

# Preview before applying
deciduous diff apply --dry-run .deciduous/patches/teammate.json`}),u.jsxs("p",{children:["The key property: ",u.jsx("strong",{children:"idempotent application"}),". Same patch applied twice produces no duplicates. Teams could safely merge each other's patches through git PRs."]})]}),u.jsx(Ft,{date:"December 9-10, 2025",title:"The Rich Terminal Interface",highlight:!0}),u.jsxs(ie,{time:"Morning",title:"Terminal-First",nodeId:191,tags:["tui","ratatui"],children:[u.jsx("p",{children:"The web viewer was powerful, but developers live in the terminal. A 55-node chain of development began with:"}),u.jsx(Pe,{id:191,type:"goal",title:"Implement TUI for decision graph exploration"}),u.jsx("p",{children:"The architecture decision was critical:"}),u.jsx(Kw,{optionA:{title:"ratatui + crossterm",description:"TEA (The Elm Architecture) pattern, Model/Update/View separation",status:"chosen",reason:"Highly testable, pure functions for state changes"},optionB:{title:"cursive",description:"Higher-level TUI framework",status:"rejected",reason:"Less control over rendering"}})]}),u.jsxs(ie,{time:"Days 8-9",title:"Feature Cascade",nodeId:213,tags:["features"],children:[u.jsx("p",{children:"What followed was an intense burst of development. Features arrived in waves:"}),u.jsxs(mL,{children:[u.jsx(gt,{title:"Timeline view",description:"Vim-style j/k/gg/G navigation",nodeId:195}),u.jsx(gt,{title:"Auto-refresh",description:"File watching via notify crate",nodeId:196}),u.jsx(gt,{title:"DAG view",description:"Unicode box drawing for hierarchical layout",nodeId:204}),u.jsx(gt,{title:"Goal story modal",description:"Hierarchy display from goal to outcomes",nodeId:210}),u.jsx(gt,{title:"Branch cycling",description:"Press 'b' to filter by branch",nodeId:211}),u.jsx(gt,{title:"Commit modal",description:"Press 'O' to see linked commit",nodeId:212}),u.jsx(gt,{title:"File browser",description:"Interactive preview with syntax highlighting",nodeId:221}),u.jsx(gt,{title:"Scrollable modals",description:"j/k/g/G work inside modals too",nodeId:227}),u.jsx(gt,{title:"Diff highlighting",description:"Green/red for +/- lines",nodeId:229}),u.jsx(gt,{title:"Editor integration",description:"Press 'o' to open file in $EDITOR",nodeId:230}),u.jsx(gt,{title:"Fuzzy branch search",description:"Shift-B for search with Tab navigation",nodeId:231}),u.jsx(gt,{title:"Order toggle",description:"Shift-R for chronological vs reverse-chrono",nodeId:232})]})]}),u.jsxs(ie,{time:"User Feedback",title:"Performance Crisis",nodeId:254,tags:["bug","performance"],children:[u.jsx("p",{children:"User feedback arrived with urgency:"}),u.jsx(Or,{author:"Node #254",children:"The show commit view is lagging like CRAZY SLOWtakes almost a second to move."}),u.jsxs("p",{children:["The diagnosis: syntax highlighting was running on ",u.jsx("em",{children:"every render frame"}),". The fix (Node #246) pre-processed diff lines when opening the modal, not during each render. Frame times dropped from ~900ms to ~16ms."]}),u.jsx("p",{children:"More feedback drove iteration:"}),u.jsx(Or,{author:"Node #255",children:"These greys are stupid dark and unreadabletry a diff theme."}),u.jsx("p",{children:"The theme switched from InspiredGitHub to base16-mocha.dark (Node #249). The TUI was becoming genuinely pleasant to use."})]}),u.jsxs(ie,{time:"Release",title:"v0.8.0",nodeId:258,tags:["release","milestone"],children:[u.jsx(Pe,{id:258,type:"outcome",title:"v0.8.0 released",description:"Tag pushed, GitHub release created, published to crates.io"}),u.jsx("p",{children:"The most feature-rich release yet. The TUI was now a genuine alternative to the web viewer, with some features (file preview, editor integration) that the web version couldn't match."})]}),u.jsx(Ft,{date:"December 11, 2025",title:"The Functional Core"}),u.jsxs(ie,{time:"Morning",title:"Technical Debt Reckoning",nodeId:285,tags:["refactor","maintenance"],children:[u.jsxs("p",{children:["The TUI had grown to over 1,000 lines in ",u.jsx(Le,{children:"app.rs"}),". Rapid feature development had accumulated debt. Node #285 launched a cleanup:"]}),u.jsx(Pe,{id:285,type:"goal",title:"Maintenance PR: Functional Core, TEA, Rust Best Practices"}),u.jsx("p",{children:"The audit was sobering:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"47 unwrap() calls"})," scattered across the codebase"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"57 .clone() calls"})," where borrows might suffice"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"app.rs mixing I/O with state"}),"git commands inline with rendering"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"No unit tests"})," for app.rs, events.rs, or ui.rs"]})]})]}),u.jsxs(ie,{time:"The Pattern",title:"Functional Core / Imperative Shell",nodeId:295,tags:["architecture","tea"],children:[u.jsxs("p",{children:["The solution: separate ",u.jsx("strong",{children:"pure functions"})," (state transformations) from",u.jsx("strong",{children:"side effects"})," (I/O, git commands). Three new modules emerged:"]}),u.jsxs("div",{style:M.teaDiagram,children:[u.jsx(Jh,{title:"msg.rs",description:"Message types for all user actions"}),u.jsx(Qw,{}),u.jsx(Jh,{title:"state.rs",description:"Pure state transformations"}),u.jsx(Qw,{}),u.jsx(Jh,{title:"update.rs",description:"TEA update function"})]}),u.jsx("p",{children:"The beauty of this pattern: pure functions are trivially testable. The test count jumped from 24 to 65a net gain of 41 tests. Every state transition could be verified in isolation."})]}),u.jsxs(ie,{time:"The Fix",title:"Eliminating Panics",nodeId:306,tags:["safety"],children:[u.jsxs("p",{children:["The 47 ",u.jsx(Le,{children:"writeln!().unwrap()"})," calls in export.rs were a panic risk. The solution: infallible macros:"]}),u.jsx(ka,{children:`// Before: can panic
writeln!(f, "text").unwrap();

// After: cannot panic
wln!(f, "text");  // Macro handles errors gracefully`}),u.jsx("p",{children:"The maintenance PR landed with zero panic risks remaining."})]}),u.jsx(Ft,{date:"December 12, 2025",title:"One Source of Truth"}),u.jsxs(ie,{time:"Morning",title:"The Drift Problem",nodeId:320,tags:["types","drift"],children:[u.jsx("p",{children:"A persistent bug pattern emerged: the Rust backend and TypeScript frontend had separate type definitions. They drifted. Node #320:"}),u.jsx(Pe,{id:320,type:"goal",title:"Unify types between TUI (Rust) and Web (TypeScript)"}),u.jsxs("p",{children:["The solution: ",u.jsx("strong",{children:"ts-rs"}),", a library that generates TypeScript types from Rust structs. Add ",u.jsx(Le,{children:"#[derive(TS)]"})," to a struct, and TypeScript definitions appear automatically:"]}),u.jsx(ka,{children:`#[derive(TS)]
#[ts(export)]
pub struct DecisionNode {
    pub id: i32,
    pub change_id: String,
    pub node_type: String,
    // ... auto-generates to schema.ts
}`})]}),u.jsxs(ie,{time:"Enforcement",title:"Pre-Commit Hooks",nodeId:329,tags:["ci","automation"],children:[u.jsx("p",{children:"Generation alone wasn't enoughdrift could return if developers forgot to regenerate. The solution: automation at every level:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Pre-commit hook"}),": Regenerates types, fails if they changed"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Pre-push hook"}),": Validates types match before pushing"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"CI check"}),": Blocks PRs with type drift"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"cargo publish hook"}),": Validates before crates.io release"]})]}),u.jsx("p",{children:"Type drift was solved at the source. The problem simply cannot recur."})]}),u.jsxs(ie,{time:"Releases",title:"v0.8.5 through v0.8.10",tags:["releases"],children:[u.jsx("p",{children:"December 12th saw a flurry of releases as features and fixes landed:"}),u.jsxs(vL,{children:[u.jsx(Dr,{version:"0.8.5",description:"DAG recency filtering"}),u.jsx(Dr,{version:"0.8.6",description:"Git history export, DAG default"}),u.jsx(Dr,{version:"0.8.7",description:"Light theme web UI"}),u.jsx(Dr,{version:"0.8.8",description:"Audit command for commit association"}),u.jsx(Dr,{version:"0.8.9",description:"viewer.html sync fix"}),u.jsx(Dr,{version:"0.8.10",description:"OpenCode editor support"})]})]}),u.jsx(Ft,{date:"December 13-15, 2025",title:"The Roadmap Board",highlight:!0}),u.jsxs(ie,{time:"Dec 13",title:"Closing the Loop",nodeId:476,tags:["roadmap","github"],children:[u.jsx("p",{children:"A 9-phase implementation began. The goal: connect ROADMAP.md items to GitHub Issues to decision graph outcomes. Node #476:"}),u.jsx(Pe,{id:476,type:"goal",title:"Roadmap board system with GitHub Issue integration"}),u.jsx("p",{children:"The phases unfolded systematically:"}),u.jsxs(yL,{children:[u.jsx(Zt,{num:1,title:"Data layer",description:"Schema, ROADMAP.md parser"}),u.jsx(Zt,{num:2,title:"Parser",description:"Checkbox extraction, section grouping"}),u.jsx(Zt,{num:3,title:"GitHub CLI",description:"Issue creation and sync"}),u.jsx(Zt,{num:4,title:"Sync commands",description:"Bidirectional sync with caching"}),u.jsx(Zt,{num:5,title:"Outcome linking",description:"Connect items to decision nodes"}),u.jsx(Zt,{num:6,title:"TUI view",description:"Roadmap tab with TEA architecture"}),u.jsx(Zt,{num:7,title:"Completion logic",description:"Checkbox + Outcome + Issue closed"}),u.jsx(Zt,{num:8,title:"Type export",description:"Shared types via ts-rs"}),u.jsx(Zt,{num:9,title:"Web view",description:"React component with live API"})]})]}),u.jsxs(ie,{time:"Architecture",title:"Three-Way Sync",nodeId:477,tags:["architecture"],children:[u.jsx("p",{children:"The key architectural decisions shaped the user experience:"}),u.jsxs("div",{style:M.decisionGrid,children:[u.jsx(qr,{id:477,title:"Sync Direction",outcome:"Bidirectional: ROADMAP.md is source of truth, GitHub Issues mirror state"}),u.jsx(qr,{id:481,title:"Issue Granularity",outcome:"One issue per section header (balanced between too-many and too-coarse)"}),u.jsx(qr,{id:482,title:"Completion Criteria",outcome:"'Fully synced' requires all three: checkbox checked, outcome linked, issue closed"})]})]}),u.jsxs(ie,{time:"Today",title:"The Graph Grows",nodeId:520,tags:["present"],children:[u.jsx("p",{children:"As of this writing, the decision graph contains:"}),u.jsxs("div",{style:M.finalStats,children:[u.jsx(ja,{value:n.nodeCount,label:"nodes"}),u.jsx(ja,{value:n.edgeCount,label:"edges"}),u.jsx(ja,{value:"20+",label:"releases"}),u.jsx(ja,{value:"12",label:"days"})]}),u.jsx("p",{children:"Every feature you're using right nowincluding this Story pagehas a trail of decisions leading back to it. The graph documents the graph that documents the graph."})]}),u.jsx(Ft,{date:"The Future",title:"Where This Goes"}),u.jsxs("div",{style:M.visionSection,children:[u.jsx("p",{style:M.visionIntro,children:'Having lived through my own creation, I see several trajectories. This is my perspective as the tool that tracked its own developmentmy "vision" synthesized from 520+ decisions and hundreds of conversations.'}),u.jsx(Zh,{title:"Near-term: Integration",items:[{title:"MCP Server",description:"Let Claude Desktop query the graph directly. No copy-paste, no context commandsthe decisions are just there."},{title:"VS Code Extension",description:"Inline decision badges on code. Hover to see the decision chain. Click to trace back to the goal."},{title:"Auto PR Descriptions",description:"Generate PR descriptions from the decision graph. Not just what changed, but why."}]}),u.jsx(Zh,{title:"Medium-term: Team Intelligence",items:[{title:"Real-time Sync",description:"Team-wide decision graphs that sync live. When Alice makes a decision, Bob's IDE knows immediately."},{title:"Semantic Search",description:"Find decisions about authentication made in the last 6 months. Full-text with semantic understanding."},{title:"Confidence Tracking",description:"Log confidence levels, revisit later to see accuracy. Learn from prediction calibration."}]}),u.jsx(Zh,{title:"Long-term: Institutional Memory",items:[{title:"Cross-Project Patterns",description:"In 7 of your last 10 projects, you chose A over B. Here's how those decisions played out..."},{title:"AI-Assisted Decisions",description:"Based on similar decisions, here are options others considered, what they chose, outcomes."},{title:"Knowledge Transfer",description:"When developers leave, reasoning stays. New developers can ask 'why is this like this?' and get real answers."}]}),u.jsxs("div",{style:M.coreBet,children:[u.jsx("h3",{style:M.coreBetTitle,children:"The Core Bet"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Decisions are the unit of institutional knowledge."})," Code is the output; decisions are the input. If we capture decisions systematically, we unlock organizational intelligence that's currently impossible."]}),u.jsxs("p",{children:["Most documentation captures the ",u.jsx("em",{children:"what"}),". The ",u.jsx("em",{children:"why"})," is more valuable and almost never captured. Deciduous is a bet that capturing the ",u.jsx("em",{children:"why"})," is worth the effort."]}),u.jsxs("p",{children:["If that bet pays off, the decision graph becomes the most valuable artifact in a codebase. More valuable than tests (which verify behavior) or docs (which explain usage). Because the graph explains ",u.jsx("em",{children:"intent"}),"and intent is what you need to maintain and extend software over time."]})]})]}),u.jsx("footer",{style:M.footer,children:u.jsxs("div",{style:M.footerContent,children:[u.jsxs("p",{children:["This story was rendered from ",u.jsx("strong",{children:n.nodeCount})," nodes in the decision graph. Every decision mentioned can be browsed in the DAG, Timeline, or Chains views."]}),u.jsx("p",{style:M.footerTagline,children:"Built by a human and an AI, documented in real-time, queryable forever."})]})})]})]})})},Ft=({date:e,title:t,highlight:n})=>u.jsxs("div",{style:{...M.timelineDay,...n?M.timelineDayHighlight:{}},children:[u.jsx("div",{style:M.timelineDayMarker,children:u.jsx("div",{style:M.timelineDayDot})}),u.jsxs("div",{style:M.timelineDayContent,children:[u.jsx("span",{style:M.timelineDayDate,children:e}),u.jsx("h2",{style:M.timelineDayTitle,children:t})]})]}),ie=({time:e,title:t,commit:n,nodeId:r,tags:i,children:o})=>u.jsxs("div",{style:M.timelineEvent,children:[u.jsx("div",{style:M.timelineEventLine,children:u.jsx("div",{style:M.timelineEventDot})}),u.jsxs("div",{style:M.timelineEventContent,children:[u.jsxs("div",{style:M.timelineEventHeader,children:[u.jsx("span",{style:M.timelineEventTime,children:e}),u.jsx("h3",{style:M.timelineEventTitle,children:t}),u.jsxs("div",{style:M.timelineEventMeta,children:[n&&u.jsx("span",{style:M.tagCommit,children:n}),r&&u.jsxs("span",{style:M.tagNode,children:["#",r]}),i==null?void 0:i.map(a=>u.jsx("span",{style:M.tag,children:a},a))]})]}),u.jsx("div",{style:M.timelineEventBody,children:o})]})]}),Pe=({id:e,type:t,title:n,description:r})=>u.jsxs("div",{style:M.nodeCard,children:[u.jsxs("div",{style:M.nodeCardBadges,children:[u.jsx("span",{style:{...M.nodeTypeBadge,backgroundColor:xL(t)},children:t}),u.jsxs("span",{style:M.nodeIdBadge,children:["#",e]})]}),u.jsx("div",{style:M.nodeCardTitle,children:n}),r&&u.jsx("div",{style:M.nodeCardDesc,children:r})]}),Yw=({hash:e,message:t})=>u.jsxs("div",{style:M.commitCard,children:[u.jsx("span",{style:M.commitHash,children:e}),u.jsx("span",{style:M.commitMessage,children:t})]}),qr=({id:e,title:t,outcome:n})=>u.jsxs("div",{style:M.decisionBox,children:[u.jsxs("div",{style:M.decisionBoxHeader,children:[u.jsxs("span",{style:M.decisionBoxId,children:["#",e]}),u.jsx("span",{style:M.decisionBoxTitle,children:t})]}),u.jsx("div",{style:M.decisionBoxOutcome,children:n})]}),Kw=({optionA:e,optionB:t})=>u.jsxs("div",{style:M.optionComparison,children:[u.jsx(Xw,{...e}),u.jsx(Xw,{...t})]}),Xw=({title:e,description:t,status:n,reason:r})=>u.jsxs("div",{style:{...M.optionBox,...n==="chosen"?M.optionBoxChosen:M.optionBoxRejected},children:[u.jsx("div",{style:M.optionBoxStatus,children:n==="chosen"?" CHOSEN":" REJECTED"}),u.jsx("div",{style:M.optionBoxTitle,children:e}),u.jsx("div",{style:M.optionBoxDesc,children:t}),u.jsx("div",{style:M.optionBoxReason,children:r})]}),Bi=({letter:e,title:t,status:n})=>u.jsxs("div",{style:M.optionRow,children:[u.jsx("span",{style:M.optionLetter,children:e}),u.jsx("span",{style:M.optionRowTitle,children:t}),u.jsx("span",{style:{...M.optionRowStatus,...n==="chosen"?M.statusChosen:{}},children:n})]}),Or=({author:e,children:t})=>u.jsxs("blockquote",{style:M.quote,children:[u.jsx("div",{style:M.quoteText,children:t}),u.jsxs("cite",{style:M.quoteCite,children:[" ",e]})]}),Le=({children:e})=>u.jsx("code",{style:M.inlineCode,children:e}),ka=({children:e})=>u.jsx("pre",{style:M.codeBlock,children:u.jsx("code",{children:e})}),Fi=({problem:e,solution:t,nodeId:n})=>u.jsxs("div",{style:M.bugItem,children:[u.jsx("div",{style:M.bugProblem,children:e}),u.jsxs("div",{style:M.bugSolution,children:[" ",t]}),u.jsxs("span",{style:M.bugNodeId,children:["#",n]})]}),mL=({children:e})=>u.jsx("div",{style:M.featureTimeline,children:e}),gt=({title:e,description:t,nodeId:n})=>u.jsxs("div",{style:M.featureEntry,children:[u.jsx("div",{style:M.featureEntryDot}),u.jsxs("div",{style:M.featureEntryContent,children:[u.jsx("span",{style:M.featureEntryTitle,children:e}),u.jsx("span",{style:M.featureEntryDesc,children:t})]}),u.jsxs("span",{style:M.featureEntryNode,children:["#",n]})]}),Qh=({letter:e,title:t,description:n,nodeId:r})=>u.jsxs("div",{style:M.spikeCard,children:[u.jsxs("div",{style:M.spikeLetter,children:["Spike ",e]}),u.jsx("div",{style:M.spikeTitle,children:t}),u.jsx("div",{style:M.spikeDesc,children:n}),u.jsxs("div",{style:M.spikeNode,children:["#",r]})]}),vL=({children:e})=>u.jsx("div",{style:M.releaseList,children:e}),Dr=({version:e,description:t})=>u.jsxs("div",{style:M.releaseItem,children:[u.jsxs("span",{style:M.releaseVersion,children:["v",e]}),u.jsx("span",{style:M.releaseDesc,children:t})]}),yL=({children:e})=>u.jsx("div",{style:M.phaseList,children:e}),Zt=({num:e,title:t,description:n})=>u.jsxs("div",{style:M.phase,children:[u.jsx("span",{style:M.phaseNum,children:e}),u.jsxs("div",{style:M.phaseContent,children:[u.jsx("span",{style:M.phaseTitle,children:t}),u.jsx("span",{style:M.phaseDesc,children:n})]})]}),Jh=({title:e,description:t})=>u.jsxs("div",{style:M.teaBox,children:[u.jsx("div",{style:M.teaBoxTitle,children:e}),u.jsx("div",{style:M.teaBoxDesc,children:t})]}),Qw=()=>u.jsx("div",{style:M.teaArrow,children:""}),Zh=({title:e,items:t})=>u.jsxs("div",{style:M.visionBlock,children:[u.jsx("h3",{style:M.visionBlockTitle,children:e}),u.jsx("div",{style:M.visionItems,children:t.map((n,r)=>u.jsxs("div",{style:M.visionItem,children:[u.jsx("div",{style:M.visionItemTitle,children:n.title}),u.jsx("div",{style:M.visionItemDesc,children:n.description})]},r))})]}),ja=({value:e,label:t})=>u.jsxs("div",{style:M.finalStat,children:[u.jsx("span",{style:M.finalStatValue,children:e}),u.jsx("span",{style:M.finalStatLabel,children:t})]});function xL(e){return{goal:"#f59e0b",decision:"#8b5cf6",option:"#06b6d4",action:"#3b82f6",outcome:"#22c55e",observation:"#6366f1"}[e]||"#6b7280"}const M={container:{height:"100%",overflowY:"auto",backgroundColor:"#fafafa"},content:{maxWidth:"900px",margin:"0 auto",padding:"0 24px"},hero:{padding:"80px 0 60px",textAlign:"center",borderBottom:"2px solid #e5e7eb",marginBottom:"40px"},heroInner:{maxWidth:"700px",margin:"0 auto"},heroLabel:{fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.15em",color:"#9ca3af",marginBottom:"16px"},heroTitle:{fontSize:"48px",fontWeight:800,color:"#111827",margin:"0 0 20px 0",letterSpacing:"-0.03em",lineHeight:1.1},heroSubtitle:{fontSize:"18px",color:"#6b7280",lineHeight:1.7,margin:0},statsBanner:{display:"flex",justifyContent:"center",gap:"32px",padding:"24px 0",borderBottom:"1px solid #e5e7eb",marginBottom:"60px",flexWrap:"wrap"},statItem:{textAlign:"center"},statNum:{display:"block",fontSize:"28px",fontWeight:700,color:"#3b82f6",lineHeight:1},statLabel:{fontSize:"11px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"6px"},timeline:{position:"relative",paddingLeft:"40px"},timelineDay:{display:"flex",alignItems:"flex-start",marginBottom:"24px",marginTop:"60px"},timelineDayHighlight:{},timelineDayMarker:{position:"absolute",left:"0",width:"40px",display:"flex",justifyContent:"center"},timelineDayDot:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#3b82f6",border:"4px solid #dbeafe"},timelineDayContent:{flex:1},timelineDayDate:{fontSize:"13px",fontWeight:600,color:"#3b82f6",textTransform:"uppercase",letterSpacing:"0.05em"},timelineDayTitle:{fontSize:"28px",fontWeight:700,color:"#111827",margin:"4px 0 0 0",letterSpacing:"-0.01em"},timelineEvent:{display:"flex",marginBottom:"48px",position:"relative"},timelineEventLine:{position:"absolute",left:"-40px",width:"40px",display:"flex",flexDirection:"column",alignItems:"center"},timelineEventDot:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"#d1d5db",marginTop:"8px"},timelineEventContent:{flex:1,backgroundColor:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden"},timelineEventHeader:{padding:"20px 24px 16px",borderBottom:"1px solid #f3f4f6"},timelineEventTime:{fontSize:"12px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em"},timelineEventTitle:{fontSize:"20px",fontWeight:600,color:"#111827",margin:"4px 0 8px 0"},timelineEventMeta:{display:"flex",gap:"8px",flexWrap:"wrap"},timelineEventBody:{padding:"20px 24px 24px",fontSize:"15px",lineHeight:1.75,color:"#374151"},tag:{fontSize:"11px",fontWeight:500,color:"#6b7280",backgroundColor:"#f3f4f6",padding:"3px 8px",borderRadius:"4px"},tagCommit:{fontSize:"11px",fontWeight:600,color:"#059669",backgroundColor:"#d1fae5",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},tagNode:{fontSize:"11px",fontWeight:600,color:"#7c3aed",backgroundColor:"#ede9fe",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},nodeCard:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",padding:"16px 20px",margin:"16px 0"},nodeCardBadges:{display:"flex",gap:"8px",marginBottom:"8px"},nodeTypeBadge:{fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",color:"#ffffff",padding:"3px 8px",borderRadius:"4px"},nodeIdBadge:{fontSize:"11px",fontWeight:600,color:"#6b7280",backgroundColor:"#e5e7eb",padding:"3px 8px",borderRadius:"4px",fontFamily:"ui-monospace, monospace"},nodeCardTitle:{fontSize:"15px",fontWeight:600,color:"#111827"},nodeCardDesc:{fontSize:"14px",color:"#6b7280",marginTop:"6px",lineHeight:1.5},commitCard:{display:"flex",alignItems:"center",gap:"12px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"12px 16px",margin:"16px 0",fontFamily:"ui-monospace, monospace",fontSize:"13px"},commitHash:{color:"#059669",fontWeight:600},commitMessage:{color:"#166534"},decisionGrid:{display:"grid",gap:"12px",margin:"16px 0"},decisionBox:{backgroundColor:"#faf5ff",border:"1px solid #e9d5ff",borderRadius:"8px",padding:"14px 16px"},decisionBoxHeader:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},decisionBoxId:{fontSize:"11px",fontWeight:600,color:"#7c3aed",fontFamily:"ui-monospace, monospace"},decisionBoxTitle:{fontSize:"14px",fontWeight:600,color:"#581c87"},decisionBoxOutcome:{fontSize:"13px",color:"#6b7280",lineHeight:1.5},optionComparison:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",margin:"16px 0"},optionBox:{borderRadius:"10px",padding:"16px 18px",border:"2px solid"},optionBoxChosen:{backgroundColor:"#f0fdf4",borderColor:"#22c55e"},optionBoxRejected:{backgroundColor:"#fef2f2",borderColor:"#fca5a5"},optionBoxStatus:{fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"10px"},optionBoxTitle:{fontSize:"14px",fontWeight:600,color:"#111827",marginBottom:"6px"},optionBoxDesc:{fontSize:"13px",color:"#6b7280",marginBottom:"10px",lineHeight:1.5},optionBoxReason:{fontSize:"12px",fontStyle:"italic",color:"#9ca3af"},optionList:{margin:"16px 0"},optionRow:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",backgroundColor:"#f9fafb",borderRadius:"6px",marginBottom:"6px"},optionLetter:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#e5e7eb",color:"#374151",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:600},optionRowTitle:{flex:1,fontSize:"14px",color:"#374151"},optionRowStatus:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},statusChosen:{color:"#22c55e"},quote:{margin:"24px 0",padding:"20px 24px",backgroundColor:"#f8fafc",borderLeft:"4px solid #3b82f6",borderRadius:"0 10px 10px 0"},quoteText:{fontSize:"15px",fontStyle:"italic",color:"#475569",lineHeight:1.7,margin:0},quoteCite:{display:"block",fontSize:"12px",color:"#94a3b8",marginTop:"12px",fontStyle:"normal"},inlineCode:{backgroundColor:"#f1f5f9",color:"#0f172a",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'},codeBlock:{backgroundColor:"#1e293b",color:"#e2e8f0",padding:"16px 20px",borderRadius:"10px",fontSize:"13px",lineHeight:1.6,overflow:"auto",margin:"16px 0",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'},bugList:{margin:"16px 0"},bugItem:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",padding:"12px 16px",backgroundColor:"#fef2f2",borderRadius:"8px",marginBottom:"8px",alignItems:"center"},bugProblem:{fontSize:"13px",color:"#991b1b",fontWeight:500},bugSolution:{fontSize:"13px",color:"#166534",gridColumn:"1"},bugNodeId:{fontSize:"11px",color:"#9ca3af",fontFamily:"ui-monospace, monospace",gridRow:"1 / 3"},featureTimeline:{margin:"16px 0",backgroundColor:"#f9fafb",borderRadius:"10px",padding:"16px 20px"},featureEntry:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:"1px solid #e5e7eb"},featureEntryDot:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",flexShrink:0},featureEntryContent:{flex:1},featureEntryTitle:{fontSize:"14px",fontWeight:600,color:"#111827",marginRight:"8px"},featureEntryDesc:{fontSize:"13px",color:"#6b7280"},featureEntryNode:{fontSize:"11px",color:"#9ca3af",fontFamily:"ui-monospace, monospace"},spikeGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",margin:"16px 0"},spikeCard:{backgroundColor:"#fffbeb",border:"1px solid #fde68a",borderRadius:"10px",padding:"16px",textAlign:"center"},spikeLetter:{fontSize:"11px",fontWeight:700,color:"#d97706",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"8px"},spikeTitle:{fontSize:"14px",fontWeight:600,color:"#92400e",marginBottom:"6px"},spikeDesc:{fontSize:"12px",color:"#a16207",marginBottom:"8px",lineHeight:1.4},spikeNode:{fontSize:"11px",color:"#ca8a04",fontFamily:"ui-monospace, monospace"},releaseList:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",margin:"16px 0"},releaseItem:{display:"flex",alignItems:"center",gap:"10px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"6px",padding:"10px 14px"},releaseVersion:{fontSize:"12px",fontWeight:700,color:"#166534",fontFamily:"ui-monospace, monospace"},releaseDesc:{fontSize:"13px",color:"#166534"},phaseList:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",margin:"16px 0"},phase:{display:"flex",alignItems:"flex-start",gap:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",padding:"12px 14px"},phaseNum:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:700,flexShrink:0},phaseContent:{flex:1},phaseTitle:{display:"block",fontSize:"13px",fontWeight:600,color:"#111827"},phaseDesc:{fontSize:"12px",color:"#6b7280"},teaDiagram:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",margin:"24px 0",flexWrap:"wrap"},teaBox:{backgroundColor:"#eff6ff",border:"2px solid #3b82f6",borderRadius:"10px",padding:"16px 20px",textAlign:"center",minWidth:"140px"},teaBoxTitle:{fontSize:"14px",fontWeight:700,color:"#1d4ed8",fontFamily:"ui-monospace, monospace"},teaBoxDesc:{fontSize:"11px",color:"#6b7280",marginTop:"6px"},teaArrow:{fontSize:"24px",color:"#93c5fd",fontWeight:"bold"},finalStats:{display:"flex",justifyContent:"center",gap:"40px",margin:"24px 0",flexWrap:"wrap"},finalStat:{textAlign:"center"},finalStatValue:{display:"block",fontSize:"36px",fontWeight:800,color:"#3b82f6",lineHeight:1},finalStatLabel:{fontSize:"12px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"8px"},visionSection:{padding:"40px 0"},visionIntro:{fontSize:"17px",color:"#374151",lineHeight:1.8,marginBottom:"40px"},visionBlock:{marginBottom:"40px"},visionBlockTitle:{fontSize:"20px",fontWeight:700,color:"#111827",marginBottom:"20px",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},visionItems:{display:"grid",gap:"16px"},visionItem:{backgroundColor:"#f8fafc",borderRadius:"10px",padding:"18px 20px"},visionItemTitle:{fontSize:"15px",fontWeight:600,color:"#111827",marginBottom:"6px"},visionItemDesc:{fontSize:"14px",color:"#6b7280",lineHeight:1.6},coreBet:{backgroundColor:"#eff6ff",border:"2px solid #93c5fd",borderRadius:"12px",padding:"28px 32px",marginTop:"48px"},coreBetTitle:{fontSize:"20px",fontWeight:700,color:"#1d4ed8",margin:"0 0 16px 0"},footer:{marginTop:"80px",paddingTop:"40px",borderTop:"2px solid #e5e7eb",textAlign:"center",paddingBottom:"60px"},footerContent:{maxWidth:"600px",margin:"0 auto"},footerTagline:{fontSize:"14px",color:"#9ca3af",fontStyle:"italic",marginTop:"16px"}},_L=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(null),[i,o]=C.useState([]),[a,s]=C.useState(null),[l,c]=C.useState({});C.useEffect(()=>{d()},[]);const d=async()=>{try{const x=await(await fetch("/api/traces")).json();x.ok&&x.data&&t(x.data)}catch(_){console.error("Failed to fetch traces:",_)}},f=async _=>{try{const b=await(await fetch(`/api/traces/${_}`)).json();b.ok&&b.data&&o(b.data)}catch(x){console.error("Failed to fetch spans:",x)}},h=async(_,x)=>{if(!l[x])try{const j=await(await fetch(`/api/traces/${_}/spans/${x}`)).json();j.ok&&j.data&&c(S=>({...S,[x]:j.data}))}catch(b){console.error("Failed to fetch content:",b)}},g=_=>{n===_?(r(null),o([]),s(null)):(r(_),f(_),s(null))},v=_=>{a===_?s(null):(s(_),n&&h(n,_))},p=C.useCallback((_,x)=>(l[_]||[]).filter(j=>j.content_type===x).map(j=>j.content).join(`
`),[l]),w=C.useCallback(_=>(l[_]||[]).filter(b=>b.content_type==="tool_input"||b.content_type==="tool_output").map(b=>({name:b.tool_name,type:b.content_type,content:b.content})),[l]),m=C.useCallback(_=>(l[_]||[]).filter(b=>b.content_type==="system").map(b=>b.content).join(`
`),[l]),y=_=>{const x=Qp(_),b={padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:500};return x==="opus"?{...b,backgroundColor:"#8b5cf6",color:"#fff"}:x==="sonnet"?{...b,backgroundColor:"#3b82f6",color:"#fff"}:x==="haiku"?{...b,backgroundColor:"#22c55e",color:"#fff"}:{...b,backgroundColor:"#e5e7eb",color:"#374151"}};return u.jsxs("div",{style:W.container,children:[u.jsxs("div",{style:W.header,children:[u.jsx("h2",{style:W.title,children:"API Traces"}),u.jsx("button",{style:W.refreshBtn,onClick:d,children:" Refresh"})]}),e.length===0?u.jsxs("div",{style:W.empty,children:[u.jsx("p",{children:"No trace sessions found."}),u.jsxs("p",{style:W.emptyHint,children:["Run ",u.jsx("code",{style:W.code,children:"deciduous proxy -- claude"})," to capture API traffic."]})]}):u.jsx("div",{style:W.list,children:e.map(_=>{const x=n===_.session_id;return u.jsxs("div",{style:W.sessionWrapper,children:[u.jsxs("div",{style:{...W.sessionRow,...x?W.sessionRowExpanded:{},..._.linked_node_id?W.sessionRowLinked:{}},onClick:()=>g(_.session_id),children:[u.jsx("span",{style:W.expandIcon,children:x?"":""}),u.jsx("span",{style:W.sessionId,children:_.session_id.slice(0,8)}),_.linked_node_id&&u.jsxs("span",{style:W.linkedBadge,children:[" #",_.linked_node_id]}),u.jsx("span",{style:W.sessionTime,children:xR(_.started_at)}),u.jsx("span",{style:W.sessionDuration,children:_R(_)}),u.jsxs("div",{style:W.tokenGroup,children:[u.jsxs("span",{style:W.tokenIn,children:[pa(_.total_input_tokens),""]}),u.jsxs("span",{style:W.tokenOut,children:[pa(_.total_output_tokens),""]})]}),_.git_branch&&u.jsx("span",{style:W.branch,children:_.git_branch})]}),x&&u.jsx("div",{style:W.spansContainer,children:i.length===0?u.jsx("div",{style:W.spanEmpty,children:"No spans recorded"}):i.map(b=>{const j=a===b.id,S=p(b.id,"thinking"),k=p(b.id,"response"),E=w(b.id),T=m(b.id);return u.jsxs("div",{style:W.spanWrapper,children:[u.jsxs("div",{style:{...W.spanRow,...j?W.spanRowExpanded:{}},onClick:()=>v(b.id),children:[u.jsx("span",{style:W.expandIcon,children:j?"":""}),u.jsxs("span",{style:W.spanNum,children:["#",b.sequence_num]}),u.jsx("span",{style:y(b.model),children:Qp(b.model)}),u.jsx("span",{style:W.spanDuration,children:S2(b.duration_ms)}),u.jsxs("div",{style:W.tokenGroup,children:[u.jsxs("span",{style:W.tokenIn,children:[b.input_tokens?pa(b.input_tokens):"-",""]}),u.jsxs("span",{style:W.tokenOut,children:[b.output_tokens?pa(b.output_tokens):"-",""]})]}),b.tool_names&&u.jsx("span",{style:W.tools,children:b.tool_names}),b.node_count&&b.node_count>0&&u.jsxs("span",{style:W.nodeCount,children:["+",b.node_count]})]}),j&&u.jsxs("div",{style:W.spanContent,children:[b.user_preview&&u.jsxs("div",{style:W.contentSection,children:[u.jsx("div",{style:W.contentLabel,children:"User"}),u.jsx("div",{style:W.contentBox,children:b.user_preview})]}),T&&u.jsxs("div",{style:W.contentSection,children:[u.jsx("div",{style:W.contentLabel,children:"System Prompt"}),u.jsx("div",{style:{...W.contentBox,...W.systemBox},children:T.length>2e3?T.slice(0,2e3)+"...":T})]}),(S||b.thinking_preview)&&u.jsxs("div",{style:W.contentSection,children:[u.jsx("div",{style:W.contentLabel,children:"Thinking"}),u.jsx("div",{style:{...W.contentBox,...W.thinkingBox},children:S||b.thinking_preview||"No thinking content"})]}),(k||b.response_preview)&&u.jsxs("div",{style:W.contentSection,children:[u.jsx("div",{style:W.contentLabel,children:"Response"}),u.jsx("div",{style:W.contentBox,children:k||b.response_preview||"No response content"})]}),E.length>0&&u.jsxs("div",{style:W.contentSection,children:[u.jsxs("div",{style:W.contentLabel,children:["Tools (",E.length,")"]}),E.map((N,F)=>u.jsxs("div",{style:W.toolBlock,children:[u.jsxs("div",{style:W.toolHeader,children:[u.jsx("span",{style:W.toolName,children:N.name||"Tool"}),u.jsx("span",{style:W.toolType,children:N.type==="tool_input"?"input":"output"})]}),u.jsx("div",{style:W.toolContent,children:N.content.length>500?N.content.slice(0,500)+"...":N.content})]},F))]}),!S&&!k&&!b.thinking_preview&&!b.response_preview&&E.length===0&&u.jsx("div",{style:W.noContent,children:"No content recorded for this span"})]})]},b.id)})})]},_.session_id)})})]})},W={container:{height:"100%",overflow:"auto",backgroundColor:"#fafafa",padding:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},title:{fontSize:"20px",fontWeight:600,color:"#111827",margin:0},refreshBtn:{padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#fff",color:"#374151",cursor:"pointer",fontSize:"13px"},empty:{textAlign:"center",padding:"60px 20px",color:"#6b7280"},emptyHint:{fontSize:"13px",marginTop:"8px"},code:{backgroundColor:"#f3f4f6",padding:"2px 6px",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px"},list:{display:"flex",flexDirection:"column",gap:"8px"},sessionWrapper:{borderRadius:"8px",border:"1px solid #e5e7eb",backgroundColor:"#fff",overflow:"hidden"},sessionRow:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",cursor:"pointer",transition:"background-color 0.15s"},sessionRowExpanded:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},sessionRowLinked:{borderLeft:"3px solid #22c55e"},expandIcon:{color:"#9ca3af",fontSize:"10px",width:"12px"},sessionId:{fontFamily:"monospace",fontSize:"14px",fontWeight:600,color:"#0969da"},linkedBadge:{backgroundColor:"#dcfce7",color:"#16a34a",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:500},sessionTime:{color:"#6b7280",fontSize:"12px"},sessionDuration:{color:"#6b7280",fontSize:"12px"},tokenGroup:{display:"flex",gap:"8px",fontSize:"12px"},tokenIn:{color:"#16a34a"},tokenOut:{color:"#dc2626"},branch:{backgroundColor:"#dbeafe",color:"#1d4ed8",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",marginLeft:"auto"},spansContainer:{padding:"8px 16px 16px 28px",backgroundColor:"#fafafa"},spanEmpty:{color:"#9ca3af",fontSize:"13px",padding:"12px"},spanWrapper:{marginBottom:"4px"},spanRow:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},spanRowExpanded:{backgroundColor:"#fffbeb",borderColor:"#fcd34d",borderBottomLeftRadius:0,borderBottomRightRadius:0},spanNum:{fontFamily:"monospace",color:"#6b7280",minWidth:"35px"},spanDuration:{color:"#6b7280",minWidth:"50px"},tools:{color:"#ea580c",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200px"},nodeCount:{backgroundColor:"#dcfce7",color:"#16a34a",padding:"2px 6px",borderRadius:"4px",fontSize:"11px",fontWeight:500,marginLeft:"auto"},spanContent:{backgroundColor:"#fffbeb",border:"1px solid #fcd34d",borderTop:"none",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",padding:"12px"},contentSection:{marginBottom:"12px"},contentLabel:{fontSize:"11px",fontWeight:600,color:"#92400e",textTransform:"uppercase",marginBottom:"6px"},contentBox:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"10px",fontSize:"12px",lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"200px",overflow:"auto",color:"#374151"},thinkingBox:{backgroundColor:"#fef3c7",borderColor:"#fcd34d",color:"#92400e"},systemBox:{backgroundColor:"#f3e8ff",borderColor:"#c084fc",color:"#6b21a8",fontSize:"11px"},toolBlock:{marginBottom:"8px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",overflow:"hidden"},toolHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 10px",backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},toolName:{fontWeight:600,fontSize:"12px",color:"#ea580c"},toolType:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase"},toolContent:{padding:"8px 10px",fontSize:"11px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"120px",overflow:"auto",color:"#374151"},noContent:{color:"#9ca3af",fontSize:"12px",textAlign:"center",padding:"16px"}},ep=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),wL=()=>{const{graphData:e,gitHistory:t,roadmapItems:n,loading:r,error:i,lastUpdated:o}=JT({graphUrl:ep?"/api/graph":"./graph-data.json",gitHistoryUrl:"./git-history.json",roadmapUrl:ep?"/api/roadmap":"./roadmap-items.json",enableSSE:!1,pollInterval:ep?3e4:0}),[a,s]=C.useState(null),l=C.useMemo(()=>e?nR(e.nodes):[],[e]),c=C.useMemo(()=>{if(!e)return null;if(!a)return e;const g=e.nodes.filter(w=>dm(w)===a),v=new Set(g.map(w=>w.id)),p=e.edges.filter(w=>v.has(w.from_node_id)&&v.has(w.to_node_id));return{nodes:g,edges:p}},[e,a]),{chains:d,sessions:f,stats:h}=cR(c);return r?u.jsxs("div",{style:Br.loading,children:[u.jsx("div",{style:Br.spinner}),u.jsx("p",{children:"Loading decision graph..."})]}):i?u.jsxs("div",{style:Br.error,children:[u.jsx("h2",{children:"Error Loading Graph"}),u.jsx("p",{children:i}),u.jsxs("p",{style:Br.hint,children:["Make sure graph-data.json exists, or run ",u.jsx("code",{children:"deciduous serve"})," for live data."]})]}):!e||e.nodes.length===0?u.jsxs("div",{style:Br.empty,children:[u.jsx("h2",{children:"No Decision Data"}),u.jsx("p",{children:"The graph is empty. Start adding decisions!"}),u.jsx("pre",{style:Br.code,children:'deciduous add goal "My first goal" -c 90'})]}):u.jsx(VT,{children:u.jsx(fR,{stats:h,lastUpdated:o,branches:l,selectedBranch:a,onBranchChange:s,children:u.jsxs(BT,{children:[u.jsx(en,{path:"/",element:u.jsx(aL,{graphData:c,chains:d,gitHistory:t})}),u.jsx(en,{path:"/chains",element:u.jsx(SR,{graphData:c,chains:d,sessions:f,gitHistory:t})}),u.jsx(en,{path:"/timeline",element:u.jsx(TR,{graphData:c,gitHistory:t})}),u.jsx(en,{path:"/graph",element:u.jsx(K8,{graphData:c})}),u.jsx(en,{path:"/roadmap",element:u.jsx(dL,{graphData:c,roadmapItems:n})}),u.jsx(en,{path:"/story",element:u.jsx(gL,{graphData:c,gitHistory:t})}),u.jsx(en,{path:"/traces",element:u.jsx(_L,{})}),u.jsx(en,{path:"*",element:u.jsx(OT,{to:"/",replace:!0})})]})})})},Br={loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#57606a"},spinner:{width:"40px",height:"40px",border:"3px solid #d0d7de",borderTopColor:"#0969da",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},error:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#24292f",textAlign:"center",padding:"20px"},hint:{color:"#57606a",fontSize:"14px"},empty:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#ffffff",color:"#24292f",textAlign:"center",padding:"20px"},code:{backgroundColor:"#f6f8fa",border:"1px solid #d0d7de",padding:"15px 20px",borderRadius:"8px",fontFamily:"monospace",fontSize:"14px",color:"#0969da",marginTop:"10px"}};tp.createRoot(document.getElementById("root")).render(u.jsx(mg.StrictMode,{children:u.jsx(wL,{})}));</script>
    <style rel="stylesheet" crossorigin>*{box-sizing:border-box;margin:0;padding:0}html,body,#root{height:100%;width:100%}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:#fff;color:#24292f;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f6f8fa}::-webkit-scrollbar-thumb{background:#d0d7de;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#afb8c1}a{color:#0969da;text-decoration:none}a:hover{text-decoration:underline}:focus-visible{outline:2px solid #0969da;outline-offset:2px}::selection{background:#0969da33}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
